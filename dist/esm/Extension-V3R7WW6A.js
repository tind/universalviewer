import{a as Xn,h as Ps}from"./chunk-YGDRHOHU.js";import{a as Fs}from"./chunk-LV74NQZN.js";import{a as Ns}from"./chunk-BI2QTW7H.js";import{a as Li}from"./chunk-2SUYJOML.js";import{b as Ds,c as Rs,f as Ms,h as Os,i as ks,k as Ls,l as Bs,m as Us}from"./chunk-MM47IX46.js";import{a as eo,c as Un}from"./chunk-UYLDA6E6.js";import{b as Yn,n as Or,p as Ci}from"./chunk-4W27INWC.js";import{b as xs,g as os}from"./chunk-MP7EINQY.js";import{a as cr,b as ss,c as Rn}from"./chunk-YAXTLTJC.js";var Kn=ss((js,Fr)=>{(function(t,d){"use strict";typeof Fr=="object"&&typeof Fr.exports=="object"?Fr.exports=t.document?d(t,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return d(o)}:d(t)})(typeof window!="undefined"?window:js,function(t,d){"use strict";var o=[],u=Object.getPrototypeOf,p=o.slice,y=o.flat?function(f){return o.flat.call(f)}:function(f){return o.concat.apply([],f)},c=o.push,_=o.indexOf,v={},E=v.toString,m=v.hasOwnProperty,w=m.toString,A=w.call(Object),b={},D=function(T){return typeof T=="function"&&typeof T.nodeType!="number"},P=function(T){return T!=null&&T===T.window},R=t.document,j={type:!0,src:!0,nonce:!0,noModule:!0};function W(f,T,M){M=M||R;var k,X,te=M.createElement("script");if(te.text=f,T)for(k in j)X=T[k]||T.getAttribute&&T.getAttribute(k),X&&te.setAttribute(k,X);M.head.appendChild(te).parentNode.removeChild(te)}function H(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?v[E.call(f)]||"object":typeof f}var S="3.5.0",l=function(f,T){return new l.fn.init(f,T)};l.fn=l.prototype={jquery:S,constructor:l,length:0,toArray:function(){return p.call(this)},get:function(f){return f==null?p.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var T=l.merge(this.constructor(),f);return T.prevObject=this,T},each:function(f){return l.each(this,f)},map:function(f){return this.pushStack(l.map(this,function(T,M){return f.call(T,M,T)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(f,T){return(T+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(f,T){return T%2}))},eq:function(f){var T=this.length,M=+f+(f<0?T:0);return this.pushStack(M>=0&&M<T?[this[M]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},l.extend=l.fn.extend=function(){var f,T,M,k,X,te,ge=arguments[0]||{},Le=1,He=arguments.length,$e=!1;for(typeof ge=="boolean"&&($e=ge,ge=arguments[Le]||{},Le++),typeof ge!="object"&&!D(ge)&&(ge={}),Le===He&&(ge=this,Le--);Le<He;Le++)if((f=arguments[Le])!=null)for(T in f)k=f[T],!(T==="__proto__"||ge===k)&&($e&&k&&(l.isPlainObject(k)||(X=Array.isArray(k)))?(M=ge[T],X&&!Array.isArray(M)?te=[]:!X&&!l.isPlainObject(M)?te={}:te=M,X=!1,ge[T]=l.extend($e,te,k)):k!==void 0&&(ge[T]=k));return ge},l.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var T,M;return!f||E.call(f)!=="[object Object]"?!1:(T=u(f),T?(M=m.call(T,"constructor")&&T.constructor,typeof M=="function"&&w.call(M)===A):!0)},isEmptyObject:function(f){var T;for(T in f)return!1;return!0},globalEval:function(f,T,M){W(f,{nonce:T&&T.nonce},M)},each:function(f,T){var M,k=0;if(Y(f))for(M=f.length;k<M&&T.call(f[k],k,f[k])!==!1;k++);else for(k in f)if(T.call(f[k],k,f[k])===!1)break;return f},makeArray:function(f,T){var M=T||[];return f!=null&&(Y(Object(f))?l.merge(M,typeof f=="string"?[f]:f):c.call(M,f)),M},inArray:function(f,T,M){return T==null?-1:_.call(T,f,M)},merge:function(f,T){for(var M=+T.length,k=0,X=f.length;k<M;k++)f[X++]=T[k];return f.length=X,f},grep:function(f,T,M){for(var k,X=[],te=0,ge=f.length,Le=!M;te<ge;te++)k=!T(f[te],te),k!==Le&&X.push(f[te]);return X},map:function(f,T,M){var k,X,te=0,ge=[];if(Y(f))for(k=f.length;te<k;te++)X=T(f[te],te,M),X!=null&&ge.push(X);else for(te in f)X=T(f[te],te,M),X!=null&&ge.push(X);return y(ge)},guid:1,support:b}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=o[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,T){v["[object "+T+"]"]=T.toLowerCase()});function Y(f){var T=!!f&&"length"in f&&f.length,M=H(f);return D(f)||P(f)?!1:M==="array"||T===0||typeof T=="number"&&T>0&&T-1 in f}var C=function(f){var T,M,k,X,te,ge,Le,He,$e,dt,Nt,at,_t,Kt,si,$t,Si,xi,Xi,_i="sizzle"+1*new Date,ri=f.document,Ui=0,hi=0,bi=Ln(),Fn=Ln(),Vn=Ln(),Ki=Ln(),wn=function(_e,ke){return _e===ke&&(Nt=!0),0},bn={}.hasOwnProperty,qi=[],mn=qi.pop,$i=qi.push,vn=qi.push,Dr=qi.slice,In=function(_e,ke){for(var Ve=0,vt=_e.length;Ve<vt;Ve++)if(_e[Ve]===ke)return Ve;return-1},rr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",mi="[\\x20\\t\\r\\n\\f]",cn="(?:\\\\[\\da-fA-F]{1,6}"+mi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Rr="\\["+mi+"*("+cn+")(?:"+mi+"*([*^$|!~]?=)"+mi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+cn+"))|)"+mi+"*\\]",sr=":("+cn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Rr+")*)|.*)\\)|)",ts=new RegExp(mi+"+","g"),kn=new RegExp("^"+mi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+mi+"+$","g"),is=new RegExp("^"+mi+"*,"+mi+"*"),or=new RegExp("^"+mi+"*([>+~]|"+mi+")"+mi+"*"),ar=new RegExp(mi+"|>"),ns=new RegExp(sr),rs=new RegExp("^"+cn+"$"),_n={ID:new RegExp("^#("+cn+")"),CLASS:new RegExp("^\\.("+cn+")"),TAG:new RegExp("^("+cn+"|[*])"),ATTR:new RegExp("^"+Rr),PSEUDO:new RegExp("^"+sr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+mi+"*(even|odd|(([+-]|)(\\d*)n|)"+mi+"*(?:([+-]|)"+mi+"*(\\d+)|))"+mi+"*\\)|)","i"),bool:new RegExp("^(?:"+rr+")$","i"),needsContext:new RegExp("^"+mi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+mi+"*((?:-\\d)?\\d*)"+mi+"*\\)|)(?=[^-]|$)","i")},Mr=/HTML$/i,Gn=/^(?:input|select|textarea|button)$/i,lr=/^h\d$/i,zi=/^[^{]+\{\s*\[native \w/,en=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tn=/[+~]/,an=new RegExp("\\\\[\\da-fA-F]{1,6}"+mi+"?|\\\\([^\\r\\n\\f])","g"),ki=function(_e,ke){var Ve="0x"+_e.slice(1)-65536;return ke||(Ve<0?String.fromCharCode(Ve+65536):String.fromCharCode(Ve>>10|55296,Ve&1023|56320))},Pr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ui=function(_e,ke){return ke?_e==="\0"?"\uFFFD":_e.slice(0,-1)+"\\"+_e.charCodeAt(_e.length-1).toString(16)+" ":"\\"+_e},yn=function(){at()},Nr=Dn(function(_e){return _e.disabled===!0&&_e.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{vn.apply(qi=Dr.call(ri.childNodes),ri.childNodes),qi[ri.childNodes.length].nodeType}catch{vn={apply:qi.length?function(ke,Ve){$i.apply(ke,Dr.call(Ve))}:function(ke,Ve){for(var vt=ke.length,Ge=0;ke[vt++]=Ve[Ge++];);ke.length=vt-1}}}function fi(_e,ke,Ve,vt){var Ge,ft,Mt,Ie,Qe,St,jt,Zt=ke&&ke.ownerDocument,oi=ke?ke.nodeType:9;if(Ve=Ve||[],typeof _e!="string"||!_e||oi!==1&&oi!==9&&oi!==11)return Ve;if(!vt&&(at(ke),ke=ke||_t,si)){if(oi!==11&&(Qe=en.exec(_e)))if(Ge=Qe[1]){if(oi===9)if(Mt=ke.getElementById(Ge)){if(Mt.id===Ge)return Ve.push(Mt),Ve}else return Ve;else if(Zt&&(Mt=Zt.getElementById(Ge))&&Xi(ke,Mt)&&Mt.id===Ge)return Ve.push(Mt),Ve}else{if(Qe[2])return vn.apply(Ve,ke.getElementsByTagName(_e)),Ve;if((Ge=Qe[3])&&M.getElementsByClassName&&ke.getElementsByClassName)return vn.apply(Ve,ke.getElementsByClassName(Ge)),Ve}if(M.qsa&&!Ki[_e+" "]&&(!$t||!$t.test(_e))&&(oi!==1||ke.nodeName.toLowerCase()!=="object")){if(jt=_e,Zt=ke,oi===1&&(ar.test(_e)||or.test(_e))){for(Zt=tn.test(_e)&&Mi(ke.parentNode)||ke,(Zt!==ke||!M.scope)&&((Ie=ke.getAttribute("id"))?Ie=Ie.replace(Pr,ui):ke.setAttribute("id",Ie=_i)),St=ge(_e),ft=St.length;ft--;)St[ft]=(Ie?"#"+Ie:":scope")+" "+Tn(St[ft]);jt=St.join(",")}try{return vn.apply(Ve,Zt.querySelectorAll(jt)),Ve}catch{Ki(_e,!0)}finally{Ie===_i&&ke.removeAttribute("id")}}}return He(_e.replace(kn,"$1"),ke,Ve,vt)}function Ln(){var _e=[];function ke(Ve,vt){return _e.push(Ve+" ")>k.cacheLength&&delete ke[_e.shift()],ke[Ve+" "]=vt}return ke}function Di(_e){return _e[_i]=!0,_e}function Hi(_e){var ke=_t.createElement("fieldset");try{return!!_e(ke)}catch{return!1}finally{ke.parentNode&&ke.parentNode.removeChild(ke),ke=null}}function Qi(_e,ke){for(var Ve=_e.split("|"),vt=Ve.length;vt--;)k.attrHandle[Ve[vt]]=ke}function Ni(_e,ke){var Ve=ke&&_e,vt=Ve&&_e.nodeType===1&&ke.nodeType===1&&_e.sourceIndex-ke.sourceIndex;if(vt)return vt;if(Ve){for(;Ve=Ve.nextSibling;)if(Ve===ke)return-1}return _e?1:-1}function Pi(_e){return function(ke){var Ve=ke.nodeName.toLowerCase();return Ve==="input"&&ke.type===_e}}function Bn(_e){return function(ke){var Ve=ke.nodeName.toLowerCase();return(Ve==="input"||Ve==="button")&&ke.type===_e}}function gi(_e){return function(ke){return"form"in ke?ke.parentNode&&ke.disabled===!1?"label"in ke?"label"in ke.parentNode?ke.parentNode.disabled===_e:ke.disabled===_e:ke.isDisabled===_e||ke.isDisabled!==!_e&&Nr(ke)===_e:ke.disabled===_e:"label"in ke?ke.disabled===_e:!1}}function dn(_e){return Di(function(ke){return ke=+ke,Di(function(Ve,vt){for(var Ge,ft=_e([],Ve.length,ke),Mt=ft.length;Mt--;)Ve[Ge=ft[Mt]]&&(Ve[Ge]=!(vt[Ge]=Ve[Ge]))})})}function Mi(_e){return _e&&typeof _e.getElementsByTagName!="undefined"&&_e}M=fi.support={},te=fi.isXML=function(_e){var ke=_e.namespaceURI,Ve=(_e.ownerDocument||_e).documentElement;return!Mr.test(ke||Ve&&Ve.nodeName||"HTML")},at=fi.setDocument=function(_e){var ke,Ve,vt=_e?_e.ownerDocument||_e:ri;return vt==_t||vt.nodeType!==9||!vt.documentElement||(_t=vt,Kt=_t.documentElement,si=!te(_t),ri!=_t&&(Ve=_t.defaultView)&&Ve.top!==Ve&&(Ve.addEventListener?Ve.addEventListener("unload",yn,!1):Ve.attachEvent&&Ve.attachEvent("onunload",yn)),M.scope=Hi(function(Ge){return Kt.appendChild(Ge).appendChild(_t.createElement("div")),typeof Ge.querySelectorAll!="undefined"&&!Ge.querySelectorAll(":scope fieldset div").length}),M.attributes=Hi(function(Ge){return Ge.className="i",!Ge.getAttribute("className")}),M.getElementsByTagName=Hi(function(Ge){return Ge.appendChild(_t.createComment("")),!Ge.getElementsByTagName("*").length}),M.getElementsByClassName=zi.test(_t.getElementsByClassName),M.getById=Hi(function(Ge){return Kt.appendChild(Ge).id=_i,!_t.getElementsByName||!_t.getElementsByName(_i).length}),M.getById?(k.filter.ID=function(Ge){var ft=Ge.replace(an,ki);return function(Mt){return Mt.getAttribute("id")===ft}},k.find.ID=function(Ge,ft){if(typeof ft.getElementById!="undefined"&&si){var Mt=ft.getElementById(Ge);return Mt?[Mt]:[]}}):(k.filter.ID=function(Ge){var ft=Ge.replace(an,ki);return function(Mt){var Ie=typeof Mt.getAttributeNode!="undefined"&&Mt.getAttributeNode("id");return Ie&&Ie.value===ft}},k.find.ID=function(Ge,ft){if(typeof ft.getElementById!="undefined"&&si){var Mt,Ie,Qe,St=ft.getElementById(Ge);if(St){if(Mt=St.getAttributeNode("id"),Mt&&Mt.value===Ge)return[St];for(Qe=ft.getElementsByName(Ge),Ie=0;St=Qe[Ie++];)if(Mt=St.getAttributeNode("id"),Mt&&Mt.value===Ge)return[St]}return[]}}),k.find.TAG=M.getElementsByTagName?function(Ge,ft){if(typeof ft.getElementsByTagName!="undefined")return ft.getElementsByTagName(Ge);if(M.qsa)return ft.querySelectorAll(Ge)}:function(Ge,ft){var Mt,Ie=[],Qe=0,St=ft.getElementsByTagName(Ge);if(Ge==="*"){for(;Mt=St[Qe++];)Mt.nodeType===1&&Ie.push(Mt);return Ie}return St},k.find.CLASS=M.getElementsByClassName&&function(Ge,ft){if(typeof ft.getElementsByClassName!="undefined"&&si)return ft.getElementsByClassName(Ge)},Si=[],$t=[],(M.qsa=zi.test(_t.querySelectorAll))&&(Hi(function(Ge){var ft;Kt.appendChild(Ge).innerHTML="<a id='"+_i+"'></a><select id='"+_i+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ge.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+mi+`*(?:''|"")`),Ge.querySelectorAll("[selected]").length||$t.push("\\["+mi+"*(?:value|"+rr+")"),Ge.querySelectorAll("[id~="+_i+"-]").length||$t.push("~="),ft=_t.createElement("input"),ft.setAttribute("name",""),Ge.appendChild(ft),Ge.querySelectorAll("[name='']").length||$t.push("\\["+mi+"*name"+mi+"*="+mi+`*(?:''|"")`),Ge.querySelectorAll(":checked").length||$t.push(":checked"),Ge.querySelectorAll("a#"+_i+"+*").length||$t.push(".#.+[+~]"),Ge.querySelectorAll("\\\f"),$t.push("[\\r\\n\\f]")}),Hi(function(Ge){Ge.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ft=_t.createElement("input");ft.setAttribute("type","hidden"),Ge.appendChild(ft).setAttribute("name","D"),Ge.querySelectorAll("[name=d]").length&&$t.push("name"+mi+"*[*^$|!~]?="),Ge.querySelectorAll(":enabled").length!==2&&$t.push(":enabled",":disabled"),Kt.appendChild(Ge).disabled=!0,Ge.querySelectorAll(":disabled").length!==2&&$t.push(":enabled",":disabled"),Ge.querySelectorAll("*,:x"),$t.push(",.*:")})),(M.matchesSelector=zi.test(xi=Kt.matches||Kt.webkitMatchesSelector||Kt.mozMatchesSelector||Kt.oMatchesSelector||Kt.msMatchesSelector))&&Hi(function(Ge){M.disconnectedMatch=xi.call(Ge,"*"),xi.call(Ge,"[s!='']:x"),Si.push("!=",sr)}),$t=$t.length&&new RegExp($t.join("|")),Si=Si.length&&new RegExp(Si.join("|")),ke=zi.test(Kt.compareDocumentPosition),Xi=ke||zi.test(Kt.contains)?function(Ge,ft){var Mt=Ge.nodeType===9?Ge.documentElement:Ge,Ie=ft&&ft.parentNode;return Ge===Ie||!!(Ie&&Ie.nodeType===1&&(Mt.contains?Mt.contains(Ie):Ge.compareDocumentPosition&&Ge.compareDocumentPosition(Ie)&16))}:function(Ge,ft){if(ft){for(;ft=ft.parentNode;)if(ft===Ge)return!0}return!1},wn=ke?function(Ge,ft){if(Ge===ft)return Nt=!0,0;var Mt=!Ge.compareDocumentPosition-!ft.compareDocumentPosition;return Mt||(Mt=(Ge.ownerDocument||Ge)==(ft.ownerDocument||ft)?Ge.compareDocumentPosition(ft):1,Mt&1||!M.sortDetached&&ft.compareDocumentPosition(Ge)===Mt?Ge==_t||Ge.ownerDocument==ri&&Xi(ri,Ge)?-1:ft==_t||ft.ownerDocument==ri&&Xi(ri,ft)?1:dt?In(dt,Ge)-In(dt,ft):0:Mt&4?-1:1)}:function(Ge,ft){if(Ge===ft)return Nt=!0,0;var Mt,Ie=0,Qe=Ge.parentNode,St=ft.parentNode,jt=[Ge],Zt=[ft];if(!Qe||!St)return Ge==_t?-1:ft==_t?1:Qe?-1:St?1:dt?In(dt,Ge)-In(dt,ft):0;if(Qe===St)return Ni(Ge,ft);for(Mt=Ge;Mt=Mt.parentNode;)jt.unshift(Mt);for(Mt=ft;Mt=Mt.parentNode;)Zt.unshift(Mt);for(;jt[Ie]===Zt[Ie];)Ie++;return Ie?Ni(jt[Ie],Zt[Ie]):jt[Ie]==ri?-1:Zt[Ie]==ri?1:0}),_t},fi.matches=function(_e,ke){return fi(_e,null,null,ke)},fi.matchesSelector=function(_e,ke){if(at(_e),M.matchesSelector&&si&&!Ki[ke+" "]&&(!Si||!Si.test(ke))&&(!$t||!$t.test(ke)))try{var Ve=xi.call(_e,ke);if(Ve||M.disconnectedMatch||_e.document&&_e.document.nodeType!==11)return Ve}catch{Ki(ke,!0)}return fi(ke,_t,null,[_e]).length>0},fi.contains=function(_e,ke){return(_e.ownerDocument||_e)!=_t&&at(_e),Xi(_e,ke)},fi.attr=function(_e,ke){(_e.ownerDocument||_e)!=_t&&at(_e);var Ve=k.attrHandle[ke.toLowerCase()],vt=Ve&&bn.call(k.attrHandle,ke.toLowerCase())?Ve(_e,ke,!si):void 0;return vt!==void 0?vt:M.attributes||!si?_e.getAttribute(ke):(vt=_e.getAttributeNode(ke))&&vt.specified?vt.value:null},fi.escape=function(_e){return(_e+"").replace(Pr,ui)},fi.error=function(_e){throw new Error("Syntax error, unrecognized expression: "+_e)},fi.uniqueSort=function(_e){var ke,Ve=[],vt=0,Ge=0;if(Nt=!M.detectDuplicates,dt=!M.sortStable&&_e.slice(0),_e.sort(wn),Nt){for(;ke=_e[Ge++];)ke===_e[Ge]&&(vt=Ve.push(Ge));for(;vt--;)_e.splice(Ve[vt],1)}return dt=null,_e},X=fi.getText=function(_e){var ke,Ve="",vt=0,Ge=_e.nodeType;if(Ge){if(Ge===1||Ge===9||Ge===11){if(typeof _e.textContent=="string")return _e.textContent;for(_e=_e.firstChild;_e;_e=_e.nextSibling)Ve+=X(_e)}else if(Ge===3||Ge===4)return _e.nodeValue}else for(;ke=_e[vt++];)Ve+=X(ke);return Ve},k=fi.selectors={cacheLength:50,createPseudo:Di,match:_n,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_e){return _e[1]=_e[1].replace(an,ki),_e[3]=(_e[3]||_e[4]||_e[5]||"").replace(an,ki),_e[2]==="~="&&(_e[3]=" "+_e[3]+" "),_e.slice(0,4)},CHILD:function(_e){return _e[1]=_e[1].toLowerCase(),_e[1].slice(0,3)==="nth"?(_e[3]||fi.error(_e[0]),_e[4]=+(_e[4]?_e[5]+(_e[6]||1):2*(_e[3]==="even"||_e[3]==="odd")),_e[5]=+(_e[7]+_e[8]||_e[3]==="odd")):_e[3]&&fi.error(_e[0]),_e},PSEUDO:function(_e){var ke,Ve=!_e[6]&&_e[2];return _n.CHILD.test(_e[0])?null:(_e[3]?_e[2]=_e[4]||_e[5]||"":Ve&&ns.test(Ve)&&(ke=ge(Ve,!0))&&(ke=Ve.indexOf(")",Ve.length-ke)-Ve.length)&&(_e[0]=_e[0].slice(0,ke),_e[2]=Ve.slice(0,ke)),_e.slice(0,3))}},filter:{TAG:function(_e){var ke=_e.replace(an,ki).toLowerCase();return _e==="*"?function(){return!0}:function(Ve){return Ve.nodeName&&Ve.nodeName.toLowerCase()===ke}},CLASS:function(_e){var ke=bi[_e+" "];return ke||(ke=new RegExp("(^|"+mi+")"+_e+"("+mi+"|$)"))&&bi(_e,function(Ve){return ke.test(typeof Ve.className=="string"&&Ve.className||typeof Ve.getAttribute!="undefined"&&Ve.getAttribute("class")||"")})},ATTR:function(_e,ke,Ve){return function(vt){var Ge=fi.attr(vt,_e);return Ge==null?ke==="!=":ke?(Ge+="",ke==="="?Ge===Ve:ke==="!="?Ge!==Ve:ke==="^="?Ve&&Ge.indexOf(Ve)===0:ke==="*="?Ve&&Ge.indexOf(Ve)>-1:ke==="$="?Ve&&Ge.slice(-Ve.length)===Ve:ke==="~="?(" "+Ge.replace(ts," ")+" ").indexOf(Ve)>-1:ke==="|="?Ge===Ve||Ge.slice(0,Ve.length+1)===Ve+"-":!1):!0}},CHILD:function(_e,ke,Ve,vt,Ge){var ft=_e.slice(0,3)!=="nth",Mt=_e.slice(-4)!=="last",Ie=ke==="of-type";return vt===1&&Ge===0?function(Qe){return!!Qe.parentNode}:function(Qe,St,jt){var Zt,oi,vi,ti,Oi,Yi,rn=ft!==Mt?"nextSibling":"previousSibling",Ii=Qe.parentNode,ur=Ie&&Qe.nodeName.toLowerCase(),fr=!jt&&!Ie,sn=!1;if(Ii){if(ft){for(;rn;){for(ti=Qe;ti=ti[rn];)if(Ie?ti.nodeName.toLowerCase()===ur:ti.nodeType===1)return!1;Yi=rn=_e==="only"&&!Yi&&"nextSibling"}return!0}if(Yi=[Mt?Ii.firstChild:Ii.lastChild],Mt&&fr){for(ti=Ii,vi=ti[_i]||(ti[_i]={}),oi=vi[ti.uniqueID]||(vi[ti.uniqueID]={}),Zt=oi[_e]||[],Oi=Zt[0]===Ui&&Zt[1],sn=Oi&&Zt[2],ti=Oi&&Ii.childNodes[Oi];ti=++Oi&&ti&&ti[rn]||(sn=Oi=0)||Yi.pop();)if(ti.nodeType===1&&++sn&&ti===Qe){oi[_e]=[Ui,Oi,sn];break}}else if(fr&&(ti=Qe,vi=ti[_i]||(ti[_i]={}),oi=vi[ti.uniqueID]||(vi[ti.uniqueID]={}),Zt=oi[_e]||[],Oi=Zt[0]===Ui&&Zt[1],sn=Oi),sn===!1)for(;(ti=++Oi&&ti&&ti[rn]||(sn=Oi=0)||Yi.pop())&&!((Ie?ti.nodeName.toLowerCase()===ur:ti.nodeType===1)&&++sn&&(fr&&(vi=ti[_i]||(ti[_i]={}),oi=vi[ti.uniqueID]||(vi[ti.uniqueID]={}),oi[_e]=[Ui,sn]),ti===Qe)););return sn-=Ge,sn===vt||sn%vt==0&&sn/vt>=0}}},PSEUDO:function(_e,ke){var Ve,vt=k.pseudos[_e]||k.setFilters[_e.toLowerCase()]||fi.error("unsupported pseudo: "+_e);return vt[_i]?vt(ke):vt.length>1?(Ve=[_e,_e,"",ke],k.setFilters.hasOwnProperty(_e.toLowerCase())?Di(function(Ge,ft){for(var Mt,Ie=vt(Ge,ke),Qe=Ie.length;Qe--;)Mt=In(Ge,Ie[Qe]),Ge[Mt]=!(ft[Mt]=Ie[Qe])}):function(Ge){return vt(Ge,0,Ve)}):vt}},pseudos:{not:Di(function(_e){var ke=[],Ve=[],vt=Le(_e.replace(kn,"$1"));return vt[_i]?Di(function(Ge,ft,Mt,Ie){for(var Qe,St=vt(Ge,null,Ie,[]),jt=Ge.length;jt--;)(Qe=St[jt])&&(Ge[jt]=!(ft[jt]=Qe))}):function(Ge,ft,Mt){return ke[0]=Ge,vt(ke,null,Mt,Ve),ke[0]=null,!Ve.pop()}}),has:Di(function(_e){return function(ke){return fi(_e,ke).length>0}}),contains:Di(function(_e){return _e=_e.replace(an,ki),function(ke){return(ke.textContent||X(ke)).indexOf(_e)>-1}}),lang:Di(function(_e){return rs.test(_e||"")||fi.error("unsupported lang: "+_e),_e=_e.replace(an,ki).toLowerCase(),function(ke){var Ve;do if(Ve=si?ke.lang:ke.getAttribute("xml:lang")||ke.getAttribute("lang"))return Ve=Ve.toLowerCase(),Ve===_e||Ve.indexOf(_e+"-")===0;while((ke=ke.parentNode)&&ke.nodeType===1);return!1}}),target:function(_e){var ke=f.location&&f.location.hash;return ke&&ke.slice(1)===_e.id},root:function(_e){return _e===Kt},focus:function(_e){return _e===_t.activeElement&&(!_t.hasFocus||_t.hasFocus())&&!!(_e.type||_e.href||~_e.tabIndex)},enabled:gi(!1),disabled:gi(!0),checked:function(_e){var ke=_e.nodeName.toLowerCase();return ke==="input"&&!!_e.checked||ke==="option"&&!!_e.selected},selected:function(_e){return _e.parentNode&&_e.parentNode.selectedIndex,_e.selected===!0},empty:function(_e){for(_e=_e.firstChild;_e;_e=_e.nextSibling)if(_e.nodeType<6)return!1;return!0},parent:function(_e){return!k.pseudos.empty(_e)},header:function(_e){return lr.test(_e.nodeName)},input:function(_e){return Gn.test(_e.nodeName)},button:function(_e){var ke=_e.nodeName.toLowerCase();return ke==="input"&&_e.type==="button"||ke==="button"},text:function(_e){var ke;return _e.nodeName.toLowerCase()==="input"&&_e.type==="text"&&((ke=_e.getAttribute("type"))==null||ke.toLowerCase()==="text")},first:dn(function(){return[0]}),last:dn(function(_e,ke){return[ke-1]}),eq:dn(function(_e,ke,Ve){return[Ve<0?Ve+ke:Ve]}),even:dn(function(_e,ke){for(var Ve=0;Ve<ke;Ve+=2)_e.push(Ve);return _e}),odd:dn(function(_e,ke){for(var Ve=1;Ve<ke;Ve+=2)_e.push(Ve);return _e}),lt:dn(function(_e,ke,Ve){for(var vt=Ve<0?Ve+ke:Ve>ke?ke:Ve;--vt>=0;)_e.push(vt);return _e}),gt:dn(function(_e,ke,Ve){for(var vt=Ve<0?Ve+ke:Ve;++vt<ke;)_e.push(vt);return _e})}},k.pseudos.nth=k.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[T]=Pi(T);for(T in{submit:!0,reset:!0})k.pseudos[T]=Bn(T);function Vi(){}Vi.prototype=k.filters=k.pseudos,k.setFilters=new Vi,ge=fi.tokenize=function(_e,ke){var Ve,vt,Ge,ft,Mt,Ie,Qe,St=Fn[_e+" "];if(St)return ke?0:St.slice(0);for(Mt=_e,Ie=[],Qe=k.preFilter;Mt;){(!Ve||(vt=is.exec(Mt)))&&(vt&&(Mt=Mt.slice(vt[0].length)||Mt),Ie.push(Ge=[])),Ve=!1,(vt=or.exec(Mt))&&(Ve=vt.shift(),Ge.push({value:Ve,type:vt[0].replace(kn," ")}),Mt=Mt.slice(Ve.length));for(ft in k.filter)(vt=_n[ft].exec(Mt))&&(!Qe[ft]||(vt=Qe[ft](vt)))&&(Ve=vt.shift(),Ge.push({value:Ve,type:ft,matches:vt}),Mt=Mt.slice(Ve.length));if(!Ve)break}return ke?Mt.length:Mt?fi.error(_e):Fn(_e,Ie).slice(0)};function Tn(_e){for(var ke=0,Ve=_e.length,vt="";ke<Ve;ke++)vt+=_e[ke].value;return vt}function Dn(_e,ke,Ve){var vt=ke.dir,Ge=ke.next,ft=Ge||vt,Mt=Ve&&ft==="parentNode",Ie=hi++;return ke.first?function(Qe,St,jt){for(;Qe=Qe[vt];)if(Qe.nodeType===1||Mt)return _e(Qe,St,jt);return!1}:function(Qe,St,jt){var Zt,oi,vi,ti=[Ui,Ie];if(jt){for(;Qe=Qe[vt];)if((Qe.nodeType===1||Mt)&&_e(Qe,St,jt))return!0}else for(;Qe=Qe[vt];)if(Qe.nodeType===1||Mt)if(vi=Qe[_i]||(Qe[_i]={}),oi=vi[Qe.uniqueID]||(vi[Qe.uniqueID]={}),Ge&&Ge===Qe.nodeName.toLowerCase())Qe=Qe[vt]||Qe;else{if((Zt=oi[ft])&&Zt[0]===Ui&&Zt[1]===Ie)return ti[2]=Zt[2];if(oi[ft]=ti,ti[2]=_e(Qe,St,jt))return!0}return!1}}function Gi(_e){return _e.length>1?function(ke,Ve,vt){for(var Ge=_e.length;Ge--;)if(!_e[Ge](ke,Ve,vt))return!1;return!0}:_e[0]}function nn(_e,ke,Ve){for(var vt=0,Ge=ke.length;vt<Ge;vt++)fi(_e,ke[vt],Ve);return Ve}function Jt(_e,ke,Ve,vt,Ge){for(var ft,Mt=[],Ie=0,Qe=_e.length,St=ke!=null;Ie<Qe;Ie++)(ft=_e[Ie])&&(!Ve||Ve(ft,vt,Ge))&&(Mt.push(ft),St&&ke.push(Ie));return Mt}function ln(_e,ke,Ve,vt,Ge,ft){return vt&&!vt[_i]&&(vt=ln(vt)),Ge&&!Ge[_i]&&(Ge=ln(Ge,ft)),Di(function(Mt,Ie,Qe,St){var jt,Zt,oi,vi=[],ti=[],Oi=Ie.length,Yi=Mt||nn(ke||"*",Qe.nodeType?[Qe]:Qe,[]),rn=_e&&(Mt||!ke)?Jt(Yi,vi,_e,Qe,St):Yi,Ii=Ve?Ge||(Mt?_e:Oi||vt)?[]:Ie:rn;if(Ve&&Ve(rn,Ii,Qe,St),vt)for(jt=Jt(Ii,ti),vt(jt,[],Qe,St),Zt=jt.length;Zt--;)(oi=jt[Zt])&&(Ii[ti[Zt]]=!(rn[ti[Zt]]=oi));if(Mt){if(Ge||_e){if(Ge){for(jt=[],Zt=Ii.length;Zt--;)(oi=Ii[Zt])&&jt.push(rn[Zt]=oi);Ge(null,Ii=[],jt,St)}for(Zt=Ii.length;Zt--;)(oi=Ii[Zt])&&(jt=Ge?In(Mt,oi):vi[Zt])>-1&&(Mt[jt]=!(Ie[jt]=oi))}}else Ii=Jt(Ii===Ie?Ii.splice(Oi,Ii.length):Ii),Ge?Ge(null,Ie,Ii,St):vn.apply(Ie,Ii)})}function un(_e){for(var ke,Ve,vt,Ge=_e.length,ft=k.relative[_e[0].type],Mt=ft||k.relative[" "],Ie=ft?1:0,Qe=Dn(function(Zt){return Zt===ke},Mt,!0),St=Dn(function(Zt){return In(ke,Zt)>-1},Mt,!0),jt=[function(Zt,oi,vi){var ti=!ft&&(vi||oi!==$e)||((ke=oi).nodeType?Qe(Zt,oi,vi):St(Zt,oi,vi));return ke=null,ti}];Ie<Ge;Ie++)if(Ve=k.relative[_e[Ie].type])jt=[Dn(Gi(jt),Ve)];else{if(Ve=k.filter[_e[Ie].type].apply(null,_e[Ie].matches),Ve[_i]){for(vt=++Ie;vt<Ge&&!k.relative[_e[vt].type];vt++);return ln(Ie>1&&Gi(jt),Ie>1&&Tn(_e.slice(0,Ie-1).concat({value:_e[Ie-2].type===" "?"*":""})).replace(kn,"$1"),Ve,Ie<vt&&un(_e.slice(Ie,vt)),vt<Ge&&un(_e=_e.slice(vt)),vt<Ge&&Tn(_e))}jt.push(Ve)}return Gi(jt)}function wi(_e,ke){var Ve=ke.length>0,vt=_e.length>0,Ge=function(ft,Mt,Ie,Qe,St){var jt,Zt,oi,vi=0,ti="0",Oi=ft&&[],Yi=[],rn=$e,Ii=ft||vt&&k.find.TAG("*",St),ur=Ui+=rn==null?1:Math.random()||.1,fr=Ii.length;for(St&&($e=Mt==_t||Mt||St);ti!==fr&&(jt=Ii[ti])!=null;ti++){if(vt&&jt){for(Zt=0,!Mt&&jt.ownerDocument!=_t&&(at(jt),Ie=!si);oi=_e[Zt++];)if(oi(jt,Mt||_t,Ie)){Qe.push(jt);break}St&&(Ui=ur)}Ve&&((jt=!oi&&jt)&&vi--,ft&&Oi.push(jt))}if(vi+=ti,Ve&&ti!==vi){for(Zt=0;oi=ke[Zt++];)oi(Oi,Yi,Mt,Ie);if(ft){if(vi>0)for(;ti--;)Oi[ti]||Yi[ti]||(Yi[ti]=mn.call(Qe));Yi=Jt(Yi)}vn.apply(Qe,Yi),St&&!ft&&Yi.length>0&&vi+ke.length>1&&fi.uniqueSort(Qe)}return St&&(Ui=ur,$e=rn),Oi};return Ve?Di(Ge):Ge}return Le=fi.compile=function(_e,ke){var Ve,vt=[],Ge=[],ft=Vn[_e+" "];if(!ft){for(ke||(ke=ge(_e)),Ve=ke.length;Ve--;)ft=un(ke[Ve]),ft[_i]?vt.push(ft):Ge.push(ft);ft=Vn(_e,wi(Ge,vt)),ft.selector=_e}return ft},He=fi.select=function(_e,ke,Ve,vt){var Ge,ft,Mt,Ie,Qe,St=typeof _e=="function"&&_e,jt=!vt&&ge(_e=St.selector||_e);if(Ve=Ve||[],jt.length===1){if(ft=jt[0]=jt[0].slice(0),ft.length>2&&(Mt=ft[0]).type==="ID"&&ke.nodeType===9&&si&&k.relative[ft[1].type]){if(ke=(k.find.ID(Mt.matches[0].replace(an,ki),ke)||[])[0],ke)St&&(ke=ke.parentNode);else return Ve;_e=_e.slice(ft.shift().value.length)}for(Ge=_n.needsContext.test(_e)?0:ft.length;Ge--&&(Mt=ft[Ge],!k.relative[Ie=Mt.type]);)if((Qe=k.find[Ie])&&(vt=Qe(Mt.matches[0].replace(an,ki),tn.test(ft[0].type)&&Mi(ke.parentNode)||ke))){if(ft.splice(Ge,1),_e=vt.length&&Tn(ft),!_e)return vn.apply(Ve,vt),Ve;break}}return(St||Le(_e,jt))(vt,ke,!si,Ve,!ke||tn.test(_e)&&Mi(ke.parentNode)||ke),Ve},M.sortStable=_i.split("").sort(wn).join("")===_i,M.detectDuplicates=!!Nt,at(),M.sortDetached=Hi(function(_e){return _e.compareDocumentPosition(_t.createElement("fieldset"))&1}),Hi(function(_e){return _e.innerHTML="<a href='#'></a>",_e.firstChild.getAttribute("href")==="#"})||Qi("type|href|height|width",function(_e,ke,Ve){if(!Ve)return _e.getAttribute(ke,ke.toLowerCase()==="type"?1:2)}),(!M.attributes||!Hi(function(_e){return _e.innerHTML="<input/>",_e.firstChild.setAttribute("value",""),_e.firstChild.getAttribute("value")===""}))&&Qi("value",function(_e,ke,Ve){if(!Ve&&_e.nodeName.toLowerCase()==="input")return _e.defaultValue}),Hi(function(_e){return _e.getAttribute("disabled")==null})||Qi(rr,function(_e,ke,Ve){var vt;if(!Ve)return _e[ke]===!0?ke.toLowerCase():(vt=_e.getAttributeNode(ke))&&vt.specified?vt.value:null}),fi}(t);l.find=C,l.expr=C.selectors,l.expr[":"]=l.expr.pseudos,l.uniqueSort=l.unique=C.uniqueSort,l.text=C.getText,l.isXMLDoc=C.isXML,l.contains=C.contains,l.escapeSelector=C.escape;var O=function(f,T,M){for(var k=[],X=M!==void 0;(f=f[T])&&f.nodeType!==9;)if(f.nodeType===1){if(X&&l(f).is(M))break;k.push(f)}return k},q=function(f,T){for(var M=[];f;f=f.nextSibling)f.nodeType===1&&f!==T&&M.push(f);return M},Q=l.expr.match.needsContext;function pe(f,T){return f.nodeName&&f.nodeName.toLowerCase()===T.toLowerCase()}var re=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ue(f,T,M){return D(T)?l.grep(f,function(k,X){return!!T.call(k,X,k)!==M}):T.nodeType?l.grep(f,function(k){return k===T!==M}):typeof T!="string"?l.grep(f,function(k){return _.call(T,k)>-1!==M}):l.filter(T,f,M)}l.filter=function(f,T,M){var k=T[0];return M&&(f=":not("+f+")"),T.length===1&&k.nodeType===1?l.find.matchesSelector(k,f)?[k]:[]:l.find.matches(f,l.grep(T,function(X){return X.nodeType===1}))},l.fn.extend({find:function(f){var T,M,k=this.length,X=this;if(typeof f!="string")return this.pushStack(l(f).filter(function(){for(T=0;T<k;T++)if(l.contains(X[T],this))return!0}));for(M=this.pushStack([]),T=0;T<k;T++)l.find(f,X[T],M);return k>1?l.uniqueSort(M):M},filter:function(f){return this.pushStack(ue(this,f||[],!1))},not:function(f){return this.pushStack(ue(this,f||[],!0))},is:function(f){return!!ue(this,typeof f=="string"&&Q.test(f)?l(f):f||[],!1).length}});var ee,be=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=l.fn.init=function(f,T,M){var k,X;if(!f)return this;if(M=M||ee,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?k=[null,f,null]:k=be.exec(f),k&&(k[1]||!T))if(k[1]){if(T=T instanceof l?T[0]:T,l.merge(this,l.parseHTML(k[1],T&&T.nodeType?T.ownerDocument||T:R,!0)),re.test(k[1])&&l.isPlainObject(T))for(k in T)D(this[k])?this[k](T[k]):this.attr(k,T[k]);return this}else return X=R.getElementById(k[2]),X&&(this[0]=X,this.length=1),this;else return!T||T.jquery?(T||M).find(f):this.constructor(T).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(D(f))return M.ready!==void 0?M.ready(f):f(l)}return l.makeArray(f,this)};ie.prototype=l.fn,ee=l(R);var Te=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(f){var T=l(f,this),M=T.length;return this.filter(function(){for(var k=0;k<M;k++)if(l.contains(this,T[k]))return!0})},closest:function(f,T){var M,k=0,X=this.length,te=[],ge=typeof f!="string"&&l(f);if(!Q.test(f)){for(;k<X;k++)for(M=this[k];M&&M!==T;M=M.parentNode)if(M.nodeType<11&&(ge?ge.index(M)>-1:M.nodeType===1&&l.find.matchesSelector(M,f))){te.push(M);break}}return this.pushStack(te.length>1?l.uniqueSort(te):te)},index:function(f){return f?typeof f=="string"?_.call(l(f),this[0]):_.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,T){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(f,T))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function fe(f,T){for(;(f=f[T])&&f.nodeType!==1;);return f}l.each({parent:function(f){var T=f.parentNode;return T&&T.nodeType!==11?T:null},parents:function(f){return O(f,"parentNode")},parentsUntil:function(f,T,M){return O(f,"parentNode",M)},next:function(f){return fe(f,"nextSibling")},prev:function(f){return fe(f,"previousSibling")},nextAll:function(f){return O(f,"nextSibling")},prevAll:function(f){return O(f,"previousSibling")},nextUntil:function(f,T,M){return O(f,"nextSibling",M)},prevUntil:function(f,T,M){return O(f,"previousSibling",M)},siblings:function(f){return q((f.parentNode||{}).firstChild,f)},children:function(f){return q(f.firstChild)},contents:function(f){return f.contentDocument!=null&&u(f.contentDocument)?f.contentDocument:(pe(f,"template")&&(f=f.content||f),l.merge([],f.childNodes))}},function(f,T){l.fn[f]=function(M,k){var X=l.map(this,T,M);return f.slice(-5)!=="Until"&&(k=M),k&&typeof k=="string"&&(X=l.filter(k,X)),this.length>1&&(ve[f]||l.uniqueSort(X),Te.test(f)&&X.reverse()),this.pushStack(X)}});var Ee=/[^\x20\t\r\n\f]+/g;function Se(f){var T={};return l.each(f.match(Ee)||[],function(M,k){T[k]=!0}),T}l.Callbacks=function(f){f=typeof f=="string"?Se(f):l.extend({},f);var T,M,k,X,te=[],ge=[],Le=-1,He=function(){for(X=X||f.once,k=T=!0;ge.length;Le=-1)for(M=ge.shift();++Le<te.length;)te[Le].apply(M[0],M[1])===!1&&f.stopOnFalse&&(Le=te.length,M=!1);f.memory||(M=!1),T=!1,X&&(M?te=[]:te="")},$e={add:function(){return te&&(M&&!T&&(Le=te.length-1,ge.push(M)),function dt(Nt){l.each(Nt,function(at,_t){D(_t)?(!f.unique||!$e.has(_t))&&te.push(_t):_t&&_t.length&&H(_t)!=="string"&&dt(_t)})}(arguments),M&&!T&&He()),this},remove:function(){return l.each(arguments,function(dt,Nt){for(var at;(at=l.inArray(Nt,te,at))>-1;)te.splice(at,1),at<=Le&&Le--}),this},has:function(dt){return dt?l.inArray(dt,te)>-1:te.length>0},empty:function(){return te&&(te=[]),this},disable:function(){return X=ge=[],te=M="",this},disabled:function(){return!te},lock:function(){return X=ge=[],!M&&!T&&(te=M=""),this},locked:function(){return!!X},fireWith:function(dt,Nt){return X||(Nt=Nt||[],Nt=[dt,Nt.slice?Nt.slice():Nt],ge.push(Nt),T||He()),this},fire:function(){return $e.fireWith(this,arguments),this},fired:function(){return!!k}};return $e};function V(f){return f}function de(f){throw f}function Ae(f,T,M,k){var X;try{f&&D(X=f.promise)?X.call(f).done(T).fail(M):f&&D(X=f.then)?X.call(f,T,M):T.apply(void 0,[f].slice(k))}catch(te){M.apply(void 0,[te])}}l.extend({Deferred:function(f){var T=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],M="pending",k={state:function(){return M},always:function(){return X.done(arguments).fail(arguments),this},catch:function(te){return k.then(null,te)},pipe:function(){var te=arguments;return l.Deferred(function(ge){l.each(T,function(Le,He){var $e=D(te[He[4]])&&te[He[4]];X[He[1]](function(){var dt=$e&&$e.apply(this,arguments);dt&&D(dt.promise)?dt.promise().progress(ge.notify).done(ge.resolve).fail(ge.reject):ge[He[0]+"With"](this,$e?[dt]:arguments)})}),te=null}).promise()},then:function(te,ge,Le){var He=0;function $e(dt,Nt,at,_t){return function(){var Kt=this,si=arguments,$t=function(){var xi,Xi;if(!(dt<He)){if(xi=at.apply(Kt,si),xi===Nt.promise())throw new TypeError("Thenable self-resolution");Xi=xi&&(typeof xi=="object"||typeof xi=="function")&&xi.then,D(Xi)?_t?Xi.call(xi,$e(He,Nt,V,_t),$e(He,Nt,de,_t)):(He++,Xi.call(xi,$e(He,Nt,V,_t),$e(He,Nt,de,_t),$e(He,Nt,V,Nt.notifyWith))):(at!==V&&(Kt=void 0,si=[xi]),(_t||Nt.resolveWith)(Kt,si))}},Si=_t?$t:function(){try{$t()}catch(xi){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(xi,Si.stackTrace),dt+1>=He&&(at!==de&&(Kt=void 0,si=[xi]),Nt.rejectWith(Kt,si))}};dt?Si():(l.Deferred.getStackHook&&(Si.stackTrace=l.Deferred.getStackHook()),t.setTimeout(Si))}}return l.Deferred(function(dt){T[0][3].add($e(0,dt,D(Le)?Le:V,dt.notifyWith)),T[1][3].add($e(0,dt,D(te)?te:V)),T[2][3].add($e(0,dt,D(ge)?ge:de))}).promise()},promise:function(te){return te!=null?l.extend(te,k):k}},X={};return l.each(T,function(te,ge){var Le=ge[2],He=ge[5];k[ge[1]]=Le.add,He&&Le.add(function(){M=He},T[3-te][2].disable,T[3-te][3].disable,T[0][2].lock,T[0][3].lock),Le.add(ge[3].fire),X[ge[0]]=function(){return X[ge[0]+"With"](this===X?void 0:this,arguments),this},X[ge[0]+"With"]=Le.fireWith}),k.promise(X),f&&f.call(X,X),X},when:function(f){var T=arguments.length,M=T,k=Array(M),X=p.call(arguments),te=l.Deferred(),ge=function(Le){return function(He){k[Le]=this,X[Le]=arguments.length>1?p.call(arguments):He,--T||te.resolveWith(k,X)}};if(T<=1&&(Ae(f,te.done(ge(M)).resolve,te.reject,!T),te.state()==="pending"||D(X[M]&&X[M].then)))return te.then();for(;M--;)Ae(X[M],ge(M),te.reject);return te.promise()}});var De=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(f,T){t.console&&t.console.warn&&f&&De.test(f.name)&&t.console.warn("jQuery.Deferred exception: "+f.message,f.stack,T)},l.readyException=function(f){t.setTimeout(function(){throw f})};var ae=l.Deferred();l.fn.ready=function(f){return ae.then(f).catch(function(T){l.readyException(T)}),this},l.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(f!==!0&&--l.readyWait>0)&&ae.resolveWith(R,[l]))}}),l.ready.then=ae.then;function me(){R.removeEventListener("DOMContentLoaded",me),t.removeEventListener("load",me),l.ready()}R.readyState==="complete"||R.readyState!=="loading"&&!R.documentElement.doScroll?t.setTimeout(l.ready):(R.addEventListener("DOMContentLoaded",me),t.addEventListener("load",me));var Ce=function(f,T,M,k,X,te,ge){var Le=0,He=f.length,$e=M==null;if(H(M)==="object"){X=!0;for(Le in M)Ce(f,T,Le,M[Le],!0,te,ge)}else if(k!==void 0&&(X=!0,D(k)||(ge=!0),$e&&(ge?(T.call(f,k),T=null):($e=T,T=function(dt,Nt,at){return $e.call(l(dt),at)})),T))for(;Le<He;Le++)T(f[Le],M,ge?k:k.call(f[Le],Le,T(f[Le],M)));return X?f:$e?T.call(f):He?T(f[0],M):te},xe=/^-ms-/,ce=/-([a-z])/g;function Pe(f,T){return T.toUpperCase()}function N(f){return f.replace(xe,"ms-").replace(ce,Pe)}var Z=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function L(){this.expando=l.expando+L.uid++}L.uid=1,L.prototype={cache:function(f){var T=f[this.expando];return T||(T=Object.create(null),Z(f)&&(f.nodeType?f[this.expando]=T:Object.defineProperty(f,this.expando,{value:T,configurable:!0}))),T},set:function(f,T,M){var k,X=this.cache(f);if(typeof T=="string")X[N(T)]=M;else for(k in T)X[N(k)]=T[k];return X},get:function(f,T){return T===void 0?this.cache(f):f[this.expando]&&f[this.expando][N(T)]},access:function(f,T,M){return T===void 0||T&&typeof T=="string"&&M===void 0?this.get(f,T):(this.set(f,T,M),M!==void 0?M:T)},remove:function(f,T){var M,k=f[this.expando];if(k!==void 0){if(T!==void 0)for(Array.isArray(T)?T=T.map(N):(T=N(T),T=T in k?[T]:T.match(Ee)||[]),M=T.length;M--;)delete k[T[M]];(T===void 0||l.isEmptyObject(k))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var T=f[this.expando];return T!==void 0&&!l.isEmptyObject(T)}};var F=new L,ne=new L,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function we(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:K.test(f)?JSON.parse(f):f}function h(f,T,M){var k;if(M===void 0&&f.nodeType===1)if(k="data-"+T.replace(he,"-$&").toLowerCase(),M=f.getAttribute(k),typeof M=="string"){try{M=we(M)}catch{}ne.set(f,T,M)}else M=void 0;return M}l.extend({hasData:function(f){return ne.hasData(f)||F.hasData(f)},data:function(f,T,M){return ne.access(f,T,M)},removeData:function(f,T){ne.remove(f,T)},_data:function(f,T,M){return F.access(f,T,M)},_removeData:function(f,T){F.remove(f,T)}}),l.fn.extend({data:function(f,T){var M,k,X,te=this[0],ge=te&&te.attributes;if(f===void 0){if(this.length&&(X=ne.get(te),te.nodeType===1&&!F.get(te,"hasDataAttrs"))){for(M=ge.length;M--;)ge[M]&&(k=ge[M].name,k.indexOf("data-")===0&&(k=N(k.slice(5)),h(te,k,X[k])));F.set(te,"hasDataAttrs",!0)}return X}return typeof f=="object"?this.each(function(){ne.set(this,f)}):Ce(this,function(Le){var He;if(te&&Le===void 0)return He=ne.get(te,f),He!==void 0||(He=h(te,f),He!==void 0)?He:void 0;this.each(function(){ne.set(this,f,Le)})},null,T,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){ne.remove(this,f)})}}),l.extend({queue:function(f,T,M){var k;if(f)return T=(T||"fx")+"queue",k=F.get(f,T),M&&(!k||Array.isArray(M)?k=F.access(f,T,l.makeArray(M)):k.push(M)),k||[]},dequeue:function(f,T){T=T||"fx";var M=l.queue(f,T),k=M.length,X=M.shift(),te=l._queueHooks(f,T),ge=function(){l.dequeue(f,T)};X==="inprogress"&&(X=M.shift(),k--),X&&(T==="fx"&&M.unshift("inprogress"),delete te.stop,X.call(f,ge,te)),!k&&te&&te.empty.fire()},_queueHooks:function(f,T){var M=T+"queueHooks";return F.get(f,M)||F.access(f,M,{empty:l.Callbacks("once memory").add(function(){F.remove(f,[T+"queue",M])})})}}),l.fn.extend({queue:function(f,T){var M=2;return typeof f!="string"&&(T=f,f="fx",M--),arguments.length<M?l.queue(this[0],f):T===void 0?this:this.each(function(){var k=l.queue(this,f,T);l._queueHooks(this,f),f==="fx"&&k[0]!=="inprogress"&&l.dequeue(this,f)})},dequeue:function(f){return this.each(function(){l.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,T){var M,k=1,X=l.Deferred(),te=this,ge=this.length,Le=function(){--k||X.resolveWith(te,[te])};for(typeof f!="string"&&(T=f,f=void 0),f=f||"fx";ge--;)M=F.get(te[ge],f+"queueHooks"),M&&M.empty&&(k++,M.empty.add(Le));return Le(),X.promise(T)}});var x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),z=["Top","Right","Bottom","Left"],J=R.documentElement,ye=function(f){return l.contains(f.ownerDocument,f)},We={composed:!0};J.getRootNode&&(ye=function(f){return l.contains(f.ownerDocument,f)||f.getRootNode(We)===f.ownerDocument});var Fe=function(f,T){return f=T||f,f.style.display==="none"||f.style.display===""&&ye(f)&&l.css(f,"display")==="none"};function qe(f,T,M,k){var X,te,ge=20,Le=k?function(){return k.cur()}:function(){return l.css(f,T,"")},He=Le(),$e=M&&M[3]||(l.cssNumber[T]?"":"px"),dt=f.nodeType&&(l.cssNumber[T]||$e!=="px"&&+He)&&U.exec(l.css(f,T));if(dt&&dt[3]!==$e){for(He=He/2,$e=$e||dt[3],dt=+He||1;ge--;)l.style(f,T,dt+$e),(1-te)*(1-(te=Le()/He||.5))<=0&&(ge=0),dt=dt/te;dt=dt*2,l.style(f,T,dt+$e),M=M||[]}return M&&(dt=+dt||+He||0,X=M[1]?dt+(M[1]+1)*M[2]:+M[2],k&&(k.unit=$e,k.start=dt,k.end=X)),X}var Ye={};function Xe(f){var T,M=f.ownerDocument,k=f.nodeName,X=Ye[k];return X||(T=M.body.appendChild(M.createElement(k)),X=l.css(T,"display"),T.parentNode.removeChild(T),X==="none"&&(X="block"),Ye[k]=X,X)}function ht(f,T){for(var M,k,X=[],te=0,ge=f.length;te<ge;te++)k=f[te],!!k.style&&(M=k.style.display,T?(M==="none"&&(X[te]=F.get(k,"display")||null,X[te]||(k.style.display="")),k.style.display===""&&Fe(k)&&(X[te]=Xe(k))):M!=="none"&&(X[te]="none",F.set(k,"display",M)));for(te=0;te<ge;te++)X[te]!=null&&(f[te].style.display=X[te]);return f}l.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){Fe(this)?l(this).show():l(this).hide()})}});var It=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=R.createDocumentFragment(),T=f.appendChild(R.createElement("div")),M=R.createElement("input");M.setAttribute("type","radio"),M.setAttribute("checked","checked"),M.setAttribute("name","t"),T.appendChild(M),b.checkClone=T.cloneNode(!0).cloneNode(!0).lastChild.checked,T.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!T.cloneNode(!0).lastChild.defaultValue,T.innerHTML="<option></option>",b.option=!!T.lastChild})();var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,b.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);function nt(f,T){var M;return typeof f.getElementsByTagName!="undefined"?M=f.getElementsByTagName(T||"*"):typeof f.querySelectorAll!="undefined"?M=f.querySelectorAll(T||"*"):M=[],T===void 0||T&&pe(f,T)?l.merge([f],M):M}function Lt(f,T){for(var M=0,k=f.length;M<k;M++)F.set(f[M],"globalEval",!T||F.get(T[M],"globalEval"))}var Ut=/<|&#?\w+;/;function gt(f,T,M,k,X){for(var te,ge,Le,He,$e,dt,Nt=T.createDocumentFragment(),at=[],_t=0,Kt=f.length;_t<Kt;_t++)if(te=f[_t],te||te===0)if(H(te)==="object")l.merge(at,te.nodeType?[te]:te);else if(!Ut.test(te))at.push(T.createTextNode(te));else{for(ge=ge||Nt.appendChild(T.createElement("div")),Le=(Ke.exec(te)||["",""])[1].toLowerCase(),He=ct[Le]||ct._default,ge.innerHTML=He[1]+l.htmlPrefilter(te)+He[2],dt=He[0];dt--;)ge=ge.lastChild;l.merge(at,ge.childNodes),ge=Nt.firstChild,ge.textContent=""}for(Nt.textContent="",_t=0;te=at[_t++];){if(k&&l.inArray(te,k)>-1){X&&X.push(te);continue}if($e=ye(te),ge=nt(Nt.appendChild(te),"script"),$e&&Lt(ge),M)for(dt=0;te=ge[dt++];)pt.test(te.type||"")&&M.push(te)}return Nt}var Tt=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=/^([^.]*)(?:\.(.+)|)/;function et(){return!0}function At(){return!1}function wt(f,T){return f===lt()==(T==="focus")}function lt(){try{return R.activeElement}catch{}}function ut(f,T,M,k,X,te){var ge,Le;if(typeof T=="object"){typeof M!="string"&&(k=k||M,M=void 0);for(Le in T)ut(f,Le,M,k,T[Le],te);return f}if(k==null&&X==null?(X=M,k=M=void 0):X==null&&(typeof M=="string"?(X=k,k=void 0):(X=k,k=M,M=void 0)),X===!1)X=At;else if(!X)return f;return te===1&&(ge=X,X=function(He){return l().off(He),ge.apply(this,arguments)},X.guid=ge.guid||(ge.guid=l.guid++)),f.each(function(){l.event.add(this,T,X,k,M)})}l.event={global:{},add:function(f,T,M,k,X){var te,ge,Le,He,$e,dt,Nt,at,_t,Kt,si,$t=F.get(f);if(!!Z(f))for(M.handler&&(te=M,M=te.handler,X=te.selector),X&&l.find.matchesSelector(J,X),M.guid||(M.guid=l.guid++),(He=$t.events)||(He=$t.events=Object.create(null)),(ge=$t.handle)||(ge=$t.handle=function(Si){return typeof l!="undefined"&&l.event.triggered!==Si.type?l.event.dispatch.apply(f,arguments):void 0}),T=(T||"").match(Ee)||[""],$e=T.length;$e--;)Le=Ze.exec(T[$e])||[],_t=si=Le[1],Kt=(Le[2]||"").split(".").sort(),!!_t&&(Nt=l.event.special[_t]||{},_t=(X?Nt.delegateType:Nt.bindType)||_t,Nt=l.event.special[_t]||{},dt=l.extend({type:_t,origType:si,data:k,handler:M,guid:M.guid,selector:X,needsContext:X&&l.expr.match.needsContext.test(X),namespace:Kt.join(".")},te),(at=He[_t])||(at=He[_t]=[],at.delegateCount=0,(!Nt.setup||Nt.setup.call(f,k,Kt,ge)===!1)&&f.addEventListener&&f.addEventListener(_t,ge)),Nt.add&&(Nt.add.call(f,dt),dt.handler.guid||(dt.handler.guid=M.guid)),X?at.splice(at.delegateCount++,0,dt):at.push(dt),l.event.global[_t]=!0)},remove:function(f,T,M,k,X){var te,ge,Le,He,$e,dt,Nt,at,_t,Kt,si,$t=F.hasData(f)&&F.get(f);if(!(!$t||!(He=$t.events))){for(T=(T||"").match(Ee)||[""],$e=T.length;$e--;){if(Le=Ze.exec(T[$e])||[],_t=si=Le[1],Kt=(Le[2]||"").split(".").sort(),!_t){for(_t in He)l.event.remove(f,_t+T[$e],M,k,!0);continue}for(Nt=l.event.special[_t]||{},_t=(k?Nt.delegateType:Nt.bindType)||_t,at=He[_t]||[],Le=Le[2]&&new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),ge=te=at.length;te--;)dt=at[te],(X||si===dt.origType)&&(!M||M.guid===dt.guid)&&(!Le||Le.test(dt.namespace))&&(!k||k===dt.selector||k==="**"&&dt.selector)&&(at.splice(te,1),dt.selector&&at.delegateCount--,Nt.remove&&Nt.remove.call(f,dt));ge&&!at.length&&((!Nt.teardown||Nt.teardown.call(f,Kt,$t.handle)===!1)&&l.removeEvent(f,_t,$t.handle),delete He[_t])}l.isEmptyObject(He)&&F.remove(f,"handle events")}},dispatch:function(f){var T,M,k,X,te,ge,Le=new Array(arguments.length),He=l.event.fix(f),$e=(F.get(this,"events")||Object.create(null))[He.type]||[],dt=l.event.special[He.type]||{};for(Le[0]=He,T=1;T<arguments.length;T++)Le[T]=arguments[T];if(He.delegateTarget=this,!(dt.preDispatch&&dt.preDispatch.call(this,He)===!1)){for(ge=l.event.handlers.call(this,He,$e),T=0;(X=ge[T++])&&!He.isPropagationStopped();)for(He.currentTarget=X.elem,M=0;(te=X.handlers[M++])&&!He.isImmediatePropagationStopped();)(!He.rnamespace||te.namespace===!1||He.rnamespace.test(te.namespace))&&(He.handleObj=te,He.data=te.data,k=((l.event.special[te.origType]||{}).handle||te.handler).apply(X.elem,Le),k!==void 0&&(He.result=k)===!1&&(He.preventDefault(),He.stopPropagation()));return dt.postDispatch&&dt.postDispatch.call(this,He),He.result}},handlers:function(f,T){var M,k,X,te,ge,Le=[],He=T.delegateCount,$e=f.target;if(He&&$e.nodeType&&!(f.type==="click"&&f.button>=1)){for(;$e!==this;$e=$e.parentNode||this)if($e.nodeType===1&&!(f.type==="click"&&$e.disabled===!0)){for(te=[],ge={},M=0;M<He;M++)k=T[M],X=k.selector+" ",ge[X]===void 0&&(ge[X]=k.needsContext?l(X,this).index($e)>-1:l.find(X,this,null,[$e]).length),ge[X]&&te.push(k);te.length&&Le.push({elem:$e,handlers:te})}}return $e=this,He<T.length&&Le.push({elem:$e,handlers:T.slice(He)}),Le},addProp:function(f,T){Object.defineProperty(l.Event.prototype,f,{enumerable:!0,configurable:!0,get:D(T)?function(){if(this.originalEvent)return T(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(M){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:M})}})},fix:function(f){return f[l.expando]?f:new l.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var T=this||f;return It.test(T.type)&&T.click&&pe(T,"input")&&bt(T,"click",et),!1},trigger:function(f){var T=this||f;return It.test(T.type)&&T.click&&pe(T,"input")&&bt(T,"click"),!0},_default:function(f){var T=f.target;return It.test(T.type)&&T.click&&pe(T,"input")&&F.get(T,"click")||pe(T,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function bt(f,T,M){if(!M){F.get(f,T)===void 0&&l.event.add(f,T,et);return}F.set(f,T,!1),l.event.add(f,T,{namespace:!1,handler:function(k){var X,te,ge=F.get(this,T);if(k.isTrigger&1&&this[T]){if(ge.length)(l.event.special[T]||{}).delegateType&&k.stopPropagation();else if(ge=p.call(arguments),F.set(this,T,ge),X=M(this,T),this[T](),te=F.get(this,T),ge!==te||X?F.set(this,T,!1):te={},ge!==te)return k.stopImmediatePropagation(),k.preventDefault(),te.value}else ge.length&&(F.set(this,T,{value:l.event.trigger(l.extend(ge[0],l.Event.prototype),ge.slice(1),this)}),k.stopImmediatePropagation())}})}l.removeEvent=function(f,T,M){f.removeEventListener&&f.removeEventListener(T,M)},l.Event=function(f,T){if(!(this instanceof l.Event))return new l.Event(f,T);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?et:At,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,T&&l.extend(this,T),this.timeStamp=f&&f.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=et,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=et,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=et,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(f){var T=f.button;return f.which==null&&Tt.test(f.type)?f.charCode!=null?f.charCode:f.keyCode:!f.which&&T!==void 0&&st.test(f.type)?T&1?1:T&2?3:T&4?2:0:f.which}},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(f,T){l.event.special[f]={setup:function(){return bt(this,f,wt),!1},trigger:function(){return bt(this,f),!0},delegateType:T}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,T){l.event.special[f]={delegateType:T,bindType:T,handle:function(M){var k,X=this,te=M.relatedTarget,ge=M.handleObj;return(!te||te!==X&&!l.contains(X,te))&&(M.type=ge.origType,k=ge.handler.apply(this,arguments),M.type=T),k}}}),l.fn.extend({on:function(f,T,M,k){return ut(this,f,T,M,k)},one:function(f,T,M,k){return ut(this,f,T,M,k,1)},off:function(f,T,M){var k,X;if(f&&f.preventDefault&&f.handleObj)return k=f.handleObj,l(f.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this;if(typeof f=="object"){for(X in f)this.off(X,T,f[X]);return this}return(T===!1||typeof T=="function")&&(M=T,T=void 0),M===!1&&(M=At),this.each(function(){l.event.remove(this,f,M,T)})}});var Ft=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Be(f,T){return pe(f,"table")&&pe(T.nodeType!==11?T:T.firstChild,"tr")&&l(f).children("tbody")[0]||f}function e(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function i(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function n(f,T){var M,k,X,te,ge,Le,He;if(T.nodeType===1){if(F.hasData(f)&&(te=F.get(f),He=te.events,He)){F.remove(T,"handle events");for(X in He)for(M=0,k=He[X].length;M<k;M++)l.event.add(T,X,He[X][M])}ne.hasData(f)&&(ge=ne.access(f),Le=l.extend({},ge),ne.set(T,Le))}}function r(f,T){var M=T.nodeName.toLowerCase();M==="input"&&It.test(f.type)?T.checked=f.checked:(M==="input"||M==="textarea")&&(T.defaultValue=f.defaultValue)}function g(f,T,M,k){T=y(T);var X,te,ge,Le,He,$e,dt=0,Nt=f.length,at=Nt-1,_t=T[0],Kt=D(_t);if(Kt||Nt>1&&typeof _t=="string"&&!b.checkClone&&Rt.test(_t))return f.each(function(si){var $t=f.eq(si);Kt&&(T[0]=_t.call(this,si,$t.html())),g($t,T,M,k)});if(Nt&&(X=gt(T,f[0].ownerDocument,!1,f,k),te=X.firstChild,X.childNodes.length===1&&(X=te),te||k)){for(ge=l.map(nt(X,"script"),e),Le=ge.length;dt<Nt;dt++)He=X,dt!==at&&(He=l.clone(He,!0,!0),Le&&l.merge(ge,nt(He,"script"))),M.call(f[dt],He,dt);if(Le)for($e=ge[ge.length-1].ownerDocument,l.map(ge,i),dt=0;dt<Le;dt++)He=ge[dt],pt.test(He.type||"")&&!F.access(He,"globalEval")&&l.contains($e,He)&&(He.src&&(He.type||"").toLowerCase()!=="module"?l._evalUrl&&!He.noModule&&l._evalUrl(He.src,{nonce:He.nonce||He.getAttribute("nonce")},$e):W(He.textContent.replace(se,""),He,$e))}return f}function I(f,T,M){for(var k,X=T?l.filter(T,f):f,te=0;(k=X[te])!=null;te++)!M&&k.nodeType===1&&l.cleanData(nt(k)),k.parentNode&&(M&&ye(k)&&Lt(nt(k,"script")),k.parentNode.removeChild(k));return f}l.extend({htmlPrefilter:function(f){return f},clone:function(f,T,M){var k,X,te,ge,Le=f.cloneNode(!0),He=ye(f);if(!b.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!l.isXMLDoc(f))for(ge=nt(Le),te=nt(f),k=0,X=te.length;k<X;k++)r(te[k],ge[k]);if(T)if(M)for(te=te||nt(f),ge=ge||nt(Le),k=0,X=te.length;k<X;k++)n(te[k],ge[k]);else n(f,Le);return ge=nt(Le,"script"),ge.length>0&&Lt(ge,!He&&nt(f,"script")),Le},cleanData:function(f){for(var T,M,k,X=l.event.special,te=0;(M=f[te])!==void 0;te++)if(Z(M)){if(T=M[F.expando]){if(T.events)for(k in T.events)X[k]?l.event.remove(M,k):l.removeEvent(M,k,T.handle);M[F.expando]=void 0}M[ne.expando]&&(M[ne.expando]=void 0)}}}),l.fn.extend({detach:function(f){return I(this,f,!0)},remove:function(f){return I(this,f)},text:function(f){return Ce(this,function(T){return T===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=T)})},null,f,arguments.length)},append:function(){return g(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var T=Be(this,f);T.appendChild(f)}})},prepend:function(){return g(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var T=Be(this,f);T.insertBefore(f,T.firstChild)}})},before:function(){return g(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return g(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,T=0;(f=this[T])!=null;T++)f.nodeType===1&&(l.cleanData(nt(f,!1)),f.textContent="");return this},clone:function(f,T){return f=f??!1,T=T??f,this.map(function(){return l.clone(this,f,T)})},html:function(f){return Ce(this,function(T){var M=this[0]||{},k=0,X=this.length;if(T===void 0&&M.nodeType===1)return M.innerHTML;if(typeof T=="string"&&!Ft.test(T)&&!ct[(Ke.exec(T)||["",""])[1].toLowerCase()]){T=l.htmlPrefilter(T);try{for(;k<X;k++)M=this[k]||{},M.nodeType===1&&(l.cleanData(nt(M,!1)),M.innerHTML=T);M=0}catch{}}M&&this.empty().append(T)},null,f,arguments.length)},replaceWith:function(){var f=[];return g(this,arguments,function(T){var M=this.parentNode;l.inArray(this,f)<0&&(l.cleanData(nt(this)),M&&M.replaceChild(T,this))},f)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,T){l.fn[f]=function(M){for(var k,X=[],te=l(M),ge=te.length-1,Le=0;Le<=ge;Le++)k=Le===ge?this:this.clone(!0),l(te[Le])[T](k),c.apply(X,k.get());return this.pushStack(X)}});var B=new RegExp("^("+x+")(?!px)[a-z%]+$","i"),G=function(f){var T=f.ownerDocument.defaultView;return(!T||!T.opener)&&(T=t),T.getComputedStyle(f)},oe=function(f,T,M){var k,X,te={};for(X in T)te[X]=f.style[X],f.style[X]=T[X];k=M.call(f);for(X in T)f.style[X]=te[X];return k},Re=new RegExp(z.join("|"),"i");(function(){function f(){if(!!$e){He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",$e.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(He).appendChild($e);var dt=t.getComputedStyle($e);M=dt.top!=="1%",Le=T(dt.marginLeft)===12,$e.style.right="60%",te=T(dt.right)===36,k=T(dt.width)===36,$e.style.position="absolute",X=T($e.offsetWidth/3)===12,J.removeChild(He),$e=null}}function T(dt){return Math.round(parseFloat(dt))}var M,k,X,te,ge,Le,He=R.createElement("div"),$e=R.createElement("div");!$e.style||($e.style.backgroundClip="content-box",$e.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=$e.style.backgroundClip==="content-box",l.extend(b,{boxSizingReliable:function(){return f(),k},pixelBoxStyles:function(){return f(),te},pixelPosition:function(){return f(),M},reliableMarginLeft:function(){return f(),Le},scrollboxSize:function(){return f(),X},reliableTrDimensions:function(){var dt,Nt,at,_t;return ge==null&&(dt=R.createElement("table"),Nt=R.createElement("tr"),at=R.createElement("div"),dt.style.cssText="position:absolute;left:-11111px",Nt.style.height="1px",at.style.height="9px",J.appendChild(dt).appendChild(Nt).appendChild(at),_t=t.getComputedStyle(Nt),ge=parseInt(_t.height)>3,J.removeChild(dt)),ge}}))})();function Me(f,T,M){var k,X,te,ge,Le=f.style;return M=M||G(f),M&&(ge=M.getPropertyValue(T)||M[T],ge===""&&!ye(f)&&(ge=l.style(f,T)),!b.pixelBoxStyles()&&B.test(ge)&&Re.test(T)&&(k=Le.width,X=Le.minWidth,te=Le.maxWidth,Le.minWidth=Le.maxWidth=Le.width=ge,ge=M.width,Le.width=k,Le.minWidth=X,Le.maxWidth=te)),ge!==void 0?ge+"":ge}function je(f,T){return{get:function(){if(f()){delete this.get;return}return(this.get=T).apply(this,arguments)}}}var ze=["Webkit","Moz","ms"],Ne=R.createElement("div").style,Oe={};function tt(f){for(var T=f[0].toUpperCase()+f.slice(1),M=ze.length;M--;)if(f=ze[M]+T,f in Ne)return f}function it(f){var T=l.cssProps[f]||Oe[f];return T||(f in Ne?f:Oe[f]=tt(f)||f)}var xt=/^(none|table(?!-c[ea]).+)/,Ot=/^--/,qt={position:"absolute",visibility:"hidden",display:"block"},zt={letterSpacing:"0",fontWeight:"400"};function Wt(f,T,M){var k=U.exec(T);return k?Math.max(0,k[2]-(M||0))+(k[3]||"px"):T}function Bt(f,T,M,k,X,te){var ge=T==="width"?1:0,Le=0,He=0;if(M===(k?"border":"content"))return 0;for(;ge<4;ge+=2)M==="margin"&&(He+=l.css(f,M+z[ge],!0,X)),k?(M==="content"&&(He-=l.css(f,"padding"+z[ge],!0,X)),M!=="margin"&&(He-=l.css(f,"border"+z[ge]+"Width",!0,X))):(He+=l.css(f,"padding"+z[ge],!0,X),M!=="padding"?He+=l.css(f,"border"+z[ge]+"Width",!0,X):Le+=l.css(f,"border"+z[ge]+"Width",!0,X));return!k&&te>=0&&(He+=Math.max(0,Math.ceil(f["offset"+T[0].toUpperCase()+T.slice(1)]-te-He-Le-.5))||0),He}function rt(f,T,M){var k=G(f),X=!b.boxSizingReliable()||M,te=X&&l.css(f,"boxSizing",!1,k)==="border-box",ge=te,Le=Me(f,T,k),He="offset"+T[0].toUpperCase()+T.slice(1);if(B.test(Le)){if(!M)return Le;Le="auto"}return(!b.boxSizingReliable()&&te||!b.reliableTrDimensions()&&pe(f,"tr")||Le==="auto"||!parseFloat(Le)&&l.css(f,"display",!1,k)==="inline")&&f.getClientRects().length&&(te=l.css(f,"boxSizing",!1,k)==="border-box",ge=He in f,ge&&(Le=f[He])),Le=parseFloat(Le)||0,Le+Bt(f,T,M||(te?"border":"content"),ge,k,Le)+"px"}l.extend({cssHooks:{opacity:{get:function(f,T){if(T){var M=Me(f,"opacity");return M===""?"1":M}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,T,M,k){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var X,te,ge,Le=N(T),He=Ot.test(T),$e=f.style;if(He||(T=it(Le)),ge=l.cssHooks[T]||l.cssHooks[Le],M!==void 0){if(te=typeof M,te==="string"&&(X=U.exec(M))&&X[1]&&(M=qe(f,T,X),te="number"),M==null||M!==M)return;te==="number"&&!He&&(M+=X&&X[3]||(l.cssNumber[Le]?"":"px")),!b.clearCloneStyle&&M===""&&T.indexOf("background")===0&&($e[T]="inherit"),(!ge||!("set"in ge)||(M=ge.set(f,M,k))!==void 0)&&(He?$e.setProperty(T,M):$e[T]=M)}else return ge&&"get"in ge&&(X=ge.get(f,!1,k))!==void 0?X:$e[T]}},css:function(f,T,M,k){var X,te,ge,Le=N(T),He=Ot.test(T);return He||(T=it(Le)),ge=l.cssHooks[T]||l.cssHooks[Le],ge&&"get"in ge&&(X=ge.get(f,!0,M)),X===void 0&&(X=Me(f,T,k)),X==="normal"&&T in zt&&(X=zt[T]),M===""||M?(te=parseFloat(X),M===!0||isFinite(te)?te||0:X):X}}),l.each(["height","width"],function(f,T){l.cssHooks[T]={get:function(M,k,X){if(k)return xt.test(l.css(M,"display"))&&(!M.getClientRects().length||!M.getBoundingClientRect().width)?oe(M,qt,function(){return rt(M,T,X)}):rt(M,T,X)},set:function(M,k,X){var te,ge=G(M),Le=!b.scrollboxSize()&&ge.position==="absolute",He=Le||X,$e=He&&l.css(M,"boxSizing",!1,ge)==="border-box",dt=X?Bt(M,T,X,$e,ge):0;return $e&&Le&&(dt-=Math.ceil(M["offset"+T[0].toUpperCase()+T.slice(1)]-parseFloat(ge[T])-Bt(M,T,"border",!1,ge)-.5)),dt&&(te=U.exec(k))&&(te[3]||"px")!=="px"&&(M.style[T]=k,k=l.css(M,T)),Wt(M,k,dt)}}}),l.cssHooks.marginLeft=je(b.reliableMarginLeft,function(f,T){if(T)return(parseFloat(Me(f,"marginLeft"))||f.getBoundingClientRect().left-oe(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(f,T){l.cssHooks[f+T]={expand:function(M){for(var k=0,X={},te=typeof M=="string"?M.split(" "):[M];k<4;k++)X[f+z[k]+T]=te[k]||te[k-2]||te[0];return X}},f!=="margin"&&(l.cssHooks[f+T].set=Wt)}),l.fn.extend({css:function(f,T){return Ce(this,function(M,k,X){var te,ge,Le={},He=0;if(Array.isArray(k)){for(te=G(M),ge=k.length;He<ge;He++)Le[k[He]]=l.css(M,k[He],!1,te);return Le}return X!==void 0?l.style(M,k,X):l.css(M,k)},f,T,arguments.length>1)}});function Ct(f,T,M,k,X){return new Ct.prototype.init(f,T,M,k,X)}l.Tween=Ct,Ct.prototype={constructor:Ct,init:function(f,T,M,k,X,te){this.elem=f,this.prop=M,this.easing=X||l.easing._default,this.options=T,this.start=this.now=this.cur(),this.end=k,this.unit=te||(l.cssNumber[M]?"":"px")},cur:function(){var f=Ct.propHooks[this.prop];return f&&f.get?f.get(this):Ct.propHooks._default.get(this)},run:function(f){var T,M=Ct.propHooks[this.prop];return this.options.duration?this.pos=T=l.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=T=f,this.now=(this.end-this.start)*T+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),M&&M.set?M.set(this):Ct.propHooks._default.set(this),this}},Ct.prototype.init.prototype=Ct.prototype,Ct.propHooks={_default:{get:function(f){var T;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(T=l.css(f.elem,f.prop,""),!T||T==="auto"?0:T)},set:function(f){l.fx.step[f.prop]?l.fx.step[f.prop](f):f.elem.nodeType===1&&(l.cssHooks[f.prop]||f.elem.style[it(f.prop)]!=null)?l.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},Ct.propHooks.scrollTop=Ct.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},l.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},l.fx=Ct.prototype.init,l.fx.step={};var Pt,Gt,Yt=/^(?:toggle|show|hide)$/,ei=/queueHooks$/;function Xt(){Gt&&(R.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Xt):t.setTimeout(Xt,l.fx.interval),l.fx.tick())}function ni(){return t.setTimeout(function(){Pt=void 0}),Pt=Date.now()}function li(f,T){var M,k=0,X={height:f};for(T=T?1:0;k<4;k+=2-T)M=z[k],X["margin"+M]=X["padding"+M]=f;return T&&(X.opacity=X.width=f),X}function ai(f,T,M){for(var k,X=(Dt.tweeners[T]||[]).concat(Dt.tweeners["*"]),te=0,ge=X.length;te<ge;te++)if(k=X[te].call(M,T,f))return k}function ci(f,T,M){var k,X,te,ge,Le,He,$e,dt,Nt="width"in T||"height"in T,at=this,_t={},Kt=f.style,si=f.nodeType&&Fe(f),$t=F.get(f,"fxshow");M.queue||(ge=l._queueHooks(f,"fx"),ge.unqueued==null&&(ge.unqueued=0,Le=ge.empty.fire,ge.empty.fire=function(){ge.unqueued||Le()}),ge.unqueued++,at.always(function(){at.always(function(){ge.unqueued--,l.queue(f,"fx").length||ge.empty.fire()})}));for(k in T)if(X=T[k],Yt.test(X)){if(delete T[k],te=te||X==="toggle",X===(si?"hide":"show"))if(X==="show"&&$t&&$t[k]!==void 0)si=!0;else continue;_t[k]=$t&&$t[k]||l.style(f,k)}if(He=!l.isEmptyObject(T),!(!He&&l.isEmptyObject(_t))){Nt&&f.nodeType===1&&(M.overflow=[Kt.overflow,Kt.overflowX,Kt.overflowY],$e=$t&&$t.display,$e==null&&($e=F.get(f,"display")),dt=l.css(f,"display"),dt==="none"&&($e?dt=$e:(ht([f],!0),$e=f.style.display||$e,dt=l.css(f,"display"),ht([f]))),(dt==="inline"||dt==="inline-block"&&$e!=null)&&l.css(f,"float")==="none"&&(He||(at.done(function(){Kt.display=$e}),$e==null&&(dt=Kt.display,$e=dt==="none"?"":dt)),Kt.display="inline-block")),M.overflow&&(Kt.overflow="hidden",at.always(function(){Kt.overflow=M.overflow[0],Kt.overflowX=M.overflow[1],Kt.overflowY=M.overflow[2]})),He=!1;for(k in _t)He||($t?"hidden"in $t&&(si=$t.hidden):$t=F.access(f,"fxshow",{display:$e}),te&&($t.hidden=!si),si&&ht([f],!0),at.done(function(){si||ht([f]),F.remove(f,"fxshow");for(k in _t)l.style(f,k,_t[k])})),He=ai(si?$t[k]:0,k,at),k in $t||($t[k]=He.start,si&&(He.end=He.start,He.start=0))}}function Je(f,T){var M,k,X,te,ge;for(M in f)if(k=N(M),X=T[k],te=f[M],Array.isArray(te)&&(X=te[1],te=f[M]=te[0]),M!==k&&(f[k]=te,delete f[M]),ge=l.cssHooks[k],ge&&"expand"in ge){te=ge.expand(te),delete f[k];for(M in te)M in f||(f[M]=te[M],T[M]=X)}else T[k]=X}function Dt(f,T,M){var k,X,te=0,ge=Dt.prefilters.length,Le=l.Deferred().always(function(){delete He.elem}),He=function(){if(X)return!1;for(var Nt=Pt||ni(),at=Math.max(0,$e.startTime+$e.duration-Nt),_t=at/$e.duration||0,Kt=1-_t,si=0,$t=$e.tweens.length;si<$t;si++)$e.tweens[si].run(Kt);return Le.notifyWith(f,[$e,Kt,at]),Kt<1&&$t?at:($t||Le.notifyWith(f,[$e,1,0]),Le.resolveWith(f,[$e]),!1)},$e=Le.promise({elem:f,props:l.extend({},T),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},M),originalProperties:T,originalOptions:M,startTime:Pt||ni(),duration:M.duration,tweens:[],createTween:function(Nt,at){var _t=l.Tween(f,$e.opts,Nt,at,$e.opts.specialEasing[Nt]||$e.opts.easing);return $e.tweens.push(_t),_t},stop:function(Nt){var at=0,_t=Nt?$e.tweens.length:0;if(X)return this;for(X=!0;at<_t;at++)$e.tweens[at].run(1);return Nt?(Le.notifyWith(f,[$e,1,0]),Le.resolveWith(f,[$e,Nt])):Le.rejectWith(f,[$e,Nt]),this}}),dt=$e.props;for(Je(dt,$e.opts.specialEasing);te<ge;te++)if(k=Dt.prefilters[te].call($e,f,dt,$e.opts),k)return D(k.stop)&&(l._queueHooks($e.elem,$e.opts.queue).stop=k.stop.bind(k)),k;return l.map(dt,ai,$e),D($e.opts.start)&&$e.opts.start.call(f,$e),$e.progress($e.opts.progress).done($e.opts.done,$e.opts.complete).fail($e.opts.fail).always($e.opts.always),l.fx.timer(l.extend(He,{elem:f,anim:$e,queue:$e.opts.queue})),$e}l.Animation=l.extend(Dt,{tweeners:{"*":[function(f,T){var M=this.createTween(f,T);return qe(M.elem,f,U.exec(T),M),M}]},tweener:function(f,T){D(f)?(T=f,f=["*"]):f=f.match(Ee);for(var M,k=0,X=f.length;k<X;k++)M=f[k],Dt.tweeners[M]=Dt.tweeners[M]||[],Dt.tweeners[M].unshift(T)},prefilters:[ci],prefilter:function(f,T){T?Dt.prefilters.unshift(f):Dt.prefilters.push(f)}}),l.speed=function(f,T,M){var k=f&&typeof f=="object"?l.extend({},f):{complete:M||!M&&T||D(f)&&f,duration:f,easing:M&&T||T&&!D(T)&&T};return l.fx.off?k.duration=0:typeof k.duration!="number"&&(k.duration in l.fx.speeds?k.duration=l.fx.speeds[k.duration]:k.duration=l.fx.speeds._default),(k.queue==null||k.queue===!0)&&(k.queue="fx"),k.old=k.complete,k.complete=function(){D(k.old)&&k.old.call(this),k.queue&&l.dequeue(this,k.queue)},k},l.fn.extend({fadeTo:function(f,T,M,k){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:T},f,M,k)},animate:function(f,T,M,k){var X=l.isEmptyObject(f),te=l.speed(T,M,k),ge=function(){var Le=Dt(this,l.extend({},f),te);(X||F.get(this,"finish"))&&Le.stop(!0)};return ge.finish=ge,X||te.queue===!1?this.each(ge):this.queue(te.queue,ge)},stop:function(f,T,M){var k=function(X){var te=X.stop;delete X.stop,te(M)};return typeof f!="string"&&(M=T,T=f,f=void 0),T&&this.queue(f||"fx",[]),this.each(function(){var X=!0,te=f!=null&&f+"queueHooks",ge=l.timers,Le=F.get(this);if(te)Le[te]&&Le[te].stop&&k(Le[te]);else for(te in Le)Le[te]&&Le[te].stop&&ei.test(te)&&k(Le[te]);for(te=ge.length;te--;)ge[te].elem===this&&(f==null||ge[te].queue===f)&&(ge[te].anim.stop(M),X=!1,ge.splice(te,1));(X||!M)&&l.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var T,M=F.get(this),k=M[f+"queue"],X=M[f+"queueHooks"],te=l.timers,ge=k?k.length:0;for(M.finish=!0,l.queue(this,f,[]),X&&X.stop&&X.stop.call(this,!0),T=te.length;T--;)te[T].elem===this&&te[T].queue===f&&(te[T].anim.stop(!0),te.splice(T,1));for(T=0;T<ge;T++)k[T]&&k[T].finish&&k[T].finish.call(this);delete M.finish})}}),l.each(["toggle","show","hide"],function(f,T){var M=l.fn[T];l.fn[T]=function(k,X,te){return k==null||typeof k=="boolean"?M.apply(this,arguments):this.animate(li(T,!0),k,X,te)}}),l.each({slideDown:li("show"),slideUp:li("hide"),slideToggle:li("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,T){l.fn[f]=function(M,k,X){return this.animate(T,M,k,X)}}),l.timers=[],l.fx.tick=function(){var f,T=0,M=l.timers;for(Pt=Date.now();T<M.length;T++)f=M[T],!f()&&M[T]===f&&M.splice(T--,1);M.length||l.fx.stop(),Pt=void 0},l.fx.timer=function(f){l.timers.push(f),l.fx.start()},l.fx.interval=13,l.fx.start=function(){Gt||(Gt=!0,Xt())},l.fx.stop=function(){Gt=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(f,T){return f=l.fx&&l.fx.speeds[f]||f,T=T||"fx",this.queue(T,function(M,k){var X=t.setTimeout(M,f);k.stop=function(){t.clearTimeout(X)}})},function(){var f=R.createElement("input"),T=R.createElement("select"),M=T.appendChild(R.createElement("option"));f.type="checkbox",b.checkOn=f.value!=="",b.optSelected=M.selected,f=R.createElement("input"),f.value="t",f.type="radio",b.radioValue=f.value==="t"}();var le,Ue=l.expr.attrHandle;l.fn.extend({attr:function(f,T){return Ce(this,l.attr,f,T,arguments.length>1)},removeAttr:function(f){return this.each(function(){l.removeAttr(this,f)})}}),l.extend({attr:function(f,T,M){var k,X,te=f.nodeType;if(!(te===3||te===8||te===2)){if(typeof f.getAttribute=="undefined")return l.prop(f,T,M);if((te!==1||!l.isXMLDoc(f))&&(X=l.attrHooks[T.toLowerCase()]||(l.expr.match.bool.test(T)?le:void 0)),M!==void 0){if(M===null){l.removeAttr(f,T);return}return X&&"set"in X&&(k=X.set(f,M,T))!==void 0?k:(f.setAttribute(T,M+""),M)}return X&&"get"in X&&(k=X.get(f,T))!==null?k:(k=l.find.attr(f,T),k??void 0)}},attrHooks:{type:{set:function(f,T){if(!b.radioValue&&T==="radio"&&pe(f,"input")){var M=f.value;return f.setAttribute("type",T),M&&(f.value=M),T}}}},removeAttr:function(f,T){var M,k=0,X=T&&T.match(Ee);if(X&&f.nodeType===1)for(;M=X[k++];)f.removeAttribute(M)}}),le={set:function(f,T,M){return T===!1?l.removeAttr(f,M):f.setAttribute(M,M),M}},l.each(l.expr.match.bool.source.match(/\w+/g),function(f,T){var M=Ue[T]||l.find.attr;Ue[T]=function(k,X,te){var ge,Le,He=X.toLowerCase();return te||(Le=Ue[He],Ue[He]=ge,ge=M(k,X,te)!=null?He:null,Ue[He]=Le),ge}});var ot=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;l.fn.extend({prop:function(f,T){return Ce(this,l.prop,f,T,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[l.propFix[f]||f]})}}),l.extend({prop:function(f,T,M){var k,X,te=f.nodeType;if(!(te===3||te===8||te===2))return(te!==1||!l.isXMLDoc(f))&&(T=l.propFix[T]||T,X=l.propHooks[T]),M!==void 0?X&&"set"in X&&(k=X.set(f,M,T))!==void 0?k:f[T]=M:X&&"get"in X&&(k=X.get(f,T))!==null?k:f[T]},propHooks:{tabIndex:{get:function(f){var T=l.find.attr(f,"tabindex");return T?parseInt(T,10):ot.test(f.nodeName)||mt.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(l.propHooks.selected={get:function(f){var T=f.parentNode;return T&&T.parentNode&&T.parentNode.selectedIndex,null},set:function(f){var T=f.parentNode;T&&(T.selectedIndex,T.parentNode&&T.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function yt(f){var T=f.match(Ee)||[];return T.join(" ")}function kt(f){return f.getAttribute&&f.getAttribute("class")||""}function Vt(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Ee)||[]:[]}l.fn.extend({addClass:function(f){var T,M,k,X,te,ge,Le,He=0;if(D(f))return this.each(function($e){l(this).addClass(f.call(this,$e,kt(this)))});if(T=Vt(f),T.length){for(;M=this[He++];)if(X=kt(M),k=M.nodeType===1&&" "+yt(X)+" ",k){for(ge=0;te=T[ge++];)k.indexOf(" "+te+" ")<0&&(k+=te+" ");Le=yt(k),X!==Le&&M.setAttribute("class",Le)}}return this},removeClass:function(f){var T,M,k,X,te,ge,Le,He=0;if(D(f))return this.each(function($e){l(this).removeClass(f.call(this,$e,kt(this)))});if(!arguments.length)return this.attr("class","");if(T=Vt(f),T.length){for(;M=this[He++];)if(X=kt(M),k=M.nodeType===1&&" "+yt(X)+" ",k){for(ge=0;te=T[ge++];)for(;k.indexOf(" "+te+" ")>-1;)k=k.replace(" "+te+" "," ");Le=yt(k),X!==Le&&M.setAttribute("class",Le)}}return this},toggleClass:function(f,T){var M=typeof f,k=M==="string"||Array.isArray(f);return typeof T=="boolean"&&k?T?this.addClass(f):this.removeClass(f):D(f)?this.each(function(X){l(this).toggleClass(f.call(this,X,kt(this),T),T)}):this.each(function(){var X,te,ge,Le;if(k)for(te=0,ge=l(this),Le=Vt(f);X=Le[te++];)ge.hasClass(X)?ge.removeClass(X):ge.addClass(X);else(f===void 0||M==="boolean")&&(X=kt(this),X&&F.set(this,"__className__",X),this.setAttribute&&this.setAttribute("class",X||f===!1?"":F.get(this,"__className__")||""))})},hasClass:function(f){var T,M,k=0;for(T=" "+f+" ";M=this[k++];)if(M.nodeType===1&&(" "+yt(kt(M))+" ").indexOf(T)>-1)return!0;return!1}});var ii=/\r/g;l.fn.extend({val:function(f){var T,M,k,X=this[0];return arguments.length?(k=D(f),this.each(function(te){var ge;this.nodeType===1&&(k?ge=f.call(this,te,l(this).val()):ge=f,ge==null?ge="":typeof ge=="number"?ge+="":Array.isArray(ge)&&(ge=l.map(ge,function(Le){return Le==null?"":Le+""})),T=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!T||!("set"in T)||T.set(this,ge,"value")===void 0)&&(this.value=ge))})):X?(T=l.valHooks[X.type]||l.valHooks[X.nodeName.toLowerCase()],T&&"get"in T&&(M=T.get(X,"value"))!==void 0?M:(M=X.value,typeof M=="string"?M.replace(ii,""):M??"")):void 0}}),l.extend({valHooks:{option:{get:function(f){var T=l.find.attr(f,"value");return T??yt(l.text(f))}},select:{get:function(f){var T,M,k,X=f.options,te=f.selectedIndex,ge=f.type==="select-one",Le=ge?null:[],He=ge?te+1:X.length;for(te<0?k=He:k=ge?te:0;k<He;k++)if(M=X[k],(M.selected||k===te)&&!M.disabled&&(!M.parentNode.disabled||!pe(M.parentNode,"optgroup"))){if(T=l(M).val(),ge)return T;Le.push(T)}return Le},set:function(f,T){for(var M,k,X=f.options,te=l.makeArray(T),ge=X.length;ge--;)k=X[ge],(k.selected=l.inArray(l.valHooks.option.get(k),te)>-1)&&(M=!0);return M||(f.selectedIndex=-1),te}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(f,T){if(Array.isArray(T))return f.checked=l.inArray(l(f).val(),T)>-1}},b.checkOn||(l.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),b.focusin="onfocusin"in t;var Ti=/^(?:focusinfocus|focusoutblur)$/,pi=function(f){f.stopPropagation()};l.extend(l.event,{trigger:function(f,T,M,k){var X,te,ge,Le,He,$e,dt,Nt,at=[M||R],_t=m.call(f,"type")?f.type:f,Kt=m.call(f,"namespace")?f.namespace.split("."):[];if(te=Nt=ge=M=M||R,!(M.nodeType===3||M.nodeType===8)&&!Ti.test(_t+l.event.triggered)&&(_t.indexOf(".")>-1&&(Kt=_t.split("."),_t=Kt.shift(),Kt.sort()),He=_t.indexOf(":")<0&&"on"+_t,f=f[l.expando]?f:new l.Event(_t,typeof f=="object"&&f),f.isTrigger=k?2:3,f.namespace=Kt.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=M),T=T==null?[f]:l.makeArray(T,[f]),dt=l.event.special[_t]||{},!(!k&&dt.trigger&&dt.trigger.apply(M,T)===!1))){if(!k&&!dt.noBubble&&!P(M)){for(Le=dt.delegateType||_t,Ti.test(Le+_t)||(te=te.parentNode);te;te=te.parentNode)at.push(te),ge=te;ge===(M.ownerDocument||R)&&at.push(ge.defaultView||ge.parentWindow||t)}for(X=0;(te=at[X++])&&!f.isPropagationStopped();)Nt=te,f.type=X>1?Le:dt.bindType||_t,$e=(F.get(te,"events")||Object.create(null))[f.type]&&F.get(te,"handle"),$e&&$e.apply(te,T),$e=He&&te[He],$e&&$e.apply&&Z(te)&&(f.result=$e.apply(te,T),f.result===!1&&f.preventDefault());return f.type=_t,!k&&!f.isDefaultPrevented()&&(!dt._default||dt._default.apply(at.pop(),T)===!1)&&Z(M)&&He&&D(M[_t])&&!P(M)&&(ge=M[He],ge&&(M[He]=null),l.event.triggered=_t,f.isPropagationStopped()&&Nt.addEventListener(_t,pi),M[_t](),f.isPropagationStopped()&&Nt.removeEventListener(_t,pi),l.event.triggered=void 0,ge&&(M[He]=ge)),f.result}},simulate:function(f,T,M){var k=l.extend(new l.Event,M,{type:f,isSimulated:!0});l.event.trigger(k,null,T)}}),l.fn.extend({trigger:function(f,T){return this.each(function(){l.event.trigger(f,T,this)})},triggerHandler:function(f,T){var M=this[0];if(M)return l.event.trigger(f,T,M,!0)}}),b.focusin||l.each({focus:"focusin",blur:"focusout"},function(f,T){var M=function(k){l.event.simulate(T,k.target,l.event.fix(k))};l.event.special[T]={setup:function(){var k=this.ownerDocument||this.document||this,X=F.access(k,T);X||k.addEventListener(f,M,!0),F.access(k,T,(X||0)+1)},teardown:function(){var k=this.ownerDocument||this.document||this,X=F.access(k,T)-1;X?F.access(k,T,X):(k.removeEventListener(f,M,!0),F.remove(k,T))}}});var di=t.location,fn={guid:Date.now()},Fi=/\?/;l.parseXML=function(f){var T;if(!f||typeof f!="string")return null;try{T=new t.DOMParser().parseFromString(f,"text/xml")}catch{T=void 0}return(!T||T.getElementsByTagName("parsererror").length)&&l.error("Invalid XML: "+f),T};var on=/\[\]$/,ji=/\r?\n/g,Ji=/^(?:submit|button|image|reset|file)$/i,Wi=/^(?:input|select|textarea|keygen)/i;function Et(f,T,M,k){var X;if(Array.isArray(T))l.each(T,function(te,ge){M||on.test(f)?k(f,ge):Et(f+"["+(typeof ge=="object"&&ge!=null?te:"")+"]",ge,M,k)});else if(!M&&H(T)==="object")for(X in T)Et(f+"["+X+"]",T[X],M,k);else k(f,T)}l.param=function(f,T){var M,k=[],X=function(te,ge){var Le=D(ge)?ge():ge;k[k.length]=encodeURIComponent(te)+"="+encodeURIComponent(Le??"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!l.isPlainObject(f))l.each(f,function(){X(this.name,this.value)});else for(M in f)Et(M,f[M],T,X);return k.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=l.prop(this,"elements");return f?l.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!l(this).is(":disabled")&&Wi.test(this.nodeName)&&!Ji.test(f)&&(this.checked||!It.test(f))}).map(function(f,T){var M=l(this).val();return M==null?null:Array.isArray(M)?l.map(M,function(k){return{name:T.name,value:k.replace(ji,`\r
`)}}):{name:T.name,value:M.replace(ji,`\r
`)}}).get()}});var Qt=/%20/g,xn=/#.*$/,Nn=/([?&])_=[^&]*/,Vr=/^(.*?):[ \t]*([^\r\n]*)$/mg,Gr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Yr=/^(?:GET|HEAD)$/,Xr=/^\/\//,Ir={},er={},Cr="*/".concat("*"),tr=R.createElement("a");tr.href=di.href;function Ar(f){return function(T,M){typeof T!="string"&&(M=T,T="*");var k,X=0,te=T.toLowerCase().match(Ee)||[];if(D(M))for(;k=te[X++];)k[0]==="+"?(k=k.slice(1)||"*",(f[k]=f[k]||[]).unshift(M)):(f[k]=f[k]||[]).push(M)}}function Sr(f,T,M,k){var X={},te=f===er;function ge(Le){var He;return X[Le]=!0,l.each(f[Le]||[],function($e,dt){var Nt=dt(T,M,k);if(typeof Nt=="string"&&!te&&!X[Nt])return T.dataTypes.unshift(Nt),ge(Nt),!1;if(te)return!(He=Nt)}),He}return ge(T.dataTypes[0])||!X["*"]&&ge("*")}function ir(f,T){var M,k,X=l.ajaxSettings.flatOptions||{};for(M in T)T[M]!==void 0&&((X[M]?f:k||(k={}))[M]=T[M]);return k&&l.extend(!0,f,k),f}function Kr(f,T,M){for(var k,X,te,ge,Le=f.contents,He=f.dataTypes;He[0]==="*";)He.shift(),k===void 0&&(k=f.mimeType||T.getResponseHeader("Content-Type"));if(k){for(X in Le)if(Le[X]&&Le[X].test(k)){He.unshift(X);break}}if(He[0]in M)te=He[0];else{for(X in M){if(!He[0]||f.converters[X+" "+He[0]]){te=X;break}ge||(ge=X)}te=te||ge}if(te)return te!==He[0]&&He.unshift(te),M[te]}function Qr(f,T,M,k){var X,te,ge,Le,He,$e={},dt=f.dataTypes.slice();if(dt[1])for(ge in f.converters)$e[ge.toLowerCase()]=f.converters[ge];for(te=dt.shift();te;)if(f.responseFields[te]&&(M[f.responseFields[te]]=T),!He&&k&&f.dataFilter&&(T=f.dataFilter(T,f.dataType)),He=te,te=dt.shift(),te){if(te==="*")te=He;else if(He!=="*"&&He!==te){if(ge=$e[He+" "+te]||$e["* "+te],!ge){for(X in $e)if(Le=X.split(" "),Le[1]===te&&(ge=$e[He+" "+Le[0]]||$e["* "+Le[0]],ge)){ge===!0?ge=$e[X]:$e[X]!==!0&&(te=Le[0],dt.unshift(Le[1]));break}}if(ge!==!0)if(ge&&f.throws)T=ge(T);else try{T=ge(T)}catch(Nt){return{state:"parsererror",error:ge?Nt:"No conversion from "+He+" to "+te}}}}return{state:"success",data:T}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:di.href,type:"GET",isLocal:Gr.test(di.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,T){return T?ir(ir(f,l.ajaxSettings),T):ir(l.ajaxSettings,f)},ajaxPrefilter:Ar(Ir),ajaxTransport:Ar(er),ajax:function(f,T){typeof f=="object"&&(T=f,f=void 0),T=T||{};var M,k,X,te,ge,Le,He,$e,dt,Nt,at=l.ajaxSetup({},T),_t=at.context||at,Kt=at.context&&(_t.nodeType||_t.jquery)?l(_t):l.event,si=l.Deferred(),$t=l.Callbacks("once memory"),Si=at.statusCode||{},xi={},Xi={},_i="canceled",ri={readyState:0,getResponseHeader:function(hi){var bi;if(He){if(!te)for(te={};bi=Vr.exec(X);)te[bi[1].toLowerCase()+" "]=(te[bi[1].toLowerCase()+" "]||[]).concat(bi[2]);bi=te[hi.toLowerCase()+" "]}return bi==null?null:bi.join(", ")},getAllResponseHeaders:function(){return He?X:null},setRequestHeader:function(hi,bi){return He==null&&(hi=Xi[hi.toLowerCase()]=Xi[hi.toLowerCase()]||hi,xi[hi]=bi),this},overrideMimeType:function(hi){return He==null&&(at.mimeType=hi),this},statusCode:function(hi){var bi;if(hi)if(He)ri.always(hi[ri.status]);else for(bi in hi)Si[bi]=[Si[bi],hi[bi]];return this},abort:function(hi){var bi=hi||_i;return M&&M.abort(bi),Ui(0,bi),this}};if(si.promise(ri),at.url=((f||at.url||di.href)+"").replace(Xr,di.protocol+"//"),at.type=T.method||T.type||at.method||at.type,at.dataTypes=(at.dataType||"*").toLowerCase().match(Ee)||[""],at.crossDomain==null){Le=R.createElement("a");try{Le.href=at.url,Le.href=Le.href,at.crossDomain=tr.protocol+"//"+tr.host!=Le.protocol+"//"+Le.host}catch{at.crossDomain=!0}}if(at.data&&at.processData&&typeof at.data!="string"&&(at.data=l.param(at.data,at.traditional)),Sr(Ir,at,T,ri),He)return ri;$e=l.event&&at.global,$e&&l.active++==0&&l.event.trigger("ajaxStart"),at.type=at.type.toUpperCase(),at.hasContent=!Yr.test(at.type),k=at.url.replace(xn,""),at.hasContent?at.data&&at.processData&&(at.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(at.data=at.data.replace(Qt,"+")):(Nt=at.url.slice(k.length),at.data&&(at.processData||typeof at.data=="string")&&(k+=(Fi.test(k)?"&":"?")+at.data,delete at.data),at.cache===!1&&(k=k.replace(Nn,"$1"),Nt=(Fi.test(k)?"&":"?")+"_="+fn.guid+++Nt),at.url=k+Nt),at.ifModified&&(l.lastModified[k]&&ri.setRequestHeader("If-Modified-Since",l.lastModified[k]),l.etag[k]&&ri.setRequestHeader("If-None-Match",l.etag[k])),(at.data&&at.hasContent&&at.contentType!==!1||T.contentType)&&ri.setRequestHeader("Content-Type",at.contentType),ri.setRequestHeader("Accept",at.dataTypes[0]&&at.accepts[at.dataTypes[0]]?at.accepts[at.dataTypes[0]]+(at.dataTypes[0]!=="*"?", "+Cr+"; q=0.01":""):at.accepts["*"]);for(dt in at.headers)ri.setRequestHeader(dt,at.headers[dt]);if(at.beforeSend&&(at.beforeSend.call(_t,ri,at)===!1||He))return ri.abort();if(_i="abort",$t.add(at.complete),ri.done(at.success),ri.fail(at.error),M=Sr(er,at,T,ri),!M)Ui(-1,"No Transport");else{if(ri.readyState=1,$e&&Kt.trigger("ajaxSend",[ri,at]),He)return ri;at.async&&at.timeout>0&&(ge=t.setTimeout(function(){ri.abort("timeout")},at.timeout));try{He=!1,M.send(xi,Ui)}catch(hi){if(He)throw hi;Ui(-1,hi)}}function Ui(hi,bi,Fn,Vn){var Ki,wn,bn,qi,mn,$i=bi;He||(He=!0,ge&&t.clearTimeout(ge),M=void 0,X=Vn||"",ri.readyState=hi>0?4:0,Ki=hi>=200&&hi<300||hi===304,Fn&&(qi=Kr(at,ri,Fn)),!Ki&&l.inArray("script",at.dataTypes)>-1&&(at.converters["text script"]=function(){}),qi=Qr(at,qi,ri,Ki),Ki?(at.ifModified&&(mn=ri.getResponseHeader("Last-Modified"),mn&&(l.lastModified[k]=mn),mn=ri.getResponseHeader("etag"),mn&&(l.etag[k]=mn)),hi===204||at.type==="HEAD"?$i="nocontent":hi===304?$i="notmodified":($i=qi.state,wn=qi.data,bn=qi.error,Ki=!bn)):(bn=$i,(hi||!$i)&&($i="error",hi<0&&(hi=0))),ri.status=hi,ri.statusText=(bi||$i)+"",Ki?si.resolveWith(_t,[wn,$i,ri]):si.rejectWith(_t,[ri,$i,bn]),ri.statusCode(Si),Si=void 0,$e&&Kt.trigger(Ki?"ajaxSuccess":"ajaxError",[ri,at,Ki?wn:bn]),$t.fireWith(_t,[ri,$i]),$e&&(Kt.trigger("ajaxComplete",[ri,at]),--l.active||l.event.trigger("ajaxStop")))}return ri},getJSON:function(f,T,M){return l.get(f,T,M,"json")},getScript:function(f,T){return l.get(f,void 0,T,"script")}}),l.each(["get","post"],function(f,T){l[T]=function(M,k,X,te){return D(k)&&(te=te||X,X=k,k=void 0),l.ajax(l.extend({url:M,type:T,dataType:te,data:k,success:X},l.isPlainObject(M)&&M))}}),l.ajaxPrefilter(function(f){var T;for(T in f.headers)T.toLowerCase()==="content-type"&&(f.contentType=f.headers[T]||"")}),l._evalUrl=function(f,T,M){return l.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(k){l.globalEval(k,T,M)}})},l.fn.extend({wrapAll:function(f){var T;return this[0]&&(D(f)&&(f=f.call(this[0])),T=l(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&T.insertBefore(this[0]),T.map(function(){for(var M=this;M.firstElementChild;)M=M.firstElementChild;return M}).append(this)),this},wrapInner:function(f){return D(f)?this.each(function(T){l(this).wrapInner(f.call(this,T))}):this.each(function(){var T=l(this),M=T.contents();M.length?M.wrapAll(f):T.append(f)})},wrap:function(f){var T=D(f);return this.each(function(M){l(this).wrapAll(T?f.call(this,M):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(f){return!l.expr.pseudos.visible(f)},l.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Zr={0:200,1223:204},On=l.ajaxSettings.xhr();b.cors=!!On&&"withCredentials"in On,b.ajax=On=!!On,l.ajaxTransport(function(f){var T,M;if(b.cors||On&&!f.crossDomain)return{send:function(k,X){var te,ge=f.xhr();if(ge.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(te in f.xhrFields)ge[te]=f.xhrFields[te];f.mimeType&&ge.overrideMimeType&&ge.overrideMimeType(f.mimeType),!f.crossDomain&&!k["X-Requested-With"]&&(k["X-Requested-With"]="XMLHttpRequest");for(te in k)ge.setRequestHeader(te,k[te]);T=function(Le){return function(){T&&(T=M=ge.onload=ge.onerror=ge.onabort=ge.ontimeout=ge.onreadystatechange=null,Le==="abort"?ge.abort():Le==="error"?typeof ge.status!="number"?X(0,"error"):X(ge.status,ge.statusText):X(Zr[ge.status]||ge.status,ge.statusText,(ge.responseType||"text")!=="text"||typeof ge.responseText!="string"?{binary:ge.response}:{text:ge.responseText},ge.getAllResponseHeaders()))}},ge.onload=T(),M=ge.onerror=ge.ontimeout=T("error"),ge.onabort!==void 0?ge.onabort=M:ge.onreadystatechange=function(){ge.readyState===4&&t.setTimeout(function(){T&&M()})},T=T("abort");try{ge.send(f.hasContent&&f.data||null)}catch(Le){if(T)throw Le}},abort:function(){T&&T()}}}),l.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return l.globalEval(f),f}}}),l.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),l.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var T,M;return{send:function(k,X){T=l("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",M=function(te){T.remove(),M=null,te&&X(te.type==="error"?404:200,te.type)}),R.head.appendChild(T[0])},abort:function(){M&&M()}}}});var xr=[],nr=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=xr.pop()||l.expando+"_"+fn.guid++;return this[f]=!0,f}}),l.ajaxPrefilter("json jsonp",function(f,T,M){var k,X,te,ge=f.jsonp!==!1&&(nr.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&nr.test(f.data)&&"data");if(ge||f.dataTypes[0]==="jsonp")return k=f.jsonpCallback=D(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,ge?f[ge]=f[ge].replace(nr,"$1"+k):f.jsonp!==!1&&(f.url+=(Fi.test(f.url)?"&":"?")+f.jsonp+"="+k),f.converters["script json"]=function(){return te||l.error(k+" was not called"),te[0]},f.dataTypes[0]="json",X=t[k],t[k]=function(){te=arguments},M.always(function(){X===void 0?l(t).removeProp(k):t[k]=X,f[k]&&(f.jsonpCallback=T.jsonpCallback,xr.push(k)),te&&D(X)&&X(te[0]),te=X=void 0}),"script"}),b.createHTMLDocument=function(){var f=R.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),l.parseHTML=function(f,T,M){if(typeof f!="string")return[];typeof T=="boolean"&&(M=T,T=!1);var k,X,te;return T||(b.createHTMLDocument?(T=R.implementation.createHTMLDocument(""),k=T.createElement("base"),k.href=R.location.href,T.head.appendChild(k)):T=R),X=re.exec(f),te=!M&&[],X?[T.createElement(X[1])]:(X=gt([f],T,te),te&&te.length&&l(te).remove(),l.merge([],X.childNodes))},l.fn.load=function(f,T,M){var k,X,te,ge=this,Le=f.indexOf(" ");return Le>-1&&(k=yt(f.slice(Le)),f=f.slice(0,Le)),D(T)?(M=T,T=void 0):T&&typeof T=="object"&&(X="POST"),ge.length>0&&l.ajax({url:f,type:X||"GET",dataType:"html",data:T}).done(function(He){te=arguments,ge.html(k?l("<div>").append(l.parseHTML(He)).find(k):He)}).always(M&&function(He,$e){ge.each(function(){M.apply(this,te||[He.responseText,$e,He])})}),this},l.expr.pseudos.animated=function(f){return l.grep(l.timers,function(T){return f===T.elem}).length},l.offset={setOffset:function(f,T,M){var k,X,te,ge,Le,He,$e,dt=l.css(f,"position"),Nt=l(f),at={};dt==="static"&&(f.style.position="relative"),Le=Nt.offset(),te=l.css(f,"top"),He=l.css(f,"left"),$e=(dt==="absolute"||dt==="fixed")&&(te+He).indexOf("auto")>-1,$e?(k=Nt.position(),ge=k.top,X=k.left):(ge=parseFloat(te)||0,X=parseFloat(He)||0),D(T)&&(T=T.call(f,M,l.extend({},Le))),T.top!=null&&(at.top=T.top-Le.top+ge),T.left!=null&&(at.left=T.left-Le.left+X),"using"in T?T.using.call(f,at):(typeof at.top=="number"&&(at.top+="px"),typeof at.left=="number"&&(at.left+="px"),Nt.css(at))}},l.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(X){l.offset.setOffset(this,f,X)});var T,M,k=this[0];if(!!k)return k.getClientRects().length?(T=k.getBoundingClientRect(),M=k.ownerDocument.defaultView,{top:T.top+M.pageYOffset,left:T.left+M.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var f,T,M,k=this[0],X={top:0,left:0};if(l.css(k,"position")==="fixed")T=k.getBoundingClientRect();else{for(T=this.offset(),M=k.ownerDocument,f=k.offsetParent||M.documentElement;f&&(f===M.body||f===M.documentElement)&&l.css(f,"position")==="static";)f=f.parentNode;f&&f!==k&&f.nodeType===1&&(X=l(f).offset(),X.top+=l.css(f,"borderTopWidth",!0),X.left+=l.css(f,"borderLeftWidth",!0))}return{top:T.top-X.top-l.css(k,"marginTop",!0),left:T.left-X.left-l.css(k,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&l.css(f,"position")==="static";)f=f.offsetParent;return f||J})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,T){var M=T==="pageYOffset";l.fn[f]=function(k){return Ce(this,function(X,te,ge){var Le;if(P(X)?Le=X:X.nodeType===9&&(Le=X.defaultView),ge===void 0)return Le?Le[T]:X[te];Le?Le.scrollTo(M?Le.pageXOffset:ge,M?ge:Le.pageYOffset):X[te]=ge},f,k,arguments.length)}}),l.each(["top","left"],function(f,T){l.cssHooks[T]=je(b.pixelPosition,function(M,k){if(k)return k=Me(M,T),B.test(k)?l(M).position()[T]+"px":k})}),l.each({Height:"height",Width:"width"},function(f,T){l.each({padding:"inner"+f,content:T,"":"outer"+f},function(M,k){l.fn[k]=function(X,te){var ge=arguments.length&&(M||typeof X!="boolean"),Le=M||(X===!0||te===!0?"margin":"border");return Ce(this,function(He,$e,dt){var Nt;return P(He)?k.indexOf("outer")===0?He["inner"+f]:He.document.documentElement["client"+f]:He.nodeType===9?(Nt=He.documentElement,Math.max(He.body["scroll"+f],Nt["scroll"+f],He.body["offset"+f],Nt["offset"+f],Nt["client"+f])):dt===void 0?l.css(He,$e,Le):l.style(He,$e,dt,Le)},T,ge?X:void 0,ge)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,T){l.fn[T]=function(M){return this.on(T,M)}}),l.fn.extend({bind:function(f,T,M){return this.on(f,null,T,M)},unbind:function(f,T){return this.off(f,null,T)},delegate:function(f,T,M,k){return this.on(T,f,M,k)},undelegate:function(f,T,M){return arguments.length===1?this.off(f,"**"):this.off(T,f||"**",M)},hover:function(f,T){return this.mouseenter(f).mouseleave(T||f)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,T){l.fn[T]=function(M,k){return arguments.length>0?this.on(T,null,M,k):this.trigger(T)}});var Jr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;l.proxy=function(f,T){var M,k,X;if(typeof T=="string"&&(M=f[T],T=f,f=M),!!D(f))return k=p.call(arguments,2),X=function(){return f.apply(T||this,k.concat(p.call(arguments)))},X.guid=f.guid=f.guid||l.guid++,X},l.holdReady=function(f){f?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=pe,l.isFunction=D,l.isWindow=P,l.camelCase=N,l.type=H,l.now=Date.now,l.isNumeric=function(f){var T=l.type(f);return(T==="number"||T==="string")&&!isNaN(f-parseFloat(f))},l.trim=function(f){return f==null?"":(f+"").replace(Jr,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return l});var $r=t.jQuery,es=t.$;return l.noConflict=function(f){return t.$===l&&(t.$=es),f&&t.jQuery===l&&(t.jQuery=$r),l},typeof d=="undefined"&&(t.jQuery=t.$=l),l})});var Zs=ss(()=>{(function(t){"use strict";typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){"use strict";t.ui=t.ui||{};var d=t.ui.version="1.13.2";var o=0,u=Array.prototype.hasOwnProperty,p=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,g;for(g=0;(r=i[g])!=null;g++)n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove");e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,g,I,B={},G=e.split(".")[0];e=e.split(".")[1];var oe=G+"-"+e;return n||(n=i,i=t.Widget),Array.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr.pseudos[oe.toLowerCase()]=function(Re){return!!t.data(Re,oe)},t[G]=t[G]||{},r=t[G][e],g=t[G][e]=function(Re,Me){if(!this||!this._createWidget)return new g(Re,Me);arguments.length&&this._createWidget(Re,Me)},t.extend(g,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),I=new i,I.options=t.widget.extend({},I.options),t.each(n,function(Re,Me){if(typeof Me!="function"){B[Re]=Me;return}B[Re]=function(){function je(){return i.prototype[Re].apply(this,arguments)}function ze(Ne){return i.prototype[Re].apply(this,Ne)}return function(){var Ne=this._super,Oe=this._superApply,tt;return this._super=je,this._superApply=ze,tt=Me.apply(this,arguments),this._super=Ne,this._superApply=Oe,tt}}()}),g.prototype=t.widget.extend(I,{widgetEventPrefix:r&&I.widgetEventPrefix||e},B,{constructor:g,namespace:G,widgetName:e,widgetFullName:oe}),r?(t.each(r._childConstructors,function(Re,Me){var je=Me.prototype;t.widget(je.namespace+"."+je.widgetName,g,Me._proto)}),delete r._childConstructors):i._childConstructors.push(g),t.widget.bridge(e,g),g},t.widget.extend=function(e){for(var i=p.call(arguments,1),n=0,r=i.length,g,I;n<r;n++)for(g in i[n])I=i[n][g],u.call(i[n],g)&&I!==void 0&&(t.isPlainObject(I)?e[g]=t.isPlainObject(e[g])?t.widget.extend({},e[g],I):t.widget.extend({},I):e[g]=I);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var g=typeof r=="string",I=p.call(arguments,1),B=this;return g?!this.length&&r==="instance"?B=void 0:this.each(function(){var G,oe=t.data(this,n);if(r==="instance")return B=oe,!1;if(!oe)return t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'");if(typeof oe[r]!="function"||r.charAt(0)==="_")return t.error("no such method '"+r+"' for "+e+" widget instance");if(G=oe[r].apply(oe,I),G!==oe&&G!==void 0)return B=G&&G.jquery?B.pushStack(G.get()):G,!1}):(I.length&&(r=t.widget.extend.apply(null,[r].concat(I))),this.each(function(){var G=t.data(this,n);G?(G.option(r||{}),G._init&&G._init()):t.data(this,n,new i(r,this))})),B}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(i,n){e._removeClass(n,i)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n=e,r,g,I;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof e=="string")if(n={},r=e.split("."),e=r.shift(),r.length){for(g=n[e]=t.widget.extend({},this.options[e]),I=0;I<r.length-1;I++)g[r[I]]=g[r[I]]||{},g=g[r[I]];if(e=r.pop(),arguments.length===1)return g[e]===void 0?null:g[e];g[e]=i}else{if(arguments.length===1)return this.options[e]===void 0?null:this.options[e];n[e]=i}return this._setOptions(n),this},_setOptions:function(e){var i;for(i in e)this._setOption(i,e[i]);return this},_setOption:function(e,i){return e==="classes"&&this._setOptionClasses(i),this.options[e]=i,e==="disabled"&&this._setOptionDisabled(i),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],!(e[i]===this.options.classes[i]||!r||!r.length)&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(){var I=[];e.element.each(function(B,G){var oe=t.map(n.classesElementLookup,function(Re){return Re}).some(function(Re){return Re.is(G)});oe||I.push(G)}),n._on(t(I),{remove:"_untrackClassesElement"})}function g(I,B){var G,oe;for(oe=0;oe<I.length;oe++)G=n.classesElementLookup[I[oe]]||t(),e.add?(r(),G=t(t.uniqueSort(G.get().concat(e.element.get())))):G=t(G.not(e.element).get()),n.classesElementLookup[I[oe]]=G,i.push(I[oe]),B&&e.classes[I[oe]]&&i.push(e.classes[I[oe]])}return e.keys&&g(e.keys.match(/\S+/g)||[],!0),e.extra&&g(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){t.inArray(e.target,r)!==-1&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}),this._off(t(e.target))},_removeClass:function(e,i,n){return this._toggleClass(e,i,n,!1)},_addClass:function(e,i,n){return this._toggleClass(e,i,n,!0)},_toggleClass:function(e,i,n,r){r=typeof r=="boolean"?r:n;var g=typeof e=="string"||e===null,I={extra:g?i:n,keys:g?e:i,element:g?this.element:e,add:r};return I.element.toggleClass(this._classes(I),r),this},_on:function(e,i,n){var r,g=this;typeof e!="boolean"&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(I,B){function G(){if(!(!e&&(g.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof B=="string"?g[B]:B).apply(g,arguments)}typeof B!="string"&&(G.guid=B.guid=B.guid||G.guid||t.guid++);var oe=I.match(/^([\w:-]*)\s*(.*)$/),Re=oe[1]+g.eventNamespace,Me=oe[2];Me?r.on(Re,Me,G):i.on(Re,G)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(e,i){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,i||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(i){this._addClass(t(i.currentTarget),null,"ui-state-hover")},mouseleave:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(i){this._addClass(t(i.currentTarget),null,"ui-state-focus")},focusout:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,g,I=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],g=i.originalEvent,g)for(r in g)r in i||(i[r]=g[r]);return this.element.trigger(i,n),!(typeof I=="function"&&I.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,g){typeof r=="string"&&(r={effect:r});var I,B=r?r===!0||typeof r=="number"?i:r.effect||i:e;r=r||{},typeof r=="number"?r={duration:r}:r===!0&&(r={}),I=!t.isEmptyObject(r),r.complete=g,r.delay&&n.delay(r.delay),I&&t.effects&&t.effects.effect[B]?n[e](r):B!==e&&n[B]?n[B](r.duration,r.easing,g):n.queue(function(G){t(this)[e](),g&&g.call(n[0]),G()})}});var y=t.widget;(function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,g=/top|center|bottom/,I=/[\+\-]\d+(\.[\d]+)?%?/,B=/^\w+/,G=/%$/,oe=t.fn.position;function Re(Ne,Oe,tt){return[parseFloat(Ne[0])*(G.test(Ne[0])?Oe/100:1),parseFloat(Ne[1])*(G.test(Ne[1])?tt/100:1)]}function Me(Ne,Oe){return parseInt(t.css(Ne,Oe),10)||0}function je(Ne){return Ne!=null&&Ne===Ne.window}function ze(Ne){var Oe=Ne[0];return Oe.nodeType===9?{width:Ne.width(),height:Ne.height(),offset:{top:0,left:0}}:je(Oe)?{width:Ne.width(),height:Ne.height(),offset:{top:Ne.scrollTop(),left:Ne.scrollLeft()}}:Oe.preventDefault?{width:0,height:0,offset:{top:Oe.pageY,left:Oe.pageX}}:{width:Ne.outerWidth(),height:Ne.outerHeight(),offset:Ne.offset()}}t.position={scrollbarWidth:function(){if(e!==void 0)return e;var Ne,Oe,tt=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),it=tt.children()[0];return t("body").append(tt),Ne=it.offsetWidth,tt.css("overflow","scroll"),Oe=it.offsetWidth,Ne===Oe&&(Oe=tt[0].clientWidth),tt.remove(),e=Ne-Oe},getScrollInfo:function(Ne){var Oe=Ne.isWindow||Ne.isDocument?"":Ne.element.css("overflow-x"),tt=Ne.isWindow||Ne.isDocument?"":Ne.element.css("overflow-y"),it=Oe==="scroll"||Oe==="auto"&&Ne.width<Ne.element[0].scrollWidth,xt=tt==="scroll"||tt==="auto"&&Ne.height<Ne.element[0].scrollHeight;return{width:xt?t.position.scrollbarWidth():0,height:it?t.position.scrollbarWidth():0}},getWithinInfo:function(Ne){var Oe=t(Ne||window),tt=je(Oe[0]),it=!!Oe[0]&&Oe[0].nodeType===9,xt=!tt&&!it;return{element:Oe,isWindow:tt,isDocument:it,offset:xt?t(Ne).offset():{left:0,top:0},scrollLeft:Oe.scrollLeft(),scrollTop:Oe.scrollTop(),width:Oe.outerWidth(),height:Oe.outerHeight()}}},t.fn.position=function(Ne){if(!Ne||!Ne.of)return oe.apply(this,arguments);Ne=t.extend({},Ne);var Oe,tt,it,xt,Ot,qt,zt=typeof Ne.of=="string"?t(document).find(Ne.of):t(Ne.of),Wt=t.position.getWithinInfo(Ne.within),Bt=t.position.getScrollInfo(Wt),rt=(Ne.collision||"flip").split(" "),Ct={};return qt=ze(zt),zt[0].preventDefault&&(Ne.at="left top"),tt=qt.width,it=qt.height,xt=qt.offset,Ot=t.extend({},xt),t.each(["my","at"],function(){var Pt=(Ne[this]||"").split(" "),Gt,Yt;Pt.length===1&&(Pt=r.test(Pt[0])?Pt.concat(["center"]):g.test(Pt[0])?["center"].concat(Pt):["center","center"]),Pt[0]=r.test(Pt[0])?Pt[0]:"center",Pt[1]=g.test(Pt[1])?Pt[1]:"center",Gt=I.exec(Pt[0]),Yt=I.exec(Pt[1]),Ct[this]=[Gt?Gt[0]:0,Yt?Yt[0]:0],Ne[this]=[B.exec(Pt[0])[0],B.exec(Pt[1])[0]]}),rt.length===1&&(rt[1]=rt[0]),Ne.at[0]==="right"?Ot.left+=tt:Ne.at[0]==="center"&&(Ot.left+=tt/2),Ne.at[1]==="bottom"?Ot.top+=it:Ne.at[1]==="center"&&(Ot.top+=it/2),Oe=Re(Ct.at,tt,it),Ot.left+=Oe[0],Ot.top+=Oe[1],this.each(function(){var Pt,Gt,Yt=t(this),ei=Yt.outerWidth(),Xt=Yt.outerHeight(),ni=Me(this,"marginLeft"),li=Me(this,"marginTop"),ai=ei+ni+Me(this,"marginRight")+Bt.width,ci=Xt+li+Me(this,"marginBottom")+Bt.height,Je=t.extend({},Ot),Dt=Re(Ct.my,Yt.outerWidth(),Yt.outerHeight());Ne.my[0]==="right"?Je.left-=ei:Ne.my[0]==="center"&&(Je.left-=ei/2),Ne.my[1]==="bottom"?Je.top-=Xt:Ne.my[1]==="center"&&(Je.top-=Xt/2),Je.left+=Dt[0],Je.top+=Dt[1],Pt={marginLeft:ni,marginTop:li},t.each(["left","top"],function(le,Ue){t.ui.position[rt[le]]&&t.ui.position[rt[le]][Ue](Je,{targetWidth:tt,targetHeight:it,elemWidth:ei,elemHeight:Xt,collisionPosition:Pt,collisionWidth:ai,collisionHeight:ci,offset:[Oe[0]+Dt[0],Oe[1]+Dt[1]],my:Ne.my,at:Ne.at,within:Wt,elem:Yt})}),Ne.using&&(Gt=function(le){var Ue=xt.left-Je.left,ot=Ue+tt-ei,mt=xt.top-Je.top,yt=mt+it-Xt,kt={target:{element:zt,left:xt.left,top:xt.top,width:tt,height:it},element:{element:Yt,left:Je.left,top:Je.top,width:ei,height:Xt},horizontal:ot<0?"left":Ue>0?"right":"center",vertical:yt<0?"top":mt>0?"bottom":"middle"};tt<ei&&n(Ue+ot)<tt&&(kt.horizontal="center"),it<Xt&&n(mt+yt)<it&&(kt.vertical="middle"),i(n(Ue),n(ot))>i(n(mt),n(yt))?kt.important="horizontal":kt.important="vertical",Ne.using.call(this,le,kt)}),Yt.offset(t.extend(Je,{using:Gt}))})},t.ui.position={fit:{left:function(Ne,Oe){var tt=Oe.within,it=tt.isWindow?tt.scrollLeft:tt.offset.left,xt=tt.width,Ot=Ne.left-Oe.collisionPosition.marginLeft,qt=it-Ot,zt=Ot+Oe.collisionWidth-xt-it,Wt;Oe.collisionWidth>xt?qt>0&&zt<=0?(Wt=Ne.left+qt+Oe.collisionWidth-xt-it,Ne.left+=qt-Wt):zt>0&&qt<=0?Ne.left=it:qt>zt?Ne.left=it+xt-Oe.collisionWidth:Ne.left=it:qt>0?Ne.left+=qt:zt>0?Ne.left-=zt:Ne.left=i(Ne.left-Ot,Ne.left)},top:function(Ne,Oe){var tt=Oe.within,it=tt.isWindow?tt.scrollTop:tt.offset.top,xt=Oe.within.height,Ot=Ne.top-Oe.collisionPosition.marginTop,qt=it-Ot,zt=Ot+Oe.collisionHeight-xt-it,Wt;Oe.collisionHeight>xt?qt>0&&zt<=0?(Wt=Ne.top+qt+Oe.collisionHeight-xt-it,Ne.top+=qt-Wt):zt>0&&qt<=0?Ne.top=it:qt>zt?Ne.top=it+xt-Oe.collisionHeight:Ne.top=it:qt>0?Ne.top+=qt:zt>0?Ne.top-=zt:Ne.top=i(Ne.top-Ot,Ne.top)}},flip:{left:function(Ne,Oe){var tt=Oe.within,it=tt.offset.left+tt.scrollLeft,xt=tt.width,Ot=tt.isWindow?tt.scrollLeft:tt.offset.left,qt=Ne.left-Oe.collisionPosition.marginLeft,zt=qt-Ot,Wt=qt+Oe.collisionWidth-xt-Ot,Bt=Oe.my[0]==="left"?-Oe.elemWidth:Oe.my[0]==="right"?Oe.elemWidth:0,rt=Oe.at[0]==="left"?Oe.targetWidth:Oe.at[0]==="right"?-Oe.targetWidth:0,Ct=-2*Oe.offset[0],Pt,Gt;zt<0?(Pt=Ne.left+Bt+rt+Ct+Oe.collisionWidth-xt-it,(Pt<0||Pt<n(zt))&&(Ne.left+=Bt+rt+Ct)):Wt>0&&(Gt=Ne.left-Oe.collisionPosition.marginLeft+Bt+rt+Ct-Ot,(Gt>0||n(Gt)<Wt)&&(Ne.left+=Bt+rt+Ct))},top:function(Ne,Oe){var tt=Oe.within,it=tt.offset.top+tt.scrollTop,xt=tt.height,Ot=tt.isWindow?tt.scrollTop:tt.offset.top,qt=Ne.top-Oe.collisionPosition.marginTop,zt=qt-Ot,Wt=qt+Oe.collisionHeight-xt-Ot,Bt=Oe.my[1]==="top",rt=Bt?-Oe.elemHeight:Oe.my[1]==="bottom"?Oe.elemHeight:0,Ct=Oe.at[1]==="top"?Oe.targetHeight:Oe.at[1]==="bottom"?-Oe.targetHeight:0,Pt=-2*Oe.offset[1],Gt,Yt;zt<0?(Yt=Ne.top+rt+Ct+Pt+Oe.collisionHeight-xt-it,(Yt<0||Yt<n(zt))&&(Ne.top+=rt+Ct+Pt)):Wt>0&&(Gt=Ne.top-Oe.collisionPosition.marginTop+rt+Ct+Pt-Ot,(Gt>0||n(Gt)<Wt)&&(Ne.top+=rt+Ct+Pt))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}})();var c=t.ui.position;var _=t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}});var v=t.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(i){i.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),E=t;var m="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",w={},A=w.toString,b=/^([\-+])=\s*(\d+\.?\d*)/,D=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],P=E.Color=function(e,i,n,r){return new E.Color.fn.parse(e,i,n,r)},R={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},j={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},W=P.support={},H=E("<p>")[0],S,l=E.each;H.style.cssText="background-color:rgba(1,1,1,.5)",W.rgba=H.style.backgroundColor.indexOf("rgba")>-1,l(R,function(e,i){i.cache="_"+e,i.props.alpha={idx:3,type:"percent",def:1}}),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,i){w["[object "+i+"]"]=i.toLowerCase()});function Y(e){return e==null?e+"":typeof e=="object"?w[A.call(e)]||"object":typeof e}function C(e,i,n){var r=j[i.type]||{};return e==null?n||!i.def?null:i.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?i.def:r.mod?(e+r.mod)%r.mod:Math.min(r.max,Math.max(0,e)))}function O(e){var i=P(),n=i._rgba=[];return e=e.toLowerCase(),l(D,function(r,g){var I,B=g.re.exec(e),G=B&&g.parse(B),oe=g.space||"rgba";if(G)return I=i[oe](G),i[R[oe].cache]=I[R[oe].cache],n=i._rgba=I._rgba,!1}),n.length?(n.join()==="0,0,0,0"&&E.extend(n,S.transparent),i):S[e]}P.fn=E.extend(P.prototype,{parse:function(e,i,n,r){if(e===void 0)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=E(e).css(i),i=void 0);var g=this,I=Y(e),B=this._rgba=[];if(i!==void 0&&(e=[e,i,n,r],I="array"),I==="string")return this.parse(O(e)||S._default);if(I==="array")return l(R.rgba.props,function(G,oe){B[oe.idx]=C(e[oe.idx],oe)}),this;if(I==="object")return e instanceof P?l(R,function(G,oe){e[oe.cache]&&(g[oe.cache]=e[oe.cache].slice())}):l(R,function(G,oe){var Re=oe.cache;l(oe.props,function(Me,je){if(!g[Re]&&oe.to){if(Me==="alpha"||e[Me]==null)return;g[Re]=oe.to(g._rgba)}g[Re][je.idx]=C(e[Me],je,!0)}),g[Re]&&E.inArray(null,g[Re].slice(0,3))<0&&(g[Re][3]==null&&(g[Re][3]=1),oe.from&&(g._rgba=oe.from(g[Re])))}),this},is:function(e){var i=P(e),n=!0,r=this;return l(R,function(g,I){var B,G=i[I.cache];return G&&(B=r[I.cache]||I.to&&I.to(r._rgba)||[],l(I.props,function(oe,Re){if(G[Re.idx]!=null)return n=G[Re.idx]===B[Re.idx],n})),n}),n},_space:function(){var e=[],i=this;return l(R,function(n,r){i[r.cache]&&e.push(n)}),e.pop()},transition:function(e,i){var n=P(e),r=n._space(),g=R[r],I=this.alpha()===0?P("transparent"):this,B=I[g.cache]||g.to(I._rgba),G=B.slice();return n=n[g.cache],l(g.props,function(oe,Re){var Me=Re.idx,je=B[Me],ze=n[Me],Ne=j[Re.type]||{};ze!==null&&(je===null?G[Me]=ze:(Ne.mod&&(ze-je>Ne.mod/2?je+=Ne.mod:je-ze>Ne.mod/2&&(je-=Ne.mod)),G[Me]=C((ze-je)*i+je,Re)))}),this[r](G)},blend:function(e){if(this._rgba[3]===1)return this;var i=this._rgba.slice(),n=i.pop(),r=P(e)._rgba;return P(E.map(i,function(g,I){return(1-n)*r[I]+n*g}))},toRgbaString:function(){var e="rgba(",i=E.map(this._rgba,function(n,r){return n??(r>2?1:0)});return i[3]===1&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=E.map(this.hsla(),function(n,r){return n==null&&(n=r>2?1:0),r&&r<3&&(n=Math.round(n*100)+"%"),n});return i[3]===1&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(n*255)),"#"+E.map(i,function(r){return r=(r||0).toString(16),r.length===1?"0"+r:r}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),P.fn.parse.prototype=P.fn;function q(e,i,n){return n=(n+1)%1,n*6<1?e+(i-e)*n*6:n*2<1?i:n*3<2?e+(i-e)*(2/3-n)*6:e}R.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/255,n=e[1]/255,r=e[2]/255,g=e[3],I=Math.max(i,n,r),B=Math.min(i,n,r),G=I-B,oe=I+B,Re=oe*.5,Me,je;return B===I?Me=0:i===I?Me=60*(n-r)/G+360:n===I?Me=60*(r-i)/G+120:Me=60*(i-n)/G+240,G===0?je=0:Re<=.5?je=G/oe:je=G/(2-oe),[Math.round(Me)%360,je,Re,g??1]},R.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/360,n=e[1],r=e[2],g=e[3],I=r<=.5?r*(1+n):r+n-r*n,B=2*r-I;return[Math.round(q(B,I,i+1/3)*255),Math.round(q(B,I,i)*255),Math.round(q(B,I,i-1/3)*255),g]},l(R,function(e,i){var n=i.props,r=i.cache,g=i.to,I=i.from;P.fn[e]=function(B){if(g&&!this[r]&&(this[r]=g(this._rgba)),B===void 0)return this[r].slice();var G,oe=Y(B),Re=oe==="array"||oe==="object"?B:arguments,Me=this[r].slice();return l(n,function(je,ze){var Ne=Re[oe==="object"?je:ze.idx];Ne==null&&(Ne=Me[ze.idx]),Me[ze.idx]=C(Ne,ze)}),I?(G=P(I(Me)),G[r]=Me,G):P(Me)},l(n,function(B,G){P.fn[B]||(P.fn[B]=function(oe){var Re,Me,je,ze,Ne=Y(oe);return B==="alpha"?ze=this._hsla?"hsla":"rgba":ze=e,Re=this[ze](),Me=Re[G.idx],Ne==="undefined"?Me:(Ne==="function"&&(oe=oe.call(this,Me),Ne=Y(oe)),oe==null&&G.empty?this:(Ne==="string"&&(je=b.exec(oe),je&&(oe=Me+parseFloat(je[2])*(je[1]==="+"?1:-1))),Re[G.idx]=oe,this[ze](Re)))})})}),P.hook=function(e){var i=e.split(" ");l(i,function(n,r){E.cssHooks[r]={set:function(g,I){var B,G,oe="";if(I!=="transparent"&&(Y(I)!=="string"||(B=O(I)))){if(I=P(B||I),!W.rgba&&I._rgba[3]!==1){for(G=r==="backgroundColor"?g.parentNode:g;(oe===""||oe==="transparent")&&G&&G.style;)try{oe=E.css(G,"backgroundColor"),G=G.parentNode}catch{}I=I.blend(oe&&oe!=="transparent"?oe:"_default")}I=I.toRgbaString()}try{g.style[r]=I}catch{}}},E.fx.step[r]=function(g){g.colorInit||(g.start=P(g.elem,r),g.end=P(g.end),g.colorInit=!0),E.cssHooks[r].set(g.elem,g.start.transition(g.end,g.pos))}})},P.hook(m),E.cssHooks.borderColor={expand:function(e){var i={};return l(["Top","Right","Bottom","Left"],function(n,r){i["border"+r+"Color"]=e}),i}},S=E.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var Q="ui-effects-",pe="ui-effects-style",re="ui-effects-animated";t.effects={effect:{}},function(){var e=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(I,B){t.fx.step[B]=function(G){(G.end!=="none"&&!G.setAttr||G.pos===1&&!G.setAttr)&&(E.style(G.elem,B,G.end),G.setAttr=!0)}});function n(I){return I.replace(/-([\da-z])/gi,function(B,G){return G.toUpperCase()})}function r(I){var B,G,oe=I.ownerDocument.defaultView?I.ownerDocument.defaultView.getComputedStyle(I,null):I.currentStyle,Re={};if(oe&&oe.length&&oe[0]&&oe[oe[0]])for(G=oe.length;G--;)B=oe[G],typeof oe[B]=="string"&&(Re[n(B)]=oe[B]);else for(B in oe)typeof oe[B]=="string"&&(Re[B]=oe[B]);return Re}function g(I,B){var G={},oe,Re;for(oe in B)Re=B[oe],I[oe]!==Re&&(i[oe]||(t.fx.step[oe]||!isNaN(parseFloat(Re)))&&(G[oe]=Re));return G}t.fn.addBack||(t.fn.addBack=function(I){return this.add(I==null?this.prevObject:this.prevObject.filter(I))}),t.effects.animateClass=function(I,B,G,oe){var Re=t.speed(B,G,oe);return this.queue(function(){var Me=t(this),je=Me.attr("class")||"",ze,Ne=Re.children?Me.find("*").addBack():Me;Ne=Ne.map(function(){var Oe=t(this);return{el:Oe,start:r(this)}}),ze=function(){t.each(e,function(Oe,tt){I[tt]&&Me[tt+"Class"](I[tt])})},ze(),Ne=Ne.map(function(){return this.end=r(this.el[0]),this.diff=g(this.start,this.end),this}),Me.attr("class",je),Ne=Ne.map(function(){var Oe=this,tt=t.Deferred(),it=t.extend({},Re,{queue:!1,complete:function(){tt.resolve(Oe)}});return this.el.animate(this.diff,it),tt.promise()}),t.when.apply(t,Ne.get()).done(function(){ze(),t.each(arguments,function(){var Oe=this.el;t.each(this.diff,function(tt){Oe.css(tt,"")})}),Re.complete.call(Me[0])})})},t.fn.extend({addClass:function(I){return function(B,G,oe,Re){return G?t.effects.animateClass.call(this,{add:B},G,oe,Re):I.apply(this,arguments)}}(t.fn.addClass),removeClass:function(I){return function(B,G,oe,Re){return arguments.length>1?t.effects.animateClass.call(this,{remove:B},G,oe,Re):I.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(I){return function(B,G,oe,Re,Me){return typeof G=="boolean"||G===void 0?oe?t.effects.animateClass.call(this,G?{add:B}:{remove:B},oe,Re,Me):I.apply(this,arguments):t.effects.animateClass.call(this,{toggle:B},G,oe,Re)}}(t.fn.toggleClass),switchClass:function(I,B,G,oe,Re){return t.effects.animateClass.call(this,{add:B,remove:I},G,oe,Re)}})}(),function(){t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(r){return function(g){return!!t(g).data(re)||r(g)}}(t.expr.pseudos.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(r,g){for(var I=0,B=g.length;I<B;I++)g[I]!==null&&r.data(Q+g[I],r[0].style[g[I]])},restore:function(r,g){for(var I,B=0,G=g.length;B<G;B++)g[B]!==null&&(I=r.data(Q+g[B]),r.css(g[B],I))},setMode:function(r,g){return g==="toggle"&&(g=r.is(":hidden")?"show":"hide"),g},createWrapper:function(r){if(r.parent().is(".ui-effects-wrapper"))return r.parent();var g={width:r.outerWidth(!0),height:r.outerHeight(!0),float:r.css("float")},I=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),B={width:r.width(),height:r.height()},G=document.activeElement;try{G.id}catch{G=document.body}return r.wrap(I),(r[0]===G||t.contains(r[0],G))&&t(G).trigger("focus"),I=r.parent(),r.css("position")==="static"?(I.css({position:"relative"}),r.css({position:"relative"})):(t.extend(g,{position:r.css("position"),zIndex:r.css("z-index")}),t.each(["top","left","bottom","right"],function(oe,Re){g[Re]=r.css(Re),isNaN(parseInt(g[Re],10))&&(g[Re]="auto")}),r.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(B),I.css(g).show()},removeWrapper:function(r){var g=document.activeElement;return r.parent().is(".ui-effects-wrapper")&&(r.parent().replaceWith(r),(r[0]===g||t.contains(r[0],g))&&t(g).trigger("focus")),r}}),t.extend(t.effects,{version:"1.13.2",define:function(r,g,I){return I||(I=g,g="effect"),t.effects.effect[r]=I,t.effects.effect[r].mode=g,I},scaledDimensions:function(r,g,I){if(g===0)return{height:0,width:0,outerHeight:0,outerWidth:0};var B=I!=="horizontal"?(g||100)/100:1,G=I!=="vertical"?(g||100)/100:1;return{height:r.height()*G,width:r.width()*B,outerHeight:r.outerHeight()*G,outerWidth:r.outerWidth()*B}},clipToBox:function(r){return{width:r.clip.right-r.clip.left,height:r.clip.bottom-r.clip.top,left:r.clip.left,top:r.clip.top}},unshift:function(r,g,I){var B=r.queue();g>1&&B.splice.apply(B,[1,0].concat(B.splice(g,I))),r.dequeue()},saveStyle:function(r){r.data(pe,r[0].style.cssText)},restoreStyle:function(r){r[0].style.cssText=r.data(pe)||"",r.removeData(pe)},mode:function(r,g){var I=r.is(":hidden");return g==="toggle"&&(g=I?"show":"hide"),(I?g==="hide":g==="show")&&(g="none"),g},getBaseline:function(r,g){var I,B;switch(r[0]){case"top":I=0;break;case"middle":I=.5;break;case"bottom":I=1;break;default:I=r[0]/g.height}switch(r[1]){case"left":B=0;break;case"center":B=.5;break;case"right":B=1;break;default:B=r[1]/g.width}return{x:B,y:I}},createPlaceholder:function(r){var g,I=r.css("position"),B=r.position();return r.css({marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()),/^(static|relative)/.test(I)&&(I="absolute",g=t("<"+r[0].nodeName+">").insertAfter(r).css({display:/^(inline|ruby)/.test(r.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight"),float:r.css("float")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()).addClass("ui-effects-placeholder"),r.data(Q+"placeholder",g)),r.css({position:I,left:B.left,top:B.top}),g},removePlaceholder:function(r){var g=Q+"placeholder",I=r.data(g);I&&(I.remove(),r.removeData(g))},cleanUp:function(r){t.effects.restoreStyle(r),t.effects.removePlaceholder(r)},setTransition:function(r,g,I,B){return B=B||{},t.each(g,function(G,oe){var Re=r.cssUnit(oe);Re[0]>0&&(B[oe]=Re[0]*I+Re[1])}),B}});function e(r,g,I,B){return t.isPlainObject(r)&&(g=r,r=r.effect),r={effect:r},g==null&&(g={}),typeof g=="function"&&(B=g,I=null,g={}),(typeof g=="number"||t.fx.speeds[g])&&(B=I,I=g,g={}),typeof I=="function"&&(B=I,I=null),g&&t.extend(r,g),I=I||g.duration,r.duration=t.fx.off?0:typeof I=="number"?I:I in t.fx.speeds?t.fx.speeds[I]:t.fx.speeds._default,r.complete=B||g.complete,r}function i(r){return!!(!r||typeof r=="number"||t.fx.speeds[r]||typeof r=="string"&&!t.effects.effect[r]||typeof r=="function"||typeof r=="object"&&!r.effect)}t.fn.extend({effect:function(){var r=e.apply(this,arguments),g=t.effects.effect[r.effect],I=g.mode,B=r.queue,G=B||"fx",oe=r.complete,Re=r.mode,Me=[],je=function(Ne){var Oe=t(this),tt=t.effects.mode(Oe,Re)||I;Oe.data(re,!0),Me.push(tt),I&&(tt==="show"||tt===I&&tt==="hide")&&Oe.show(),(!I||tt!=="none")&&t.effects.saveStyle(Oe),typeof Ne=="function"&&Ne()};if(t.fx.off||!g)return Re?this[Re](r.duration,oe):this.each(function(){oe&&oe.call(this)});function ze(Ne){var Oe=t(this);function tt(){Oe.removeData(re),t.effects.cleanUp(Oe),r.mode==="hide"&&Oe.hide(),it()}function it(){typeof oe=="function"&&oe.call(Oe[0]),typeof Ne=="function"&&Ne()}r.mode=Me.shift(),t.uiBackCompat!==!1&&!I?(Oe.is(":hidden")?Re==="hide":Re==="show")?(Oe[Re](),it()):g.call(Oe[0],r,it):r.mode==="none"?(Oe[Re](),it()):g.call(Oe[0],r,tt)}return B===!1?this.each(je).each(ze):this.queue(G,je).queue(G,ze)},show:function(r){return function(g){if(i(g))return r.apply(this,arguments);var I=e.apply(this,arguments);return I.mode="show",this.effect.call(this,I)}}(t.fn.show),hide:function(r){return function(g){if(i(g))return r.apply(this,arguments);var I=e.apply(this,arguments);return I.mode="hide",this.effect.call(this,I)}}(t.fn.hide),toggle:function(r){return function(g){if(i(g)||typeof g=="boolean")return r.apply(this,arguments);var I=e.apply(this,arguments);return I.mode="toggle",this.effect.call(this,I)}}(t.fn.toggle),cssUnit:function(r){var g=this.css(r),I=[];return t.each(["em","px","%","pt"],function(B,G){g.indexOf(G)>0&&(I=[parseFloat(g),G])}),I},cssClip:function(r){return r?this.css("clip","rect("+r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px)"):n(this.css("clip"),this)},transfer:function(r,g){var I=t(this),B=t(r.to),G=B.css("position")==="fixed",oe=t("body"),Re=G?oe.scrollTop():0,Me=G?oe.scrollLeft():0,je=B.offset(),ze={top:je.top-Re,left:je.left-Me,height:B.innerHeight(),width:B.innerWidth()},Ne=I.offset(),Oe=t("<div class='ui-effects-transfer'></div>");Oe.appendTo("body").addClass(r.className).css({top:Ne.top-Re,left:Ne.left-Me,height:I.innerHeight(),width:I.innerWidth(),position:G?"fixed":"absolute"}).animate(ze,r.duration,r.easing,function(){Oe.remove(),typeof g=="function"&&g()})}});function n(r,g){var I=g.outerWidth(),B=g.outerHeight(),G=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,oe=G.exec(r)||["",0,I,B,0];return{top:parseFloat(oe[1])||0,right:oe[2]==="auto"?I:parseFloat(oe[2]),bottom:oe[3]==="auto"?B:parseFloat(oe[3]),left:parseFloat(oe[4])||0}}t.fx.step.clip=function(r){r.clipInit||(r.start=t(r.elem).cssClip(),typeof r.end=="string"&&(r.end=n(r.end,r.elem)),r.clipInit=!0),t(r.elem).cssClip({top:r.pos*(r.end.top-r.start.top)+r.start.top,right:r.pos*(r.end.right-r.start.right)+r.start.right,bottom:r.pos*(r.end.bottom-r.start.bottom)+r.start.bottom,left:r.pos*(r.end.left-r.start.left)+r.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,n){e[n]=function(r){return Math.pow(r,i+2)}}),t.extend(e,{Sine:function(i){return 1-Math.cos(i*Math.PI/2)},Circ:function(i){return 1-Math.sqrt(1-i*i)},Elastic:function(i){return i===0||i===1?i:-Math.pow(2,8*(i-1))*Math.sin(((i-1)*80-7.5)*Math.PI/15)},Back:function(i){return i*i*(3*i-2)},Bounce:function(i){for(var n,r=4;i<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-i,2)}}),t.each(e,function(i,n){t.easing["easeIn"+i]=n,t.easing["easeOut"+i]=function(r){return 1-n(1-r)},t.easing["easeInOut"+i]=function(r){return r<.5?n(r*2)/2:1-n(r*-2+2)/2}})}();var ue=t.effects;var ee=t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),g=e.direction||"up",I=r.cssClip(),B={clip:t.extend({},I)},G=t.effects.createPlaceholder(r);B.clip[n[g][0]]=B.clip[n[g][1]],e.mode==="show"&&(r.cssClip(B.clip),G&&G.css(t.effects.clipToBox(B)),B.clip=I),G&&G.animate(t.effects.clipToBox(B),e.duration,e.easing),r.animate(B,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var be=t.effects.define("bounce",function(e,i){var n,r,g,I=t(this),B=e.mode,G=B==="hide",oe=B==="show",Re=e.direction||"up",Me=e.distance,je=e.times||5,ze=je*2+(oe||G?1:0),Ne=e.duration/ze,Oe=e.easing,tt=Re==="up"||Re==="down"?"top":"left",it=Re==="up"||Re==="left",xt=0,Ot=I.queue().length;for(t.effects.createPlaceholder(I),g=I.css(tt),Me||(Me=I[tt==="top"?"outerHeight":"outerWidth"]()/3),oe&&(r={opacity:1},r[tt]=g,I.css("opacity",0).css(tt,it?-Me*2:Me*2).animate(r,Ne,Oe)),G&&(Me=Me/Math.pow(2,je-1)),r={},r[tt]=g;xt<je;xt++)n={},n[tt]=(it?"-=":"+=")+Me,I.animate(n,Ne,Oe).animate(r,Ne,Oe),Me=G?Me*2:Me/2;G&&(n={opacity:0},n[tt]=(it?"-=":"+=")+Me,I.animate(n,Ne,Oe)),I.queue(i),t.effects.unshift(I,Ot,ze+1)});var ie=t.effects.define("clip","hide",function(e,i){var n,r={},g=t(this),I=e.direction||"vertical",B=I==="both",G=B||I==="horizontal",oe=B||I==="vertical";n=g.cssClip(),r.clip={top:oe?(n.bottom-n.top)/2:n.top,right:G?(n.right-n.left)/2:n.right,bottom:oe?(n.bottom-n.top)/2:n.bottom,left:G?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(g),e.mode==="show"&&(g.cssClip(r.clip),r.clip=n),g.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var Te=t.effects.define("drop","hide",function(e,i){var n,r=t(this),g=e.mode,I=g==="show",B=e.direction||"left",G=B==="up"||B==="down"?"top":"left",oe=B==="up"||B==="left"?"-=":"+=",Re=oe==="+="?"-=":"+=",Me={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r[G==="top"?"outerHeight":"outerWidth"](!0)/2,Me[G]=oe+n,I&&(r.css(Me),Me[G]=Re+n,Me.opacity=1),r.animate(Me,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var ve=t.effects.define("explode","hide",function(e,i){var n,r,g,I,B,G,oe=e.pieces?Math.round(Math.sqrt(e.pieces)):3,Re=oe,Me=t(this),je=e.mode,ze=je==="show",Ne=Me.show().css("visibility","hidden").offset(),Oe=Math.ceil(Me.outerWidth()/Re),tt=Math.ceil(Me.outerHeight()/oe),it=[];function xt(){it.push(this),it.length===oe*Re&&Ot()}for(n=0;n<oe;n++)for(I=Ne.top+n*tt,G=n-(oe-1)/2,r=0;r<Re;r++)g=Ne.left+r*Oe,B=r-(Re-1)/2,Me.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*Oe,top:-n*tt}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:Oe,height:tt,left:g+(ze?B*Oe:0),top:I+(ze?G*tt:0),opacity:ze?0:1}).animate({left:g+(ze?0:B*Oe),top:I+(ze?0:G*tt),opacity:ze?1:0},e.duration||500,e.easing,xt);function Ot(){Me.css({visibility:"visible"}),t(it).remove(),i()}});var fe=t.effects.define("fade","toggle",function(e,i){var n=e.mode==="show";t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var Ee=t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,g=r==="show",I=r==="hide",B=e.size||15,G=/([0-9]+)%/.exec(B),oe=!!e.horizFirst,Re=oe?["right","bottom"]:["bottom","right"],Me=e.duration/2,je=t.effects.createPlaceholder(n),ze=n.cssClip(),Ne={clip:t.extend({},ze)},Oe={clip:t.extend({},ze)},tt=[ze[Re[0]],ze[Re[1]]],it=n.queue().length;G&&(B=parseInt(G[1],10)/100*tt[I?0:1]),Ne.clip[Re[0]]=B,Oe.clip[Re[0]]=B,Oe.clip[Re[1]]=0,g&&(n.cssClip(Oe.clip),je&&je.css(t.effects.clipToBox(Oe)),Oe.clip=ze),n.queue(function(xt){je&&je.animate(t.effects.clipToBox(Ne),Me,e.easing).animate(t.effects.clipToBox(Oe),Me,e.easing),xt()}).animate(Ne,Me,e.easing).animate(Oe,Me,e.easing).queue(i),t.effects.unshift(n,it,4)});var Se=t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};e.mode==="hide"&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var V=t.effects.define("size",function(e,i){var n,r,g,I=t(this),B=["fontSize"],G=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],oe=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Re=e.mode,Me=Re!=="effect",je=e.scale||"both",ze=e.origin||["middle","center"],Ne=I.css("position"),Oe=I.position(),tt=t.effects.scaledDimensions(I),it=e.from||tt,xt=e.to||t.effects.scaledDimensions(I,0);t.effects.createPlaceholder(I),Re==="show"&&(g=it,it=xt,xt=g),r={from:{y:it.height/tt.height,x:it.width/tt.width},to:{y:xt.height/tt.height,x:xt.width/tt.width}},(je==="box"||je==="both")&&(r.from.y!==r.to.y&&(it=t.effects.setTransition(I,G,r.from.y,it),xt=t.effects.setTransition(I,G,r.to.y,xt)),r.from.x!==r.to.x&&(it=t.effects.setTransition(I,oe,r.from.x,it),xt=t.effects.setTransition(I,oe,r.to.x,xt))),(je==="content"||je==="both")&&r.from.y!==r.to.y&&(it=t.effects.setTransition(I,B,r.from.y,it),xt=t.effects.setTransition(I,B,r.to.y,xt)),ze&&(n=t.effects.getBaseline(ze,tt),it.top=(tt.outerHeight-it.outerHeight)*n.y+Oe.top,it.left=(tt.outerWidth-it.outerWidth)*n.x+Oe.left,xt.top=(tt.outerHeight-xt.outerHeight)*n.y+Oe.top,xt.left=(tt.outerWidth-xt.outerWidth)*n.x+Oe.left),delete it.outerHeight,delete it.outerWidth,I.css(it),(je==="content"||je==="both")&&(G=G.concat(["marginTop","marginBottom"]).concat(B),oe=oe.concat(["marginLeft","marginRight"]),I.find("*[width]").each(function(){var Ot=t(this),qt=t.effects.scaledDimensions(Ot),zt={height:qt.height*r.from.y,width:qt.width*r.from.x,outerHeight:qt.outerHeight*r.from.y,outerWidth:qt.outerWidth*r.from.x},Wt={height:qt.height*r.to.y,width:qt.width*r.to.x,outerHeight:qt.height*r.to.y,outerWidth:qt.width*r.to.x};r.from.y!==r.to.y&&(zt=t.effects.setTransition(Ot,G,r.from.y,zt),Wt=t.effects.setTransition(Ot,G,r.to.y,Wt)),r.from.x!==r.to.x&&(zt=t.effects.setTransition(Ot,oe,r.from.x,zt),Wt=t.effects.setTransition(Ot,oe,r.to.x,Wt)),Me&&t.effects.saveStyle(Ot),Ot.css(zt),Ot.animate(Wt,e.duration,e.easing,function(){Me&&t.effects.restoreStyle(Ot)})})),I.animate(xt,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var Ot=I.offset();xt.opacity===0&&I.css("opacity",it.opacity),Me||(I.css("position",Ne==="static"?"relative":Ne).offset(Ot),t.effects.saveStyle(I)),i()}})});var de=t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,g=parseInt(e.percent,10)||(parseInt(e.percent,10)===0||r!=="effect"?0:100),I=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,g,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(I.from.opacity=1,I.to.opacity=0),t.effects.effect.size.call(this,I,i)});var Ae=t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)});var De=t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,g=r==="show",I=r==="hide",B=g||I,G=(e.times||5)*2+(B?1:0),oe=e.duration/G,Re=0,Me=1,je=n.queue().length;for((g||!n.is(":visible"))&&(n.css("opacity",0).show(),Re=1);Me<G;Me++)n.animate({opacity:Re},oe,e.easing),Re=1-Re;n.animate({opacity:Re},oe,e.easing),n.queue(i),t.effects.unshift(n,je,G+1)});var ae=t.effects.define("shake",function(e,i){var n=1,r=t(this),g=e.direction||"left",I=e.distance||20,B=e.times||3,G=B*2+1,oe=Math.round(e.duration/G),Re=g==="up"||g==="down"?"top":"left",Me=g==="up"||g==="left",je={},ze={},Ne={},Oe=r.queue().length;for(t.effects.createPlaceholder(r),je[Re]=(Me?"-=":"+=")+I,ze[Re]=(Me?"+=":"-=")+I*2,Ne[Re]=(Me?"-=":"+=")+I*2,r.animate(je,oe,e.easing);n<B;n++)r.animate(ze,oe,e.easing).animate(Ne,oe,e.easing);r.animate(ze,oe,e.easing).animate(je,oe/2,e.easing).queue(i),t.effects.unshift(r,Oe,G+1)});var me=t.effects.define("slide","show",function(e,i){var n,r,g=t(this),I={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},B=e.mode,G=e.direction||"left",oe=G==="up"||G==="down"?"top":"left",Re=G==="up"||G==="left",Me=e.distance||g[oe==="top"?"outerHeight":"outerWidth"](!0),je={};t.effects.createPlaceholder(g),n=g.cssClip(),r=g.position()[oe],je[oe]=(Re?-1:1)*Me+r,je.clip=g.cssClip(),je.clip[I[G][1]]=je.clip[I[G][0]],B==="show"&&(g.cssClip(je.clip),g.css(oe,je[oe]),je.clip=n,je[oe]=r),g.animate(je,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var ue;t.uiBackCompat!==!1&&(ue=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}));var Ce=ue;t.ui.focusable=function(e,i){var n,r,g,I,B,G=e.nodeName.toLowerCase();return G==="area"?(n=e.parentNode,r=n.name,!e.href||!r||n.nodeName.toLowerCase()!=="map"?!1:(g=t("img[usemap='#"+r+"']"),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(G)?(I=!e.disabled,I&&(B=t(e).closest("fieldset")[0],B&&(I=!B.disabled))):G==="a"?I=e.href||i:I=i,I&&t(e).is(":visible")&&xe(t(e)))};function xe(e){for(var i=e.css("visibility");i==="inherit";)e=e.parent(),i=e.css("visibility");return i==="visible"}t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,t.attr(e,"tabindex")!=null)}});var ce=t.ui.focusable,Pe=t.fn._form=function(){return typeof this[0].form=="string"?this.closest("form"):t(this[0].form)};var N=t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),!!this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(!!this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if(t.expr.pseudos||(t.expr.pseudos=t.expr[":"]),t.uniqueSort||(t.uniqueSort=t.unique),!t.escapeSelector){var Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,L=function(e,i){return i?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};t.escapeSelector=function(e){return(e+"").replace(Z,L)}}(!t.fn.even||!t.fn.odd)&&t.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}});var F=t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var ne=t.fn.labels=function(){var e,i,n,r,g;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),g=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.escapeSelector(n)+"']",r=r.add(g.find(i).addBack(i))),this.pushStack(r)):this.pushStack([])};var K=t.fn.scrollParent=function(e){var i=this.css("position"),n=i==="absolute",r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,g=this.parents().filter(function(){var I=t(this);return n&&I.css("position")==="static"?!1:r.test(I.css("overflow")+I.css("overflow-y")+I.css("overflow-x"))}).eq(0);return i==="fixed"||!g.length?t(this[0].ownerDocument||document):g};var he=t.extend(t.expr.pseudos,{tabbable:function(e){var i=t.attr(e,"tabindex"),n=i!=null;return(!n||i>=0)&&t.ui.focusable(e,n)}});var we=t.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var h=t.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!e.collapsible&&(e.active===!1||e.active==null)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,i){if(e==="active"){this._activate(i);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(i)),this._super(e,i),e==="collapsible"&&!i&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),i&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!(e.altKey||e.ctrlKey)){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),g=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:g=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:g=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:g=this.headers[0];break;case i.END:g=this.headers[n-1];break}g&&(t(e.target).attr("tabIndex",-1),t(g).attr("tabIndex",0),t(g).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,i=this.panels;typeof this.options.header=="function"?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),i&&(this._off(e.not(this.headers)),this._off(i.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var g=t(this),I=g.uniqueId().attr("id"),B=g.next(),G=B.uniqueId().attr("id");g.attr("aria-controls",G),B.attr("aria-labelledby",I)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),n==="fill"?(e=r.height(),this.element.siblings(":visible").each(function(){var g=t(this),I=g.css("position");I==="absolute"||I==="fixed"||(e-=g.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):n==="auto"&&(e=0,this.headers.next().each(function(){var g=t(this).is(":visible");g||t(this).show(),e=Math.max(e,t(this).css("height","").height()),g||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,g=this.active,I=t(e.currentTarget),B=I[0]===g[0],G=B&&r.collapsible,oe=G?t():I.next(),Re=g.next(),Me={oldHeader:g,oldPanel:Re,newHeader:G?t():I,newPanel:oe};e.preventDefault(),!(B&&!r.collapsible||this._trigger("beforeActivate",e,Me)===!1)&&(r.active=G?!1:this.headers.index(I),this.active=B?t():I,this._toggle(Me),this._removeClass(g,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=g.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),B||(this._removeClass(I,"ui-accordion-header-collapsed")._addClass(I,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=I.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(I.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return parseInt(t(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,n){var r,g,I,B=this,G=0,oe=e.css("box-sizing"),Re=e.length&&(!i.length||e.index()<i.index()),Me=this.options.animate||{},je=Re&&Me.down||Me,ze=function(){B._toggleComplete(n)};if(typeof je=="number"&&(I=je),typeof je=="string"&&(g=je),g=g||je.easing||Me.easing,I=I||je.duration||Me.duration,!i.length)return e.animate(this.showProps,I,g,ze);if(!e.length)return i.animate(this.hideProps,I,g,ze);r=e.show().outerHeight(),i.animate(this.hideProps,{duration:I,easing:g,step:function(Ne,Oe){Oe.now=Math.round(Ne)}}),e.hide().animate(this.showProps,{duration:I,easing:g,complete:ze,step:function(Ne,Oe){Oe.now=Math.round(Ne),Oe.prop!=="height"?oe==="content-box"&&(G+=Oe.now):B.options.heightStyle!=="content"&&(Oe.now=Math.round(r-i.outerHeight()-G),G=0)}})},_toggleComplete:function(e){var i=e.oldPanel,n=i.prev();this._removeClass(i,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),i.length&&(i.parent()[0].className=i.parent()[0].className),this._trigger("activate",null,e)}}),x=t.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch{i=e.body}return i||(i=e.body),i.nodeName||(i=e.body),i};var U=t.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,i){var n=this.active||this._menuItems().first();i||this.focus(e,n)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){if(!this.previousFilter&&!(e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y)){this.lastMousePosition={x:e.clientX,y:e.clientY};var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n)))}},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var n=t(this);n.data("ui-menu-submenu-caret")&&n.remove()})},_keydown:function(e){var i,n,r,g,I=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:I=!1,n=this.previousFilter||"",g=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?g=!0:r=n+r,i=this._filterMenuItems(r),i=g&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}I&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i,n,r,g,I=this,B=this.options.icons.submenu,G=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=G.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var oe=t(this),Re=oe.prev(),Me=t("<span>").data("ui-menu-submenu-caret",!0);I._addClass(Me,"ui-menu-icon","ui-icon "+B),Re.attr("aria-haspopup","true").prepend(Me),oe.attr("aria-labelledby",Re.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=G.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var oe=t(this);I._isDivider(oe)&&I._addClass(oe,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),g=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(g,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,i){if(e==="icons"){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,i.submenu)}this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,i){var n,r,g;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(i),this.active=i.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),g=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(g,null,"ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=i.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=i.parent(),this._trigger("focus",e,{item:i})},_scrollIntoView:function(e){var i,n,r,g,I,B;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,g=this.activeMenu.scrollTop(),I=this.activeMenu.height(),B=e.outerHeight(),r<0?this.activeMenu.scrollTop(g+r):r+B>I&&this.activeMenu.scrollTop(g+r-I+B))},blur:function(e,i){i||clearTimeout(this.timer),!!this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),e.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},i?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var i=this.active&&this.active.parent().closest(".ui-menu-item",this.element);i&&i.length&&(this._close(),this.focus(e,i))},expand:function(e){var i=this.active&&this._menuItems(this.active.children(".ui-menu")).first();i&&i.length&&(this._open(i.parent()),this._delay(function(){this.focus(e,i)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,i,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").last():r=this.active[e+"All"](".ui-menu-item").first()),(!r||!r.length||!this.active)&&(r=this._menuItems(this.activeMenu)[i]()),this.focus(n,r)},nextPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(String.prototype.trim.call(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),g=r==="textarea",I=r==="input";this.isMultiLine=g||!I&&this._isContentEditable(this.element),this.valueMethod=this.element[g||I?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(B){if(this.element.prop("readOnly")){e=!0,n=!0,i=!0;return}e=!1,n=!1,i=!1;var G=t.ui.keyCode;switch(B.keyCode){case G.PAGE_UP:e=!0,this._move("previousPage",B);break;case G.PAGE_DOWN:e=!0,this._move("nextPage",B);break;case G.UP:e=!0,this._keyEvent("previous",B);break;case G.DOWN:e=!0,this._keyEvent("next",B);break;case G.ENTER:this.menu.active&&(e=!0,B.preventDefault(),this.menu.select(B));break;case G.TAB:this.menu.active&&this.menu.select(B);break;case G.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(B),B.preventDefault());break;default:i=!0,this._searchTimeout(B);break}},keypress:function(B){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&B.preventDefault();return}if(!i){var G=t.ui.keyCode;switch(B.keyCode){case G.PAGE_UP:this._move("previousPage",B);break;case G.PAGE_DOWN:this._move("nextPage",B);break;case G.UP:this._keyEvent("previous",B);break;case G.DOWN:this._keyEvent("next",B);break}}},input:function(B){if(n){n=!1,B.preventDefault();return}this._searchTimeout(B)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(B){clearTimeout(this.searching),this.close(B),this._change(B)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(B){B.preventDefault()},menufocus:function(B,G){var oe,Re;if(this.isNewMenu&&(this.isNewMenu=!1,B.originalEvent&&/^mouse/.test(B.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(B.target).trigger(B.originalEvent)});return}Re=G.item.data("ui-autocomplete-item"),this._trigger("focus",B,{item:Re})!==!1&&B.originalEvent&&/^key/.test(B.originalEvent.type)&&this._value(Re.value),oe=G.item.attr("aria-label")||Re.value,oe&&String.prototype.trim.call(oe).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(oe))},100))},menuselect:function(B,G){var oe=G.item.data("ui-autocomplete-item"),Re=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=Re,this._delay(function(){this.previous=Re,this.selectedItem=oe})),this._trigger("select",B,{item:oe})!==!1&&this._value(oe.value),this.term=this._value(),this.close(B),this.selectedItem=oe}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,i){this._super(e,i),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&i&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(r,g){g(t.ui.autocomplete.filter(e,r.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,g){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:r,dataType:"json",success:function(I){g(I)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var i=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!i||i&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,i){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(i);if(this._trigger("search",i)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(i){e===this.requestIndex&&this.__response(i),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(i){return typeof i=="string"?{label:i,value:i}:t.extend({},i,{label:i.label||i.value,value:i.value||i.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(r,g){n._renderItemData(e,g)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-autocomplete-item",i)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(e,i){if(!this.menu.element.is(":visible")){this.search(null,i);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](i)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,i){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,i),i.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var i=e.prop("contentEditable");return i==="inherit"?this._isContentEditable(e.parent()):i==="true"}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(r){return n.test(r.label||r.value||r)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?i=this.options.messages.results(e.length):i=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(i))},100))}});var z=t.ui.autocomplete;var J=/ui-corner-([a-z]){2,6}/g,ye=t.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){var g,I={};if(!!r){if(n==="controlgroupLabel"){g=e.element.find(r),g.each(function(){var B=t(this);B.children(".ui-controlgroup-label-contents").length||B.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(g,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(g.get());return}!t.fn[n]||(e["_"+n+"Options"]?I=e["_"+n+"Options"]("middle"):I={classes:{}},e.element.find(r).each(function(){var B=t(this),G=B[n]("instance"),oe=t.widget.extend({},I);if(!(n==="button"&&B.parent(".ui-spinner").length)){G||(G=B[n]()[n]("instance")),G&&(oe.classes=e._resolveClassesValues(oe.classes,G)),B[n](oe);var Re=B[n]("widget");t.data(Re[0],"ui-controlgroup-data",G||B[n]("instance")),i.push(Re[0])}}))}}),this.childWidgets=t(t.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(e,i){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",r=this._buildSimpleOptions(i,"label").classes.label;this._removeClass(e,null,n),this._addClass(e,null,r)},_buildSimpleOptions:function(e,i){var n=this.options.direction==="vertical",r={classes:{}};return r.classes[i]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var i=this._buildSimpleOptions(e,"ui-spinner");return i.classes["ui-spinner-up"]="",i.classes["ui-spinner-down"]="",i},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var i=this.options.direction==="vertical";return{width:i?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(i?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(i?"top":"left")},last:{"ui-selectmenu-button-open":i?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(i?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(r){var g=i.options.classes[r]||"";g=String.prototype.trim.call(g.replace(J,"")),n[r]=(g+" "+e[r]).replace(/\s+/g," ")}),n},_setOption:function(e,i){if(e==="direction"&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,i),e==="disabled"){this._callChildMethod(i?"disable":"enable");return}this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),this.options.direction==="horizontal"&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(n,r){var g=e[r]().data("ui-controlgroup-data");if(g&&i["_"+g.widgetName+"Options"]){var I=i["_"+g.widgetName+"Options"](e.length===1?"only":r);I.classes=i._resolveClassesValues(I.classes,g),g.element[g.widgetName](I)}else i._updateCornerClass(e[r](),r)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",n=this.label.contents().not(this.element[0]),n.length&&(this.originalLabel+=n.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,e!=null&&(r.disabled=e),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),this.type==="radio"&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,(e!=="input"||!/radio|checkbox/.test(this.type))&&t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.escapeSelector(i)+"']";return i?(this.form.length?e=t(this.form[0].elements).filter(n):e=t(n).filter(function(){return t(this)._form().length===0}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&this.type==="checkbox"&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),this.type==="radio"&&this._getRadioGroup().each(function(){var i=t(this).checkboxradio("instance");i&&i._removeClass(i.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,i){if(!(e==="label"&&!i)){if(this._super(e,i),e==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",i),this.element[0].disabled=i;return}this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),this.type==="checkbox"?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==void 0&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,i=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.label!==null&&this._updateLabel(),i!==this.options.disabled&&this._setOptions({disabled:i})}}]);var We=t.ui.checkboxradio;t.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,i=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,e!=null&&(i.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n=e!=="iconPosition",r=n?this.options.iconPosition:i,g=r==="top"||r==="bottom";this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),g?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var i=e.showLabel===void 0?this.options.showLabel:e.showLabel,n=e.icon===void 0?this.options.icon:e.icon;!i&&!n&&(e.showLabel=!0),this._super(e)},_setOption:function(e,i){e==="icon"&&(i?this._updateIcon(e,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),e==="iconPosition"&&this._updateIcon(e,i),e==="showLabel"&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),e==="label"&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,i),e==="disabled"&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)?this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"):this.options.icon&&(this.options.icons.primary=this.options.icon),this._super()},_setOption:function(e,i){if(e==="text"){this._super("showLabel",i);return}e==="showLabel"&&(this.options.text=i),e==="icon"&&(this.options.icons.primary=i),e==="icons"&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(i){var n=typeof i=="string",r=Array.prototype.slice.call(arguments,1),g=this;return n?!this.length&&i==="instance"?g=void 0:this.each(function(){var I,B=t(this).attr("type"),G=B!=="checkbox"&&B!=="radio"?"button":"checkboxradio",oe=t.data(this,"ui-"+G);if(i==="instance")return g=oe,!1;if(!oe)return t.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'");if(typeof oe[i]!="function"||i.charAt(0)==="_")return t.error("no such method '"+i+"' for button widget instance");if(I=oe[i].apply(oe,r),I!==oe&&I!==void 0)return g=I&&I.jquery?g.pushStack(I.get()):I,!1}):(r.length&&(i=t.widget.extend.apply(null,[i].concat(r))),this.each(function(){var I=t(this).attr("type"),B=I!=="checkbox"&&I!=="radio"?"button":"checkboxradio",G=t.data(this,"ui-"+B);if(G)G.option(i||{}),G._init&&G._init();else{if(B==="button"){e.call(t(this),i);return}t(this).checkboxradio(t.extend({icon:!1},i))}})),g}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):arguments[0]==="option"&&arguments[1]==="items"?this.controlgroup.apply(this,[arguments[0],"items.button"]):(typeof arguments[0]=="object"&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var Fe=t.ui.button;t.extend(t.ui,{datepicker:{version:"1.13.2"}});var qe;function Ye(e){for(var i,n;e.length&&e[0]!==document;){if(i=e.css("position"),(i==="absolute"||i==="relative"||i==="fixed")&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&n!==0))return n;e=e.parent()}return 0}function Xe(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=ht(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(Xe.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return Ke(this._defaults,e||{}),this},_attachDatepicker:function(e,i){var n,r,g;n=e.nodeName.toLowerCase(),r=n==="div"||n==="span",e.id||(this.uuid+=1,e.id="dp"+this.uuid),g=this._newInst(t(e),r),g.settings=t.extend({},i||{}),n==="input"?this._connectDatepicker(e,g):r&&this._inlineDatepicker(e,g)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?ht(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),!n.hasClass(this.markerClassName)&&(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,g,I=this._get(i,"appendText"),B=this._get(i,"isRTL");i.append&&i.append.remove(),I&&(i.append=t("<span>").addClass(this._appendClass).text(I),e[B?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),(n==="focus"||n==="both")&&e.on("focus",this._showDatepicker),(n==="button"||n==="both")&&(r=this._get(i,"buttonText"),g=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=t("<img>").addClass(this._triggerClass).attr({src:g,alt:r,title:r}):(i.trigger=t("<button type='button'>").addClass(this._triggerClass),g?i.trigger.html(t("<img>").attr({src:g,alt:r,title:r})):i.trigger.text(r)),e[B?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var i,n,r,g,I=new Date(2009,12-1,20),B=this._get(e,"dateFormat");B.match(/[DM]/)&&(i=function(G){for(n=0,r=0,g=0;g<G.length;g++)G[g].length>n&&(n=G[g].length,r=g);return r},I.setMonth(i(this._get(e,B.match(/MM/)?"monthNames":"monthNamesShort"))),I.setDate(i(this._get(e,B.match(/DD/)?"dayNames":"dayNamesShort"))+20-I.getDay())),e.input.attr("size",this._formatDate(e,I).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,g){var I,B,G,oe,Re,Me=this._dialogInst;return Me||(this.uuid+=1,I="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+I+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),Me=this._dialogInst=this._newInst(this._dialogInput,!1),Me.settings={},t.data(this._dialogInput[0],"datepicker",Me)),Ke(Me.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(Me,i):i,this._dialogInput.val(i),this._pos=g?g.length?g:[g.pageX,g.pageY]:null,this._pos||(B=document.documentElement.clientWidth,G=document.documentElement.clientHeight,oe=document.documentElement.scrollLeft||document.body.scrollLeft,Re=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[B/2-100+oe,G/2-150+Re]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),Me.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",Me),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");!n.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),i==="input"?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(i==="div"||i==="span")&&n.removeClass(this.markerClassName).empty(),qe===r&&(qe=null,this._curInst=null))},_enableDatepicker:function(e){var i,n,r=t(e),g=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(I){return I===e?null:I}))},_disableDatepicker:function(e){var i,n,r=t(e),g=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(I){return I===e?null:I}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===e)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,g,I,B,G=this._getInst(e);if(arguments.length===2&&typeof i=="string")return i==="defaults"?t.extend({},t.datepicker._defaults):G?i==="all"?t.extend({},G.settings):this._get(G,i):null;r=i||{},typeof i=="string"&&(r={},r[i]=n),G&&(this._curInst===G&&this._hideDatepicker(),g=this._getDateDatepicker(e,!0),I=this._getMinMaxDate(G,"min"),B=this._getMinMaxDate(G,"max"),Ke(G.settings,r),I!==null&&r.dateFormat!==void 0&&r.minDate===void 0&&(G.settings.minDate=this._formatDate(G,I)),B!==null&&r.dateFormat!==void 0&&r.maxDate===void 0&&(G.settings.maxDate=this._formatDate(G,B)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),G),this._autoSize(G),this._setDate(G,g),this._updateAlternate(G),this._updateDatepicker(G))},_changeDatepicker:function(e,i,n){this._optionDatepicker(e,i,n)},_refreshDatepicker:function(e){var i=this._getInst(e);i&&this._updateDatepicker(i)},_setDateDatepicker:function(e,i){var n=this._getInst(e);n&&(this._setDate(n,i),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,i){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,i),n?this._getDate(n):null},_doKeyDown:function(e){var i,n,r,g=t.datepicker._getInst(e.target),I=!0,B=g.dpDiv.is(".ui-datepicker-rtl");if(g._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),I=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",g.dpDiv),r[0]&&t.datepicker._selectDay(e.target,g.selectedMonth,g.selectedYear,r[0]),i=t.datepicker._get(g,"onSelect"),i?(n=t.datepicker._formatDate(g),i.apply(g.input?g.input[0]:null,[n,g])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(g,"stepBigMonths"):-t.datepicker._get(g,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(g,"stepBigMonths"):+t.datepicker._get(g,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),I=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),I=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,B?1:-1,"D"),I=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(g,"stepBigMonths"):-t.datepicker._get(g,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),I=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,B?-1:1,"D"),I=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(g,"stepBigMonths"):+t.datepicker._get(g,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),I=e.ctrlKey||e.metaKey;break;default:I=!1}else e.keyCode===36&&e.ctrlKey?t.datepicker._showDatepicker(this):I=!1;I&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch{}return!0},_showDatepicker:function(e){if(e=e.target||e,e.nodeName.toLowerCase()!=="input"&&(e=t("input",e.parentNode)[0]),!(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)){var i,n,r,g,I,B,G;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),r=n?n.apply(e,[e,i]):{},r!==!1&&(Ke(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),g=!1,t(e).parents().each(function(){return g|=t(this).css("position")==="fixed",!g}),I={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),I=t.datepicker._checkOffset(i,I,g),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":g?"fixed":"absolute",display:"none",left:I.left+"px",top:I.top+"px"}),i.inline||(B=t.datepicker._get(i,"showAnim"),G=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",Ye(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[B]?i.dpDiv.show(B,t.datepicker._get(i,"showOptions"),G):i.dpDiv[B||"show"](B?G:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,qe=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],g=17,I=e.dpDiv.find("."+this._dayOverClass+" a"),B=t.datepicker._get(e,"onUpdateDatepicker");I.length>0&&It.apply(I.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",g*r+"em"),e.dpDiv[(n[0]!==1||n[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),i=e.yearshtml=null},0)),B&&B.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),g=e.dpDiv.outerHeight(),I=e.input?e.input.outerWidth():0,B=e.input?e.input.outerHeight():0,G=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),oe=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-I:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+B?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>G&&G>r?Math.abs(i.left+r-G):0),i.top-=Math.min(i.top,i.top+g>oe&&oe>g?Math.abs(g+B):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&(e.type==="hidden"||e.nodeType!==1||t.expr.pseudos.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,g,I=this._curInst;!I||e&&I!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(I,"showAnim"),n=this._get(I,"duration"),r=function(){t.datepicker._tidyDialog(I)},t.effects&&(t.effects.effect[i]||t.effects[i])?I.dpDiv.hide(i,t.datepicker._get(I,"showOptions"),n,r):I.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,g=this._get(I,"onClose"),g&&g.apply(I.input?I.input[0]:null,[I.input?I.input.val():"",I]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!!t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&i.parents("#"+t.datepicker._mainDivId).length===0&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),g=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(g,i,n),this._updateDatepicker(g))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),g=this._getInst(r[0]);g["selected"+(n==="M"?"Month":"Year")]=g["draw"+(n==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(g),this._adjustDate(r)},_selectDay:function(e,i,n,r){var g,I=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(I[0])||(g=this._getInst(I[0]),g.selectedDay=g.currentDay=parseInt(t("a",r).attr("data-date")),g.selectedMonth=g.currentMonth=i,g.selectedYear=g.currentYear=n,this._selectDate(e,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),g=this._getInst(r[0]);i=i??this._formatDate(g),g.input&&g.input.val(i),this._updateAlternate(g),n=this._get(g,"onSelect"),n?n.apply(g.input?g.input[0]:null,[i,g]):g.input&&g.input.trigger("change"),g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],typeof g.input[0]!="object"&&g.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,g=this._get(e,"altField");g&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(document).find(g).val(r))},noWeekends:function(e){var i=e.getDay();return[i>0&&i<6,""]},iso8601Week:function(e){var i,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),i=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n)/864e5)/7)+1},parseDate:function(e,i,n){if(e==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;var r,g,I,B=0,G=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,oe=typeof G!="string"?G:new Date().getFullYear()%100+parseInt(G,10),Re=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,Me=(n?n.dayNames:null)||this._defaults.dayNames,je=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,ze=(n?n.monthNames:null)||this._defaults.monthNames,Ne=-1,Oe=-1,tt=-1,it=-1,xt=!1,Ot,qt=function(rt){var Ct=r+1<e.length&&e.charAt(r+1)===rt;return Ct&&r++,Ct},zt=function(rt){var Ct=qt(rt),Pt=rt==="@"?14:rt==="!"?20:rt==="y"&&Ct?4:rt==="o"?3:2,Gt=rt==="y"?Pt:1,Yt=new RegExp("^\\d{"+Gt+","+Pt+"}"),ei=i.substring(B).match(Yt);if(!ei)throw"Missing number at position "+B;return B+=ei[0].length,parseInt(ei[0],10)},Wt=function(rt,Ct,Pt){var Gt=-1,Yt=t.map(qt(rt)?Pt:Ct,function(ei,Xt){return[[Xt,ei]]}).sort(function(ei,Xt){return-(ei[1].length-Xt[1].length)});if(t.each(Yt,function(ei,Xt){var ni=Xt[1];if(i.substr(B,ni.length).toLowerCase()===ni.toLowerCase())return Gt=Xt[0],B+=ni.length,!1}),Gt!==-1)return Gt+1;throw"Unknown name at position "+B},Bt=function(){if(i.charAt(B)!==e.charAt(r))throw"Unexpected literal at position "+B;B++};for(r=0;r<e.length;r++)if(xt)e.charAt(r)==="'"&&!qt("'")?xt=!1:Bt();else switch(e.charAt(r)){case"d":tt=zt("d");break;case"D":Wt("D",Re,Me);break;case"o":it=zt("o");break;case"m":Oe=zt("m");break;case"M":Oe=Wt("M",je,ze);break;case"y":Ne=zt("y");break;case"@":Ot=new Date(zt("@")),Ne=Ot.getFullYear(),Oe=Ot.getMonth()+1,tt=Ot.getDate();break;case"!":Ot=new Date((zt("!")-this._ticksTo1970)/1e4),Ne=Ot.getFullYear(),Oe=Ot.getMonth()+1,tt=Ot.getDate();break;case"'":qt("'")?Bt():xt=!0;break;default:Bt()}if(B<i.length&&(I=i.substr(B),!/^\s+/.test(I)))throw"Extra/unparsed characters found in date: "+I;if(Ne===-1?Ne=new Date().getFullYear():Ne<100&&(Ne+=new Date().getFullYear()-new Date().getFullYear()%100+(Ne<=oe?0:-100)),it>-1){Oe=1,tt=it;do{if(g=this._getDaysInMonth(Ne,Oe-1),tt<=g)break;Oe++,tt-=g}while(!0)}if(Ot=this._daylightSavingAdjust(new Date(Ne,Oe-1,tt)),Ot.getFullYear()!==Ne||Ot.getMonth()+1!==Oe||Ot.getDate()!==tt)throw"Invalid date";return Ot},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,i,n){if(!i)return"";var r,g=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,I=(n?n.dayNames:null)||this._defaults.dayNames,B=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,G=(n?n.monthNames:null)||this._defaults.monthNames,oe=function(Ne){var Oe=r+1<e.length&&e.charAt(r+1)===Ne;return Oe&&r++,Oe},Re=function(Ne,Oe,tt){var it=""+Oe;if(oe(Ne))for(;it.length<tt;)it="0"+it;return it},Me=function(Ne,Oe,tt,it){return oe(Ne)?it[Oe]:tt[Oe]},je="",ze=!1;if(i)for(r=0;r<e.length;r++)if(ze)e.charAt(r)==="'"&&!oe("'")?ze=!1:je+=e.charAt(r);else switch(e.charAt(r)){case"d":je+=Re("d",i.getDate(),2);break;case"D":je+=Me("D",i.getDay(),g,I);break;case"o":je+=Re("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":je+=Re("m",i.getMonth()+1,2);break;case"M":je+=Me("M",i.getMonth(),B,G);break;case"y":je+=oe("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100;break;case"@":je+=i.getTime();break;case"!":je+=i.getTime()*1e4+this._ticksTo1970;break;case"'":oe("'")?je+="'":ze=!0;break;default:je+=e.charAt(r)}return je},_possibleChars:function(e){var i,n="",r=!1,g=function(I){var B=i+1<e.length&&e.charAt(i+1)===I;return B&&i++,B};for(i=0;i<e.length;i++)if(r)e.charAt(i)==="'"&&!g("'")?r=!1:n+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":g("'")?n+="'":r=!0;break;default:n+=e.charAt(i)}return n},_get:function(e,i){return e.settings[i]!==void 0?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,i){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,g=this._getDefaultDate(e),I=g,B=this._getFormatConfig(e);try{I=this.parseDate(n,r,B)||g}catch{r=i?"":r}e.selectedDay=I.getDate(),e.drawMonth=e.selectedMonth=I.getMonth(),e.drawYear=e.selectedYear=I.getFullYear(),e.currentDay=r?I.getDate():0,e.currentMonth=r?I.getMonth():0,e.currentYear=r?I.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(B){var G=new Date;return G.setDate(G.getDate()+B),G},g=function(B){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),B,t.datepicker._getFormatConfig(e))}catch{}for(var G=(B.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,oe=G.getFullYear(),Re=G.getMonth(),Me=G.getDate(),je=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,ze=je.exec(B);ze;){switch(ze[2]||"d"){case"d":case"D":Me+=parseInt(ze[1],10);break;case"w":case"W":Me+=parseInt(ze[1],10)*7;break;case"m":case"M":Re+=parseInt(ze[1],10),Me=Math.min(Me,t.datepicker._getDaysInMonth(oe,Re));break;case"y":case"Y":oe+=parseInt(ze[1],10),Me=Math.min(Me,t.datepicker._getDaysInMonth(oe,Re));break}ze=je.exec(B)}return new Date(oe,Re,Me)},I=i==null||i===""?n:typeof i=="string"?g(i):typeof i=="number"?isNaN(i)?n:r(i):new Date(i.getTime());return I=I&&I.toString()==="Invalid Date"?n:I,I&&(I.setHours(0),I.setMinutes(0),I.setSeconds(0),I.setMilliseconds(0)),this._daylightSavingAdjust(I)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,i,n){var r=!i,g=e.selectedMonth,I=e.selectedYear,B=this._restrictMinMax(e,this._determineDate(e,i,new Date));e.selectedDay=e.currentDay=B.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=B.getMonth(),e.drawYear=e.selectedYear=e.currentYear=B.getFullYear(),(g!==e.selectedMonth||I!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var i=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return i},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var r={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),r[this.getAttribute("data-handler")])})},_generateHTML:function(e){var i,n,r,g,I,B,G,oe,Re,Me,je,ze,Ne,Oe,tt,it,xt,Ot,qt,zt,Wt,Bt,rt,Ct,Pt,Gt,Yt,ei,Xt,ni,li,ai,ci,Je,Dt,le,Ue,ot,mt,yt=new Date,kt=this._daylightSavingAdjust(new Date(yt.getFullYear(),yt.getMonth(),yt.getDate())),Vt=this._get(e,"isRTL"),ii=this._get(e,"showButtonPanel"),Ti=this._get(e,"hideIfNoPrevNext"),pi=this._get(e,"navigationAsDateFormat"),di=this._getNumberOfMonths(e),fn=this._get(e,"showCurrentAtPos"),Fi=this._get(e,"stepMonths"),on=di[0]!==1||di[1]!==1,ji=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Ji=this._getMinMaxDate(e,"min"),Wi=this._getMinMaxDate(e,"max"),Et=e.drawMonth-fn,Qt=e.drawYear;if(Et<0&&(Et+=12,Qt--),Wi)for(i=this._daylightSavingAdjust(new Date(Wi.getFullYear(),Wi.getMonth()-di[0]*di[1]+1,Wi.getDate())),i=Ji&&i<Ji?Ji:i;this._daylightSavingAdjust(new Date(Qt,Et,1))>i;)Et--,Et<0&&(Et=11,Qt--);for(e.drawMonth=Et,e.drawYear=Qt,n=this._get(e,"prevText"),n=pi?this.formatDate(n,this._daylightSavingAdjust(new Date(Qt,Et-Fi,1)),this._getFormatConfig(e)):n,this._canAdjustMonth(e,-1,Qt,Et)?r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Vt?"e":"w")).text(n))[0].outerHTML:Ti?r="":r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Vt?"e":"w")).text(n))[0].outerHTML,g=this._get(e,"nextText"),g=pi?this.formatDate(g,this._daylightSavingAdjust(new Date(Qt,Et+Fi,1)),this._getFormatConfig(e)):g,this._canAdjustMonth(e,1,Qt,Et)?I=t("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:g}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Vt?"w":"e")).text(g))[0].outerHTML:Ti?I="":I=t("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:g}).append(t("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Vt?"w":"e")).text(g))[0].outerHTML,B=this._get(e,"currentText"),G=this._get(e,"gotoCurrent")&&e.currentDay?ji:kt,B=pi?this.formatDate(B,G,this._getFormatConfig(e)):B,oe="",e.inline||(oe=t("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),Re="",ii&&(Re=t("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Vt?oe:"").append(this._isInRange(e,G)?t("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(B):"").append(Vt?"":oe)[0].outerHTML),Me=parseInt(this._get(e,"firstDay"),10),Me=isNaN(Me)?0:Me,je=this._get(e,"showWeek"),ze=this._get(e,"dayNames"),Ne=this._get(e,"dayNamesMin"),Oe=this._get(e,"monthNames"),tt=this._get(e,"monthNamesShort"),it=this._get(e,"beforeShowDay"),xt=this._get(e,"showOtherMonths"),Ot=this._get(e,"selectOtherMonths"),qt=this._getDefaultDate(e),zt="",Bt=0;Bt<di[0];Bt++){for(rt="",this.maxRows=4,Ct=0;Ct<di[1];Ct++){if(Pt=this._daylightSavingAdjust(new Date(Qt,Et,e.selectedDay)),Gt=" ui-corner-all",Yt="",on){if(Yt+="<div class='ui-datepicker-group",di[1]>1)switch(Ct){case 0:Yt+=" ui-datepicker-group-first",Gt=" ui-corner-"+(Vt?"right":"left");break;case di[1]-1:Yt+=" ui-datepicker-group-last",Gt=" ui-corner-"+(Vt?"left":"right");break;default:Yt+=" ui-datepicker-group-middle",Gt="";break}Yt+="'>"}for(Yt+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Gt+"'>"+(/all|left/.test(Gt)&&Bt===0?Vt?I:r:"")+(/all|right/.test(Gt)&&Bt===0?Vt?r:I:"")+this._generateMonthYearHeader(e,Et,Qt,Ji,Wi,Bt>0||Ct>0,Oe,tt)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ei=je?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",Wt=0;Wt<7;Wt++)Xt=(Wt+Me)%7,ei+="<th scope='col'"+((Wt+Me+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ze[Xt]+"'>"+Ne[Xt]+"</span></th>";for(Yt+=ei+"</tr></thead><tbody>",ni=this._getDaysInMonth(Qt,Et),Qt===e.selectedYear&&Et===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,ni)),li=(this._getFirstDayOfMonth(Qt,Et)-Me+7)%7,ai=Math.ceil((li+ni)/7),ci=on&&this.maxRows>ai?this.maxRows:ai,this.maxRows=ci,Je=this._daylightSavingAdjust(new Date(Qt,Et,1-li)),Dt=0;Dt<ci;Dt++){for(Yt+="<tr>",le=je?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Je)+"</td>":"",Wt=0;Wt<7;Wt++)Ue=it?it.apply(e.input?e.input[0]:null,[Je]):[!0,""],ot=Je.getMonth()!==Et,mt=ot&&!Ot||!Ue[0]||Ji&&Je<Ji||Wi&&Je>Wi,le+="<td class='"+((Wt+Me+6)%7>=5?" ui-datepicker-week-end":"")+(ot?" ui-datepicker-other-month":"")+(Je.getTime()===Pt.getTime()&&Et===e.selectedMonth&&e._keyEvent||qt.getTime()===Je.getTime()&&qt.getTime()===Pt.getTime()?" "+this._dayOverClass:"")+(mt?" "+this._unselectableClass+" ui-state-disabled":"")+(ot&&!xt?"":" "+Ue[1]+(Je.getTime()===ji.getTime()?" "+this._currentClass:"")+(Je.getTime()===kt.getTime()?" ui-datepicker-today":""))+"'"+((!ot||xt)&&Ue[2]?" title='"+Ue[2].replace(/'/g,"&#39;")+"'":"")+(mt?"":" data-handler='selectDay' data-event='click' data-month='"+Je.getMonth()+"' data-year='"+Je.getFullYear()+"'")+">"+(ot&&!xt?"&#xa0;":mt?"<span class='ui-state-default'>"+Je.getDate()+"</span>":"<a class='ui-state-default"+(Je.getTime()===kt.getTime()?" ui-state-highlight":"")+(Je.getTime()===ji.getTime()?" ui-state-active":"")+(ot?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Je.getTime()===ji.getTime()?"true":"false")+"' data-date='"+Je.getDate()+"'>"+Je.getDate()+"</a>")+"</td>",Je.setDate(Je.getDate()+1),Je=this._daylightSavingAdjust(Je);Yt+=le+"</tr>"}Et++,Et>11&&(Et=0,Qt++),Yt+="</tbody></table>"+(on?"</div>"+(di[0]>0&&Ct===di[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),rt+=Yt}zt+=rt}return zt+=Re,e._keyEvent=!1,zt},_generateMonthYearHeader:function(e,i,n,r,g,I,B,G){var oe,Re,Me,je,ze,Ne,Oe,tt,it=this._get(e,"changeMonth"),xt=this._get(e,"changeYear"),Ot=this._get(e,"showMonthAfterYear"),qt=this._get(e,"selectMonthLabel"),zt=this._get(e,"selectYearLabel"),Wt="<div class='ui-datepicker-title'>",Bt="";if(I||!it)Bt+="<span class='ui-datepicker-month'>"+B[i]+"</span>";else{for(oe=r&&r.getFullYear()===n,Re=g&&g.getFullYear()===n,Bt+="<select class='ui-datepicker-month' aria-label='"+qt+"' data-handler='selectMonth' data-event='change'>",Me=0;Me<12;Me++)(!oe||Me>=r.getMonth())&&(!Re||Me<=g.getMonth())&&(Bt+="<option value='"+Me+"'"+(Me===i?" selected='selected'":"")+">"+G[Me]+"</option>");Bt+="</select>"}if(Ot||(Wt+=Bt+(I||!(it&&xt)?"&#xa0;":"")),!e.yearshtml)if(e.yearshtml="",I||!xt)Wt+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(je=this._get(e,"yearRange").split(":"),ze=new Date().getFullYear(),Ne=function(rt){var Ct=rt.match(/c[+\-].*/)?n+parseInt(rt.substring(1),10):rt.match(/[+\-].*/)?ze+parseInt(rt,10):parseInt(rt,10);return isNaN(Ct)?ze:Ct},Oe=Ne(je[0]),tt=Math.max(Oe,Ne(je[1]||"")),Oe=r?Math.max(Oe,r.getFullYear()):Oe,tt=g?Math.min(tt,g.getFullYear()):tt,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+zt+"' data-handler='selectYear' data-event='change'>";Oe<=tt;Oe++)e.yearshtml+="<option value='"+Oe+"'"+(Oe===n?" selected='selected'":"")+">"+Oe+"</option>";e.yearshtml+="</select>",Wt+=e.yearshtml,e.yearshtml=null}return Wt+=this._get(e,"yearSuffix"),Ot&&(Wt+=(I||!(it&&xt)?"&#xa0;":"")+Bt),Wt+="</div>",Wt},_adjustInstDate:function(e,i,n){var r=e.selectedYear+(n==="Y"?i:0),g=e.selectedMonth+(n==="M"?i:0),I=Math.min(e.selectedDay,this._getDaysInMonth(r,g))+(n==="D"?i:0),B=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,g,I)));e.selectedDay=B.getDate(),e.drawMonth=e.selectedMonth=B.getMonth(),e.drawYear=e.selectedYear=B.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,i){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),g=n&&i<n?n:i;return r&&g>r?r:g},_notifyChange:function(e){var i=this._get(e,"onChangeMonthYear");i&&i.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var i=this._get(e,"numberOfMonths");return i==null?[1,1]:typeof i=="number"?[1,i]:i},_getMinMaxDate:function(e,i){return this._determineDate(e,this._get(e,i+"Date"),null)},_getDaysInMonth:function(e,i){return 32-this._daylightSavingAdjust(new Date(e,i,32)).getDate()},_getFirstDayOfMonth:function(e,i){return new Date(e,i,1).getDay()},_canAdjustMonth:function(e,i,n,r){var g=this._getNumberOfMonths(e),I=this._daylightSavingAdjust(new Date(n,r+(i<0?i:g[0]*g[1]),1));return i<0&&I.setDate(this._getDaysInMonth(I.getFullYear(),I.getMonth())),this._isInRange(e,I)},_isInRange:function(e,i){var n,r,g=this._getMinMaxDate(e,"min"),I=this._getMinMaxDate(e,"max"),B=null,G=null,oe=this._get(e,"yearRange");return oe&&(n=oe.split(":"),r=new Date().getFullYear(),B=parseInt(n[0],10),G=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(B+=r),n[1].match(/[+\-].*/)&&(G+=r)),(!g||i.getTime()>=g.getTime())&&(!I||i.getTime()<=I.getTime())&&(!B||i.getFullYear()>=B)&&(!G||i.getFullYear()<=G)},_getFormatConfig:function(e){var i=this._get(e,"shortYearCutoff");return i=typeof i!="string"?i:new Date().getFullYear()%100+parseInt(i,10),{shortYearCutoff:i,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,i,n,r){i||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var g=i?typeof i=="object"?i:this._daylightSavingAdjust(new Date(r,n,i)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),g,this._getFormatConfig(e))}});function ht(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,It)}function It(){t.datepicker._isDisabledDatepicker(qe.inline?qe.dpDiv.parent()[0]:qe.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function Ke(e,i){t.extend(e,i);for(var n in i)i[n]==null&&(e[n]=i[n]);return e}t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof e=="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):e==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){typeof e=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})},t.datepicker=new Xe,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.13.2";var pt=t.datepicker,ct=t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var nt=!1;t(document).on("mouseup",function(){nt=!1});var Lt=t.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(i){return e._mouseDown(i)}).on("click."+this.widgetName,function(i){if(t.data(i.target,e.widgetName+".preventClickEvent")===!0)return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!nt){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=e.which===1,r=typeof this.options.cancel=="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return!n||r||!this._mouseCapture(e)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(t.data(e.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return i._mouseMove(g)},this._mouseUpDelegate=function(g){return i._mouseUp(g)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),nt=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,nt=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),Ut=t.ui.plugin={add:function(e,i,n){var r,g=t.ui[e].prototype;for(r in n)g.plugins[r]=g.plugins[r]||[],g.plugins[r].push([i,n[r]])},call:function(e,i,n,r){var g,I=e.plugins[i];if(!!I&&!(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)))for(g=0;g<I.length;g++)e.options[I[g][0]]&&I[g][1].apply(e.element,n)}},gt=t.ui.safeBlur=function(e){e&&e.nodeName.toLowerCase()!=="body"&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,i){this._super(e,i),e==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle)?!1:(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var i=t(this);return t("<div>").css("position","absolute").appendTo(i.parent()).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);n.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===!0||typeof this.options.revert=="function"&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function",r=n?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),i=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(i?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(i?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,g=this.document[0];if(this.relativeContainer=null,!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,t(g).width()-this.helperProportions.width-this.margins.left,(t(g).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}r.containment==="parent"&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],!!n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,i){var n,r,g,I,B=this.options,G=this._isRootNode(this.scrollParent[0]),oe=e.pageX,Re=e.pageY;return(!G||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),i&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(oe=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(Re=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(oe=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(Re=n[3]+this.offset.click.top)),B.grid&&(g=B.grid[1]?this.originalPageY+Math.round((Re-this.originalPageY)/B.grid[1])*B.grid[1]:this.originalPageY,Re=n?g-this.offset.click.top>=n[1]||g-this.offset.click.top>n[3]?g:g-this.offset.click.top>=n[1]?g-B.grid[1]:g+B.grid[1]:g,I=B.grid[0]?this.originalPageX+Math.round((oe-this.originalPageX)/B.grid[0])*B.grid[0]:this.originalPageX,oe=n?I-this.offset.click.left>=n[0]||I-this.offset.click.left>n[2]?I:I-this.offset.click.left>=n[0]?I-B.grid[0]:I+B.grid[0]:I),B.axis==="y"&&(oe=this.originalPageX),B.axis==="x"&&(Re=this.originalPageY)),{top:Re-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:G?0:this.offset.scroll.top),left:oe-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:G?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var g=t(this).sortable("instance");g&&!g.options.disabled&&(n.sortables.push(g),g.refreshPositions(),g._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var g=this;g.isOver?(g.isOver=0,n.cancelHelperRemoval=!0,g.cancelHelperRemoval=!1,g._storedCSS={position:g.placeholder.css("position"),top:g.placeholder.css("top"),left:g.placeholder.css("left")},g._mouseStop(e),g.options.helper=g.options._helper):(g.cancelHelperRemoval=!0,g._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,g=this;g.positionAbs=n.positionAbs,g.helperProportions=n.helperProportions,g.offset.click=n.offset.click,g._intersectsWith(g.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==g&&this._intersectsWith(this.containerCache)&&t.contains(g.element[0],this.element[0])&&(r=!1),r})),r?(g.isOver||(g.isOver=1,n._parent=i.helper.parent(),g.currentItem=i.helper.appendTo(g.element).data("ui-sortable-item",!0),g.options._helper=g.options.helper,g.options.helper=function(){return i.helper[0]},e.target=g.currentItem[0],g._mouseCapture(e,!0),g._mouseStart(e,!0,!0),g.offset.click.top=n.offset.click.top,g.offset.click.left=n.offset.click.left,g.offset.parent.left-=n.offset.parent.left-g.offset.parent.left,g.offset.parent.top-=n.offset.parent.top-g.offset.parent.top,n._trigger("toSortable",e),n.dropped=g.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,g.fromOutside=n),g.currentItem&&(g._mouseDrag(e),i.position=g.position)):g.isOver&&(g.isOver=0,g.cancelHelperRemoval=!0,g.options._revert=g.options.revert,g.options.revert=!1,g._trigger("out",e,g._uiHash(g)),g._mouseStop(e,!0),g.options.revert=g.options._revert,g.options.helper=g.options._helper,g.placeholder&&g.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),g=n.options;r.css("cursor")&&(g._cursor=r.css("cursor")),r.css("cursor",g.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),g=n.options;r.css("opacity")&&(g._opacity=r.css("opacity")),r.css("opacity",g.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML"&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,g=!1,I=n.scrollParentNotHidden[0],B=n.document[0];I!==B&&I.tagName!=="HTML"?((!r.axis||r.axis!=="x")&&(n.overflowOffset.top+I.offsetHeight-e.pageY<r.scrollSensitivity?I.scrollTop=g=I.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(I.scrollTop=g=I.scrollTop-r.scrollSpeed)),(!r.axis||r.axis!=="y")&&(n.overflowOffset.left+I.offsetWidth-e.pageX<r.scrollSensitivity?I.scrollLeft=g=I.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(I.scrollLeft=g=I.scrollLeft-r.scrollSpeed))):((!r.axis||r.axis!=="x")&&(e.pageY-t(B).scrollTop()<r.scrollSensitivity?g=t(B).scrollTop(t(B).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(B).scrollTop())<r.scrollSensitivity&&(g=t(B).scrollTop(t(B).scrollTop()+r.scrollSpeed))),(!r.axis||r.axis!=="y")&&(e.pageX-t(B).scrollLeft()<r.scrollSensitivity?g=t(B).scrollLeft(t(B).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(B).scrollLeft())<r.scrollSensitivity&&(g=t(B).scrollLeft(t(B).scrollLeft()+r.scrollSpeed)))),g!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var g=t(this),I=g.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:I.top,left:I.left})})},drag:function(e,i,n){var r,g,I,B,G,oe,Re,Me,je,ze,Ne=n.options,Oe=Ne.snapTolerance,tt=i.offset.left,it=tt+n.helperProportions.width,xt=i.offset.top,Ot=xt+n.helperProportions.height;for(je=n.snapElements.length-1;je>=0;je--){if(G=n.snapElements[je].left-n.margins.left,oe=G+n.snapElements[je].width,Re=n.snapElements[je].top-n.margins.top,Me=Re+n.snapElements[je].height,it<G-Oe||tt>oe+Oe||Ot<Re-Oe||xt>Me+Oe||!t.contains(n.snapElements[je].item.ownerDocument,n.snapElements[je].item)){n.snapElements[je].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[je].item})),n.snapElements[je].snapping=!1;continue}Ne.snapMode!=="inner"&&(r=Math.abs(Re-Ot)<=Oe,g=Math.abs(Me-xt)<=Oe,I=Math.abs(G-it)<=Oe,B=Math.abs(oe-tt)<=Oe,r&&(i.position.top=n._convertPositionTo("relative",{top:Re-n.helperProportions.height,left:0}).top),g&&(i.position.top=n._convertPositionTo("relative",{top:Me,left:0}).top),I&&(i.position.left=n._convertPositionTo("relative",{top:0,left:G-n.helperProportions.width}).left),B&&(i.position.left=n._convertPositionTo("relative",{top:0,left:oe}).left)),ze=r||g||I||B,Ne.snapMode!=="outer"&&(r=Math.abs(Re-xt)<=Oe,g=Math.abs(Me-Ot)<=Oe,I=Math.abs(G-tt)<=Oe,B=Math.abs(oe-it)<=Oe,r&&(i.position.top=n._convertPositionTo("relative",{top:Re,left:0}).top),g&&(i.position.top=n._convertPositionTo("relative",{top:Me-n.helperProportions.height,left:0}).top),I&&(i.position.left=n._convertPositionTo("relative",{top:0,left:G}).left),B&&(i.position.left=n._convertPositionTo("relative",{top:0,left:oe-n.helperProportions.width}).left)),!n.snapElements[je].snapping&&(r||g||I||B||ze)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[je].item})),n.snapElements[je].snapping=r||g||I||B||ze}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,g=n.options,I=t.makeArray(t(g.stack)).sort(function(B,G){return(parseInt(t(B).css("zIndex"),10)||0)-(parseInt(t(G).css("zIndex"),10)||0)});!I.length||(r=parseInt(t(I[0]).css("zIndex"),10)||0,t(I).each(function(B){t(this).css("zIndex",r+B)}),this.css("zIndex",r+I.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),g=n.options;r.css("zIndex")&&(g._zIndex=r.css("zIndex")),r.css("zIndex",g.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}});var Tt=t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,i){if(t(e).css("overflow")==="hidden")return!1;var n=i&&i==="left"?"scrollLeft":"scrollTop",r=!1;if(e[n]>0)return!0;try{e[n]=1,r=e[n]>0,e[n]=0}catch{}return r},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var e,i=function(n){t(n).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,i){switch(this._super(e,i),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!i;break;default:break}},_setupHandles:function(){var e=this.options,i,n,r,g,I,B=this;if(this.handles=e.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i=String.prototype.trim.call(r[n]),g="ui-resizable-"+i,I=t("<div>"),this._addClass(I,"ui-resizable-handle "+g),I.css({zIndex:e.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(I),this._addedHandles=this._addedHandles.add(I));this._renderAxis=function(G){var oe,Re,Me,je;G=G||this.element;for(oe in this.handles)this.handles[oe].constructor===String?this.handles[oe]=this.element.children(this.handles[oe]).first().show():(this.handles[oe].jquery||this.handles[oe].nodeType)&&(this.handles[oe]=t(this.handles[oe]),this._on(this.handles[oe],{mousedown:B._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(Re=t(this.handles[oe],this.element),je=/sw|ne|nw|se|n|s/.test(oe)?Re.outerHeight():Re.outerWidth(),Me=["padding",/ne|nw|n/.test(oe)?"Top":/se|sw|s/.test(oe)?"Bottom":/^e$/.test(oe)?"Right":"Left"].join(""),G.css(Me,je),this._proportionallyResize()),this._handles=this._handles.add(this.handles[oe])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){B.resizing||(this.className&&(I=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),B.axis=I&&I[1]?I[1]:"se")}),e.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,g=this.options,I=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),g.containment&&(i+=t(g.containment).scrollLeft()||0,n+=t(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:I.width(),height:I.height()},this.originalSize=this._helper?{width:I.outerWidth(),height:I.outerHeight()}:{width:I.width(),height:I.height()},this.sizeDiff={width:I.outerWidth()-I.width(),height:I.outerHeight()-I.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=typeof g.aspectRatio=="number"?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",r==="auto"?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,g=this.axis,I=e.pageX-r.left||0,B=e.pageY-r.top||0,G=this._change[g];return this._updatePrevProperties(),G&&(i=G.apply(this,[e,I,B]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,g,I,B,G,oe=this.options,Re=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:Re.sizeDiff.height,g=n?0:Re.sizeDiff.width,I={width:Re.helper.width()-g,height:Re.helper.height()-r},B=parseFloat(Re.element.css("left"))+(Re.position.left-Re.originalPosition.left)||null,G=parseFloat(Re.element.css("top"))+(Re.position.top-Re.originalPosition.top)||null,oe.animate||this.element.css(t.extend(I,{top:G,left:B})),Re.helper.height(Re.size.height),Re.helper.width(Re.size.width),this._helper&&!oe.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var i,n,r,g,I,B=this.options;I={minWidth:this._isNumber(B.minWidth)?B.minWidth:0,maxWidth:this._isNumber(B.maxWidth)?B.maxWidth:1/0,minHeight:this._isNumber(B.minHeight)?B.minHeight:0,maxHeight:this._isNumber(B.maxHeight)?B.maxHeight:1/0},(this._aspectRatio||e)&&(i=I.minHeight*this.aspectRatio,r=I.minWidth/this.aspectRatio,n=I.maxHeight*this.aspectRatio,g=I.maxWidth/this.aspectRatio,i>I.minWidth&&(I.minWidth=i),r>I.minHeight&&(I.minHeight=r),n<I.maxWidth&&(I.maxWidth=n),g<I.maxHeight&&(I.maxHeight=g)),this._vBoundaries=I},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var i=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),r==="sw"&&(e.left=i.left+(n.width-e.width),e.top=null),r==="nw"&&(e.top=i.top+(n.height-e.height),e.left=i.left+(n.width-e.width)),e},_respectSize:function(e){var i=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&i.maxWidth&&i.maxWidth<e.width,g=this._isNumber(e.height)&&i.maxHeight&&i.maxHeight<e.height,I=this._isNumber(e.width)&&i.minWidth&&i.minWidth>e.width,B=this._isNumber(e.height)&&i.minHeight&&i.minHeight>e.height,G=this.originalPosition.left+this.originalSize.width,oe=this.originalPosition.top+this.originalSize.height,Re=/sw|nw|w/.test(n),Me=/nw|ne|n/.test(n);return I&&(e.width=i.minWidth),B&&(e.height=i.minHeight),r&&(e.width=i.maxWidth),g&&(e.height=i.maxHeight),I&&Re&&(e.left=G-i.minWidth),r&&Re&&(e.left=G-i.maxWidth),B&&Me&&(e.top=oe-i.minHeight),g&&Me&&(e.top=oe-i.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_getPaddingPlusBorderDimensions:function(e){for(var i=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];i<4;i++)n[i]=parseFloat(r[i])||0,n[i]+=parseFloat(g[i])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!!this._proportionallyResizeElements.length)for(var e,i=0,n=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)e=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,i){return{width:this.originalSize.width+i}},w:function(e,i){var n=this.originalSize,r=this.originalPosition;return{left:r.left+i,width:n.width-i}},n:function(e,i,n){var r=this.originalSize,g=this.originalPosition;return{top:g.top+n,height:r.height-n}},s:function(e,i,n){return{height:this.originalSize.height+n}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,g=r.length&&/textarea/i.test(r[0].nodeName),I=g&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,B=g?0:i.sizeDiff.width,G={width:i.size.width-B,height:i.size.height-I},oe=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,Re=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(G,Re&&oe?{top:Re,left:oe}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var Me={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:Me.width,height:Me.height}),i._updateCache(Me),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,g,I,B,G=t(this).resizable("instance"),oe=G.options,Re=G.element,Me=oe.containment,je=Me instanceof t?Me.get(0):/parent/.test(Me)?Re.parent().get(0):Me;!je||(G.containerElement=t(je),/document/.test(Me)||Me===document?(G.containerOffset={left:0,top:0},G.containerPosition={left:0,top:0},G.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(je),i=[],t(["Top","Right","Left","Bottom"]).each(function(ze,Ne){i[ze]=G._num(e.css("padding"+Ne))}),G.containerOffset=e.offset(),G.containerPosition=e.position(),G.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=G.containerOffset,r=G.containerSize.height,g=G.containerSize.width,I=G._hasScroll(je,"left")?je.scrollWidth:g,B=G._hasScroll(je)?je.scrollHeight:r,G.parentData={element:je,left:n.left,top:n.top,width:I,height:B}))},resize:function(e){var i,n,r,g,I=t(this).resizable("instance"),B=I.options,G=I.containerOffset,oe=I.position,Re=I._aspectRatio||e.shiftKey,Me={top:0,left:0},je=I.containerElement,ze=!0;je[0]!==document&&/static/.test(je.css("position"))&&(Me=G),oe.left<(I._helper?G.left:0)&&(I.size.width=I.size.width+(I._helper?I.position.left-G.left:I.position.left-Me.left),Re&&(I.size.height=I.size.width/I.aspectRatio,ze=!1),I.position.left=B.helper?G.left:0),oe.top<(I._helper?G.top:0)&&(I.size.height=I.size.height+(I._helper?I.position.top-G.top:I.position.top),Re&&(I.size.width=I.size.height*I.aspectRatio,ze=!1),I.position.top=I._helper?G.top:0),r=I.containerElement.get(0)===I.element.parent().get(0),g=/relative|absolute/.test(I.containerElement.css("position")),r&&g?(I.offset.left=I.parentData.left+I.position.left,I.offset.top=I.parentData.top+I.position.top):(I.offset.left=I.element.offset().left,I.offset.top=I.element.offset().top),i=Math.abs(I.sizeDiff.width+(I._helper?I.offset.left-Me.left:I.offset.left-G.left)),n=Math.abs(I.sizeDiff.height+(I._helper?I.offset.top-Me.top:I.offset.top-G.top)),i+I.size.width>=I.parentData.width&&(I.size.width=I.parentData.width-i,Re&&(I.size.height=I.size.width/I.aspectRatio,ze=!1)),n+I.size.height>=I.parentData.height&&(I.size.height=I.parentData.height-n,Re&&(I.size.width=I.size.height*I.aspectRatio,ze=!1)),ze||(I.position.left=I.prevPosition.left,I.position.top=I.prevPosition.top,I.size.width=I.prevSize.width,I.size.height=I.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,g=e.containerElement,I=t(e.helper),B=I.offset(),G=I.outerWidth()-e.sizeDiff.width,oe=I.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(g.css("position"))&&t(this).css({left:B.left-r.left-n.left,width:G,height:oe}),e._helper&&!i.animate&&/static/.test(g.css("position"))&&t(this).css({left:B.left-r.left-n.left,width:G,height:oe})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var n=t(this);n.data("ui-resizable-alsoresize",{width:parseFloat(n.width()),height:parseFloat(n.height()),left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,g=n.originalSize,I=n.originalPosition,B={height:n.size.height-g.height||0,width:n.size.width-g.width||0,top:n.position.top-I.top||0,left:n.position.left-I.left||0};t(r.alsoResize).each(function(){var G=t(this),oe=t(this).data("ui-resizable-alsoresize"),Re={},Me=G.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(Me,function(je,ze){var Ne=(oe[ze]||0)+(B[ze]||0);Ne&&Ne>=0&&(Re[ze]=Ne||null)}),G.css(Re)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&typeof e.options.ghost=="string"&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,g=i.originalSize,I=i.originalPosition,B=i.axis,G=typeof n.grid=="number"?[n.grid,n.grid]:n.grid,oe=G[0]||1,Re=G[1]||1,Me=Math.round((r.width-g.width)/oe)*oe,je=Math.round((r.height-g.height)/Re)*Re,ze=g.width+Me,Ne=g.height+je,Oe=n.maxWidth&&n.maxWidth<ze,tt=n.maxHeight&&n.maxHeight<Ne,it=n.minWidth&&n.minWidth>ze,xt=n.minHeight&&n.minHeight>Ne;n.grid=G,it&&(ze+=oe),xt&&(Ne+=Re),Oe&&(ze-=oe),tt&&(Ne-=Re),/^(se|s|e)$/.test(B)?(i.size.width=ze,i.size.height=Ne):/^(ne)$/.test(B)?(i.size.width=ze,i.size.height=Ne,i.position.top=I.top-je):/^(sw)$/.test(B)?(i.size.width=ze,i.size.height=Ne,i.position.left=I.left-Me):((Ne-Re<=0||ze-oe<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),Ne-Re>0?(i.size.height=Ne,i.position.top=I.top-je):(Ne=Re-e.height,i.size.height=Ne,i.position.top=I.top+g.height-Ne),ze-oe>0?(i.size.width=ze,i.position.left=I.left-Me):(ze=oe-e.width,i.size.width=ze,i.position.left=I.left+g.width-ze))}});var st=t.ui.resizable;t.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,i=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=i.parent.children().eq(i.index),e.length&&e[0]!==this.element[0]?e.before(this.element):i.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;!this._isOpen||this._trigger("beforeClose",e)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),g=Math.max.apply(null,r);return g>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",g+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault(),this.close(e);return}if(!(e.keyCode!==t.ui.keyCode.TAB||e.isDefaultPrevented())){var i=this.uiDialog.find(":tabbable"),n=i.first(),r=i.last();(e.target===r[0]||e.target===this.uiDialog[0])&&!e.shiftKey?(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(e.target===n[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(this._delay(function(){r.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(i){t(i.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||Array.isArray(i)&&!i.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}t.each(i,function(n,r){var g,I;r=typeof r=="function"?{click:r,text:n}:r,r=t.extend({type:"button"},r),g=r.click,I={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,typeof r.text=="boolean"&&delete r.text,t("<button></button>",r).button(I).appendTo(e.uiButtonSet).on("click",function(){g.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,i=this.options;function n(r){return{position:r.position,offset:r.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,g){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",r,n(g))},drag:function(r,g){e._trigger("drag",r,n(g))},stop:function(r,g){var I=g.offset.left-e.document.scrollLeft(),B=g.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(I>=0?"+":"")+I+" top"+(B>=0?"+":"")+B,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,n(g))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),g=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";function I(B){return{originalPosition:B.originalPosition,originalSize:B.originalSize,position:B.position,size:B.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:g,start:function(B,G){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",B,I(G))},resize:function(B,G){e._trigger("resize",B,I(G))},stop:function(B,G){var oe=e.uiDialog.offset(),Re=oe.left-e.document.scrollLeft(),Me=oe.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(Re>=0?"+":"")+Re+" top"+(Me>=0?"+":"")+Me,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",B,I(G))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);i!==-1&&e.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(g,I){i._setOption(g,I),g in i.sizeRelatedOptions&&(n=!0),g in i.resizableRelatedOptions&&(r[g]=I)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,g=this.uiDialog;e!=="disabled"&&(this._super(e,i),e==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),e==="buttons"&&this._createButtons(),e==="closeText"&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),e==="draggable"&&(n=g.is(":data(ui-draggable)"),n&&!i&&g.draggable("destroy"),!n&&i&&this._makeDraggable()),e==="position"&&this._position(),e==="resizable"&&(r=g.is(":data(ui-resizable)"),r&&!i&&g.resizable("destroy"),r&&typeof i=="string"&&g.resizable("option","handles",i),!r&&i!==!1&&this._makeResizable()),e==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,i,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),i=Math.max(0,r.minHeight-e),n=typeof r.maxHeight=="number"?Math.max(0,r.maxHeight-e):"none",r.height==="auto"?this.element.css({minHeight:i,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!!this.options.modal){var e=t.fn.jquery.substring(0,4),i=!0;this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(n){if(!i){var r=this._trackingInstances()[0];r._allowInteraction(n)||(n.preventDefault(),r._focusTabbable(),(e==="3.4."||e==="3.5.")&&r._delay(r._restoreTabbableFocus))}}.bind(this)),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(!!this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,i){e==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(i),this._superApply(arguments)}});var Ze=t.ui.dialog;t.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=typeof n=="function"?n:function(r){return r.is(n)},this.proportions=function(){if(arguments.length)e=arguments[0];else return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var i=0;i<e.length;i++)e[i]===this&&e.splice(i,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if(e==="accept")this.accept=typeof i=="function"?i:function(r){return r.is(i)};else if(e==="scope"){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!n||(n.currentItem||n.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var g=t(this).droppable("instance");if(g.options.greedy&&!g.options.disabled&&g.options.scope===n.options.scope&&g.accept.call(g.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(g,{offset:g.element.offset()}),g.options.tolerance,e))return r=!0,!1}),r)?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),t.ui.intersect=function(){function e(i,n,r){return i>=n&&i<n+r}return function(i,n,r,g){if(!n.offset)return!1;var I=(i.positionAbs||i.position.absolute).left+i.margins.left,B=(i.positionAbs||i.position.absolute).top+i.margins.top,G=I+i.helperProportions.width,oe=B+i.helperProportions.height,Re=n.offset.left,Me=n.offset.top,je=Re+n.proportions().width,ze=Me+n.proportions().height;switch(r){case"fit":return Re<=I&&G<=je&&Me<=B&&oe<=ze;case"intersect":return Re<I+i.helperProportions.width/2&&G-i.helperProportions.width/2<je&&Me<B+i.helperProportions.height/2&&oe-i.helperProportions.height/2<ze;case"pointer":return e(g.pageY,Me,n.proportions().height)&&e(g.pageX,Re,n.proportions().width);case"touch":return(B>=Me&&B<=ze||oe>=Me&&oe<=ze||B<Me&&oe>ze)&&(I>=Re&&I<=je||G>=Re&&G<=je||I<Re&&G>je);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,g=t.ui.ddmanager.droppables[e.options.scope]||[],I=i?i.type:null,B=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<g.length;n++)if(!(g[n].options.disabled||e&&!g[n].accept.call(g[n].element[0],e.currentItem||e.element))){for(r=0;r<B.length;r++)if(B[r]===g[n].element[0]){g[n].proportions().height=0;continue e}g[n].visible=g[n].element.css("display")!=="none",!!g[n].visible&&(I==="mousedown"&&g[n]._activate.call(g[n],i),g[n].offset=g[n].element.offset(),g[n].proportions({width:g[n].element[0].offsetWidth,height:g[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var n,r,g,I=t.ui.intersect(e,this,this.options.tolerance,i),B=!I&&this.isover?"isout":I&&!this.isover?"isover":null;!B||(this.options.greedy&&(r=this.options.scope,g=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),g.length&&(n=t(g[0]).droppable("instance"),n.greedyChild=B==="isover")),n&&B==="isover"&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[B]=!0,this[B==="isout"?"isover":"isout"]=!1,this[B==="isover"?"_over":"_out"].call(this,i),n&&B==="isout"&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});var et=t.ui.droppable;var At=t.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===void 0)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===void 0&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var i=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(i),this._refreshValue()},_setOption:function(e,i){e==="max"&&(i=Math.max(this.min,i)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}});var wt=t.widget("ui.selectable",t.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),!this.options.disabled&&(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=t.data(this,"selectable-item");r.startselected=!0,!e.metaKey&&!e.ctrlKey&&(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",e,{unselecting:r.element}))}),t(e.target).parents().addBack().each(function(){var r,g=t.data(this,"selectable-item");if(g)return r=!e.metaKey&&!e.ctrlKey||!g.$element.hasClass("ui-selected"),i._removeClass(g.$element,r?"ui-unselecting":"ui-selected")._addClass(g.$element,r?"ui-selecting":"ui-unselecting"),g.unselecting=!r,g.selecting=r,g.selected=r,r?i._trigger("selecting",e,{selecting:g.element}):i._trigger("unselecting",e,{unselecting:g.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,g=this.opos[0],I=this.opos[1],B=e.pageX,G=e.pageY;return g>B&&(i=B,B=g,g=i),I>G&&(i=G,G=I,I=i),this.helper.css({left:g,top:I,width:B-g,height:G-I}),this.selectees.each(function(){var oe=t.data(this,"selectable-item"),Re=!1,Me={};!oe||oe.element===n.element[0]||(Me.left=oe.left+n.elementPos.left,Me.right=oe.right+n.elementPos.left,Me.top=oe.top+n.elementPos.top,Me.bottom=oe.bottom+n.elementPos.top,r.tolerance==="touch"?Re=!(Me.left>B||Me.right<g||Me.top>G||Me.bottom<I):r.tolerance==="fit"&&(Re=Me.left>g&&Me.right<B&&Me.top>I&&Me.bottom<G),Re?(oe.selected&&(n._removeClass(oe.$element,"ui-selected"),oe.selected=!1),oe.unselecting&&(n._removeClass(oe.$element,"ui-unselecting"),oe.unselecting=!1),oe.selecting||(n._addClass(oe.$element,"ui-selecting"),oe.selecting=!0,n._trigger("selecting",e,{selecting:oe.element}))):(oe.selecting&&((e.metaKey||e.ctrlKey)&&oe.startselected?(n._removeClass(oe.$element,"ui-selecting"),oe.selecting=!1,n._addClass(oe.$element,"ui-selected"),oe.selected=!0):(n._removeClass(oe.$element,"ui-selecting"),oe.selecting=!1,oe.startselected&&(n._addClass(oe.$element,"ui-unselecting"),oe.unselecting=!0),n._trigger("unselecting",e,{unselecting:oe.element}))),oe.selected&&!e.metaKey&&!e.ctrlKey&&!oe.startselected&&(n._removeClass(oe.$element,"ui-selected"),oe.selected=!1,n._addClass(oe.$element,"ui-unselecting"),oe.unselecting=!0,n._trigger("unselecting",e,{unselecting:oe.element}))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}});var lt=t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(r){this.button.trigger("focus"),r.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(i,n){i.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),i)},focus:function(i,n){var r=n.item.data("ui-selectmenu-item");e.focusIndex!=null&&r.index!==e.focusIndex&&(e._trigger("focus",i,{item:r}),e.isOpen||e._select(r,i)),e.focusIndex=r.index,e.button.attr("aria-activedescendant",e.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),this.options.width===null&&this._resizeButton()},_refreshMenu:function(){var e,i=this.element.find("option");this.menu.empty(),this._parseOptions(i),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,!!i.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),!!this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(e){!this.isOpen||(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(g,I){var B;I.optgroup!==r&&(B=t("<li>",{text:I.optgroup}),n._addClass(B,"ui-selectmenu-optgroup","ui-menu-divider"+(I.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),B.appendTo(e),r=I.optgroup),n._renderItemData(e,I)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-selectmenu-item",i)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(e,i){i?e.text(i):e.html("&#160;")},_move:function(e,i){var n,r,g=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),g+=":not(.ui-state-disabled)"),e==="first"||e==="last"?r=n[e==="first"?"prevAll":"nextAll"](g).eq(-1):r=n[e+"All"](g).eq(0),r.length&&this.menuInstance.focus(i,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;!this.range||(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(e){!this.isOpen||t(e.target).closest(".ui-selectmenu-menu, #"+t.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(e){var i=this.menuItems.eq(this.focusIndex).parent("li");i.hasClass("ui-state-disabled")||this._select(i.data("ui-selectmenu-item"),e)},_select:function(e,i){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",i,{item:e}),e.index!==n&&this._trigger("change",i,{item:e}),this.close(i)},_setAria:function(e){var i=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":i,"aria-activedescendant":i}),this.menu.attr("aria-activedescendant",i)},_setOption:function(e,i){if(e==="icons"){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,i.button)}this._super(e,i),e==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),e==="width"&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(e===!1){this.button.css("width","");return}e===null&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,n=[];e.each(function(r,g){g.hidden||n.push(i._parseOption(t(g),r))}),this.items=n},_parseOption:function(e,i){var n=e.parent("optgroup");return{element:e,index:i,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]);var ut=t.widget("ui.slider",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),g="<span tabindex='0'></span>",I=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)I.push(g);this.handles=r.add(t(I.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(B){t(this).data("ui-slider-handle-index",B).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&e.values.length!==2?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(e.range==="min"||e.range==="max")&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,g,I,B,G,oe,Re=this,Me=this.options;return Me.disabled||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(je){var ze=Math.abs(n-Re.values(je));(r>ze||r===ze&&(je===Re._lastChangedValue||Re.values(je)===Me.min))&&(r=ze,g=t(this),I=je)}),B=this._start(e,I),B===!1)?!1:(this._mouseSliding=!0,this._handleIndex=I,this._addClass(g,null,"ui-state-active"),g.trigger("focus"),G=g.offset(),oe=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=oe?{left:0,top:0}:{left:e.pageX-G.left-g.width()/2,top:e.pageY-G.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,I,n),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(e){var i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var i,n,r,g,I;return this.orientation==="horizontal"?(i=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/i,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),g=this._valueMax()-this._valueMin(),I=this._valueMin()+r*g,this._trimAlignValue(I)},_uiHash:function(e,i,n){var r={handle:this.handles[e],handleIndex:e,value:i!==void 0?i:this.value()};return this._hasMultipleValues()&&(r.value=i!==void 0?i:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,i){return this._trigger("start",e,this._uiHash(i))},_slide:function(e,i,n){var r,g,I=this.value(),B=this.values();this._hasMultipleValues()&&(g=this.values(i?0:1),I=this.values(i),this.options.values.length===2&&this.options.range===!0&&(n=i===0?Math.min(g,n):Math.max(g,n)),B[i]=n),n!==I&&(r=this._trigger("slide",e,this._uiHash(i,n,B)),r!==!1&&(this._hasMultipleValues()?this.values(i,n):this.value(n)))},_stop:function(e,i){this._trigger("stop",e,this._uiHash(i))},_change:function(e,i){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=i,this._trigger("change",e,this._uiHash(i)))},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(e,i){var n,r,g;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e);return}if(arguments.length)if(Array.isArray(arguments[0])){for(n=this.options.values,r=arguments[0],g=0;g<n.length;g+=1)n[g]=this._trimAlignValue(r[g]),this._change(null,g);this._refreshValue()}else return this._hasMultipleValues()?this._values(e):this.value();else return this._values()},_setOption:function(e,i){var n,r=0;switch(e==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css(i==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;break}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var i,n,r;if(arguments.length)return i=this.options.values[e],i=this._trimAlignValue(i),i;if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}else return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var i=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%i,r=e-n;return Math.abs(n)*2>=i&&(r+=n>0?i:-i),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,i=this._valueMin(),n=this.options.step,r=Math.round((e-i)/n)*n;e=r+i,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){e==="vertical"&&this.range.css({width:"",left:""}),e==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,g,I=this.options.range,B=this.options,G=this,oe=this._animateOff?!1:B.animate,Re={};this._hasMultipleValues()?this.handles.each(function(Me){i=(G.values(Me)-G._valueMin())/(G._valueMax()-G._valueMin())*100,Re[G.orientation==="horizontal"?"left":"bottom"]=i+"%",t(this).stop(1,1)[oe?"animate":"css"](Re,B.animate),G.options.range===!0&&(G.orientation==="horizontal"?(Me===0&&G.range.stop(1,1)[oe?"animate":"css"]({left:i+"%"},B.animate),Me===1&&G.range[oe?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:B.animate})):(Me===0&&G.range.stop(1,1)[oe?"animate":"css"]({bottom:i+"%"},B.animate),Me===1&&G.range[oe?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:B.animate}))),e=i}):(n=this.value(),r=this._valueMin(),g=this._valueMax(),i=g!==r?(n-r)/(g-r)*100:0,Re[this.orientation==="horizontal"?"left":"bottom"]=i+"%",this.handle.stop(1,1)[oe?"animate":"css"](Re,B.animate),I==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[oe?"animate":"css"]({width:i+"%"},B.animate),I==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[oe?"animate":"css"]({width:100-i+"%"},B.animate),I==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[oe?"animate":"css"]({height:i+"%"},B.animate),I==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[oe?"animate":"css"]({height:100-i+"%"},B.animate))},_handleEvents:{keydown:function(e){var i,n,r,g,I=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,I),i===!1))return;break}switch(g=this.options.step,this._hasMultipleValues()?n=r=this.values(I):n=r=this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+g);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-g);break}this._slide(e,I,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}});var bt=t.widget("ui.sortable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,i,n){return e>=i&&e<i+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,i){this._super(e,i),e==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,g=this;return this.reverting||this.options.disabled||this.options.type==="static"||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,g.widgetName+"-item")===g)return n=t(this),!1}),t.data(e.target,g.widgetName+"-item")===g&&(n=t(e.target)),!n)||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)?!1:(this.currentItem=n,this._removeCurrentsFromItems(),!0)},_mouseStart:function(e,i,n){var r,g,I=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t(I.appendTo!=="parent"?I.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),I.cursorAt&&this._adjustOffsetFromHelper(I.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),I.containment&&this._setContainment(),I.cursor&&I.cursor!=="auto"&&(g=this.document.find("body"),this.storedCursor=g.css("cursor"),g.css("cursor",I.cursor),this.storedStylesheet=t("<style>*{ cursor: "+I.cursor+" !important; }</style>").appendTo(g)),I.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",I.zIndex)),I.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",I.opacity)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!I.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var i=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-this.document.scrollTop()<i.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<i.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),e.pageX-this.document.scrollLeft()<i.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),n},_mouseDrag:function(e){var i,n,r,g,I=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!=="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!=="x")&&(this.helper[0].style.top=this.position.top+"px"),I.scroll&&this._scroll(e)!==!1&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!I.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],g=this._intersectsWithPointer(n),!!g&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[g===1?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],r):!0)){if(this.direction=g===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(n))this._rearrange(e,n);else break;this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(!!e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),g=this.options.axis,I={};(!g||g==="x")&&(I.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!g||g==="y")&&(I.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(I,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),this.options.helper==="original"?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var r=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);r&&n.push((e.key||r[1]+"[]")+"="+(e.key&&e.expression?r[1]:r[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var i=this.positionAbs.left,n=i+this.helperProportions.width,r=this.positionAbs.top,g=r+this.helperProportions.height,I=e.left,B=I+e.width,G=e.top,oe=G+e.height,Re=this.offset.click.top,Me=this.offset.click.left,je=this.options.axis==="x"||r+Re>G&&r+Re<oe,ze=this.options.axis==="y"||i+Me>I&&i+Me<B,Ne=je&&ze;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?Ne:I<i+this.helperProportions.width/2&&n-this.helperProportions.width/2<B&&G<r+this.helperProportions.height/2&&g-this.helperProportions.height/2<oe},_intersectsWithPointer:function(e){var i,n,r=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),g=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),I=r&&g;return I?(i=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?n==="right"||i==="down"?2:1:i&&(i==="down"?2:1)):!1},_intersectsWithSides:function(e){var i=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this.dragDirection.vertical,g=this.dragDirection.horizontal;return this.floating&&g?g==="right"&&n||g==="left"&&!n:r&&(r==="down"&&i||r==="up"&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var i,n,r,g,I=[],B=[],G=this._connectWith();if(G&&e)for(i=G.length-1;i>=0;i--)for(r=t(G[i],this.document[0]),n=r.length-1;n>=0;n--)g=t.data(r[n],this.widgetFullName),g&&g!==this&&!g.options.disabled&&B.push([typeof g.options.items=="function"?g.options.items.call(g.element):t(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);B.push([typeof this.options.items=="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function oe(){I.push(this)}for(i=B.length-1;i>=0;i--)B[i][0].each(oe);return t(I)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(i){for(var n=0;n<e.length;n++)if(e[n]===i.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,g,I,B,G,oe,Re=this.items,Me=[[typeof this.options.items=="function"?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],je=this._connectWith();if(je&&this.ready)for(i=je.length-1;i>=0;i--)for(r=t(je[i],this.document[0]),n=r.length-1;n>=0;n--)g=t.data(r[n],this.widgetFullName),g&&g!==this&&!g.options.disabled&&(Me.push([typeof g.options.items=="function"?g.options.items.call(g.element[0],e,{item:this.currentItem}):t(g.options.items,g.element),g]),this.containers.push(g));for(i=Me.length-1;i>=0;i--)for(I=Me[i][1],B=Me[i][0],n=0,oe=B.length;n<oe;n++)G=t(B[n]),G.data(this.widgetName+"-item",I),Re.push({item:G,instance:I,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var i,n,r,g;for(i=this.items.length-1;i>=0;i--)n=this.items[i],!(this.currentContainer&&n.instance!==this.currentContainer&&n.item[0]!==this.currentItem[0])&&(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),g=r.offset(),n.left=g.left,n.top=g.top)},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e);var i,n;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n,r=e.options;(!r.placeholder||r.placeholder.constructor===String)&&(i=r.placeholder,n=e.currentItem[0].nodeName.toLowerCase(),r.placeholder={element:function(){var g=t("<"+n+">",e.document[0]);return e._addClass(g,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(g,"ui-sortable-helper"),n==="tbody"?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(g)):n==="tr"?e._createTrPlaceholder(e.currentItem,g):n==="img"&&g.attr("src",e.currentItem.attr("src")),i||g.css("visibility","hidden"),g},update:function(g,I){i&&!r.forcePlaceholderSize||((!I.height()||r.forcePlaceholderSize&&(n==="tbody"||n==="tr"))&&I.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),I.width()||I.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(r.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),r.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,g,I,B,G,oe,Re,Me,je=null,ze=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(je&&t.contains(this.containers[i].element[0],je.element[0]))continue;je=this.containers[i],ze=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(!!je)if(this.containers.length===1)this.containers[ze].containerCache.over||(this.containers[ze]._trigger("over",e,this._uiHash(this)),this.containers[ze].containerCache.over=1);else{for(r=1e4,g=null,Re=je.floating||this._isFloating(this.currentItem),I=Re?"left":"top",B=Re?"width":"height",Me=Re?"pageX":"pageY",n=this.items.length-1;n>=0;n--)!t.contains(this.containers[ze].element[0],this.items[n].item[0])||this.items[n].item[0]!==this.currentItem[0]&&(G=this.items[n].item.offset()[I],oe=!1,e[Me]-G>this.items[n][B]/2&&(oe=!0),Math.abs(e[Me]-G)<r&&(r=Math.abs(e[Me]-G),g=this.items[n],this.direction=oe?"up":"down"));if(!g&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[ze]){this.currentContainer.containerCache.over||(this.containers[ze]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1);return}g?this._rearrange(e,g,null,!0):this._rearrange(e,null,this.containers[ze].element,!0),this._trigger("change",e,this._uiHash()),this.containers[ze]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[ze],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this.containers[ze]._trigger("over",e,this._uiHash(this)),this.containers[ze].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function"?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;return n.parents("body").length||this.appendTo[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;r.containment==="parent"&&(r.containment=this.helper[0].parentNode),(r.containment==="document"||r.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n=t(e).css("overflow")!=="hidden",this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():g?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():g?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,g=e.pageX,I=e.pageY,B=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,G=/(html|body)/i.test(B[0].tagName);return this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(I=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(I=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((I-this.originalPageY)/r.grid[1])*r.grid[1],I=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((g-this.originalPageX)/r.grid[0])*r.grid[0],g=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:I-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():G?0:B.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():G?0:B.scrollLeft())}},_rearrange:function(e,i,n,r){n?n[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var g=this.counter;this._delay(function(){g===this.counter&&this.refreshPositions(!r)})},_clear:function(e,i){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&r.push(function(I){this._trigger("receive",I,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!i&&r.push(function(I){this._trigger("update",I,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(I){this._trigger("remove",I,this._uiHash())}),r.push(function(I){return function(B){I._trigger("receive",B,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(I){return function(B){I._trigger("update",B,this._uiHash(this))}}.call(this,this.currentContainer))));function g(I,B,G){return function(oe){G._trigger(I,oe,B._uiHash(B))}}for(n=this.containers.length-1;n>=0;n--)i||r.push(g("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(g("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!i){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});function Ft(e){return function(){var i=this.element.val();e.apply(this,arguments),this._refresh(),i!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(n,r){var g=i.attr(r);g!=null&&g.length&&(e[r]=g)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,i){var n=t.ui.safeActiveElement(this.document[0]),r=this.element[0]===n;if(!(!r||!i)){if(!this.spinning&&!this._start(e))return!1;this._spin((i>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function n(){var r=this.element[0]===t.ui.safeActiveElement(this.document[0]);r||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!!t(e.currentTarget).hasClass("ui-state-active")){if(this._start(e)===!1)return!1;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,i,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,i,n)},e),this._spin(i*this.options.step,n)},_spin:function(e,i){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),(!this.spinning||this._trigger("spin",i,{value:n})!==!1)&&(this._value(n),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?typeof i=="function"?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_adjustValue:function(e){var i,n,r=this.options;return i=r.min!==null?r.min:0,n=e-i,n=Math.round(n/r.step)*r.step,e=i+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){!this.spinning||(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,i){var n,r,g;if(e==="culture"||e==="numberFormat"){n=this._parse(this.element.val()),this.options[e]=i,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof i=="string"&&(i=this._parse(i)),e==="icons"&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,i.up),g=this.buttons.last().find(".ui-icon"),this._removeClass(g,null,this.options.icons.down),this._addClass(g,null,i.down)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:Ft(function(e){this._super(e)}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return e===null?!1:e===this._adjustValue(e)},_value:function(e,i){var n;e!==""&&(n=this._parse(e),n!==null&&(i||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:Ft(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:Ft(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:Ft(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:Ft(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());Ft(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var Rt=t.ui.spinner;t.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(i){var n,r;n=i.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch{}try{r=decodeURIComponent(r)}catch{}return i.hash.length>1&&n===r}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),Array.isArray(i.disabled)&&(i.disabled=t.uniqueSort(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(n){return e.tabs.index(n)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return e===null&&(n&&this.tabs.each(function(r,g){if(t(g).attr("aria-controls")===n)return e=r,!1}),e===null&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(e===null||e===-1)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:e.preventDefault(),clearTimeout(this.activating),this._activate(n);return;case t.ui.keyCode.ENTER:e.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n);return;default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),!e.ctrlKey&&!e.metaKey&&(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,i){var n=this.tabs.length-1;function r(){return e>n&&(e=0),e<0&&(e=n),e}for(;t.inArray(r(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(e,i){return e=this._findNextTab(e,i),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,i){if(e==="active"){this._activate(i);return}this._super(e,i),e==="collapsible"&&(this._toggleClass("ui-tabs-collapsible",null,i),!i&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(i),e==="heightStyle"&&this._setupHeightStyle(i)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),e.active===!1||!this.anchors.length?(e.active=!1,this.active=t()):this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(g){t(this).is(".ui-state-disabled")&&g.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(g,I){var B,G,oe,Re=t(I).uniqueId().attr("id"),Me=t(I).closest("li"),je=Me.attr("aria-controls");e._isLocal(I)?(B=I.hash,oe=B.substring(1),G=e.element.find(e._sanitizeSelector(B))):(oe=Me.attr("aria-controls")||t({}).uniqueId()[0].id,B="#"+oe,G=e.element.find(B),G.length||(G=e._createPanel(oe),G.insertAfter(e.panels[g-1]||e.tablist)),G.attr("aria-live","polite")),G.length&&(e.panels=e.panels.add(G)),je&&Me.data("ui-tabs-aria-controls",je),Me.attr({"aria-controls":oe,"aria-labelledby":Re}),G.attr("aria-labelledby",Re)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),e===!0||t.inArray(r,e)!==-1?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(n){n.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();e==="fill"?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var r=t(this),g=r.css("position");g==="absolute"||g==="fixed"||(i-=r.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):e==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),g=r.closest("li"),I=g[0]===n[0],B=I&&i.collapsible,G=B?t():this._getPanelForTab(g),oe=n.length?this._getPanelForTab(n):t(),Re={oldTab:n,oldPanel:oe,newTab:B?t():g,newPanel:G};e.preventDefault(),!(g.hasClass("ui-state-disabled")||g.hasClass("ui-tabs-loading")||this.running||I&&!i.collapsible||this._trigger("beforeActivate",e,Re)===!1)&&(i.active=B?!1:this.tabs.index(g),this.active=I?t():g,this.xhr&&this.xhr.abort(),!oe.length&&!G.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),G.length&&this.load(this.tabs.index(g),e),this._toggle(e,Re))},_toggle:function(e,i){var n=this,r=i.newPanel,g=i.oldPanel;this.running=!0;function I(){n.running=!1,n._trigger("activate",e,i)}function B(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,I):(r.show(),I())}g.length&&this.options.hide?this._hide(g,this.options.hide,function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),B()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),g.hide(),B()),g.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&g.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(e===void 0?i=!1:(e=this._getIndex(e),Array.isArray(i)?i=t.map(i,function(n){return n!==e?n:null}):i=t.map(this.tabs,function(n,r){return r!==e?r:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(e===void 0)i=!0;else{if(e=this._getIndex(e),t.inArray(e,i)!==-1)return;Array.isArray(i)?i=t.merge([e],i).sort():i=[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),g=r.find(".ui-tabs-anchor"),I=this._getPanelForTab(r),B={tab:r,panel:I},G=function(oe,Re){Re==="abort"&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),I.removeAttr("aria-busy"),oe===n.xhr&&delete n.xhr};this._isLocal(g[0])||(this.xhr=t.ajax(this._ajaxSettings(g,i,B)),this.xhr&&this.xhr.statusText!=="canceled"&&(this._addClass(r,"ui-tabs-loading"),I.attr("aria-busy","true"),this.xhr.done(function(oe,Re,Me){setTimeout(function(){I.html(oe),n._trigger("load",i,B),G(Me,Re)},1)}).fail(function(oe,Re){setTimeout(function(){G(oe,Re)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(g,I){return r._trigger("beforeLoad",i,t.extend({jqXHR:g,ajaxSettings:I},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});var se=t.ui.tabs;t.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title");return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",String.prototype.trim.call(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);r!==-1&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=String.prototype.trim.call(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),e==="content"&&t.each(this.tooltips,function(r,g){n._updateContent(g.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var i=t(this);if(i.is("[title]"))return i.data("ui-tooltip-title",i.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);!n.length||n.data("ui-tooltip-id")||(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&e.type==="mouseover"&&n.parents().each(function(){var r=t(this),g;r.data("ui-tooltip-open")&&(g=t.Event("blur"),g.target=g.currentTarget=this,i.close(g,!0)),r.attr("title")&&(r.uniqueId(),i.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(e,i){var n,r=this.options.content,g=this,I=i?i.type:null;if(typeof r=="string"||r.nodeType||r.jquery)return this._open(i,e,r);n=r.call(e[0],function(B){g._delay(function(){!e.data("ui-tooltip-open")||(i&&(i.type=I),this._open(i,e,B))})}),n&&this._open(i,e,n)},_open:function(e,i,n){var r,g,I,B,G=t.extend({},this.options.position);if(!n)return;if(r=this._find(i),r){r.tooltip.find(".ui-tooltip-content").html(n);return}i.is("[title]")&&(e&&e.type==="mouseover"?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),g=r.tooltip,this._addDescribedBy(i,g.attr("id")),g.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),B=t("<div>").html(g.find(".ui-tooltip-content").html()),B.removeAttr("name").find("[name]").removeAttr("name"),B.removeAttr("id").find("[id]").removeAttr("id"),B.appendTo(this.liveRegion);function oe(Re){G.of=Re,!g.is(":hidden")&&g.position(G)}this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:oe}),oe(e)):g.position(t.extend({of:i},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(I=this.delayedShow=setInterval(function(){g.is(":visible")&&(oe(G.of),clearInterval(I))},13)),this._trigger("open",e,{tooltip:g})},_registerCloseHandlers:function(e,i){var n={keyup:function(r){if(r.keyCode===t.ui.keyCode.ESCAPE){var g=t.Event(r);g.currentTarget=i[0],this.close(g,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){var r=this._find(i);r&&this._removeTooltip(r.tooltip)}),(!e||e.type==="mouseover")&&(n.mouseleave="close"),(!e||e.type==="focusin")&&(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),g=this._find(r);if(!g){r.removeData("ui-tooltip-open");return}i=g.tooltip,!g.closing&&(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),g.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&e.type==="mouseleave"&&t.each(this.parents,function(I,B){t(B.element).attr("title",B.title),delete n.parents[I]}),g.closing=!0,this._trigger("close",e,{tooltip:i}),g.hiding||(g.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(e){var i=e.data("ui-tooltip-id");return i?this.tooltips[i]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var i=e.closest(".ui-front, dialog");return i.length||(i=this.document[0].body),i},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),g=n.element;r.target=r.currentTarget=g[0],e.close(r,!0),t("#"+i).remove(),g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});var Be=t.ui.tooltip})});var Js=ss((Tl,Io)=>{Io.exports={}});var wr=Rn(Un());var zr=Rn(Un());var Zi=class{};Zi.NEXT_RANGE="nextrange";Zi.PAUSECANVAS="pause";Zi.PLAYCANVAS="play";Zi.PREVIOUS_RANGE="previousrange";var hn=class{};hn.VOLUME_CHANGED="volumechanged";var Ws=Rn(Un());function as(){return String(new Date().valueOf())}var Hs=Rn(Un());function dr(t,d){let o=Hs.Utils.getTemporalComponent(d);if(o){let u=0,p=d.substr(0,d.indexOf("#"));for(let y=0;y<t.length;y++){let c=t[y];if(c.id.includes(p))break;{let _=c.getDuration();_&&(u+=_)}}return o[0]=Number(o[0])+u,o[1]=Number(o[1])+u,p+"#t="+o[0]+","+o[1]}}Kn();var Hn=class{constructor(){this.canvases=[],this.durationMap={},this.totalDuration=0,this.id=as()}addCanvas(d){this.canvases.push(jQuery.extend(!0,{},d));let o=d.getDuration()||0;this.totalDuration+=o,this.durationMap[d.id]={duration:o,runningDuration:this.totalDuration}}getContent(){let d=[];return this.canvases.forEach(o=>{let u=o.getContent();u.forEach(p=>{let y=p.getTarget();y&&(Ws.Utils.getTemporalComponent(y)||(p.__jsonld.target+="#t=0,"+o.getDuration()))}),u.forEach(p=>{let y=p.getTarget();y&&(p.__jsonld.target=dr(this.canvases,y))}),d.push(...u)}),d}getDuration(){let d=0;return this.canvases.forEach(o=>{let u=o.getDuration();u&&(d+=u)}),Math.floor(d)}getWidth(){return this.canvases.length?this.canvases[0].getWidth():0}getHeight(){return this.canvases.length?this.canvases[0].getHeight():0}};function qs(t,d){return t/d*100}var Ts=Rn(Un());function Mn(){try{return window.Hls}catch{return null}}var Cn=class{constructor(d,o={}){this.source=d,this.options=o}attachTo(d){d.setAttribute("src",this.source)}};var ls=class extends Cn{constructor(d,o={}){super(d,o);this.player=dashjs.MediaPlayer().create(),this.player.getDebug().setLogToBrowserConsole(!1),o.adaptiveAuthEnabled&&this.player.setXHRWithCredentialsForType("MPD",!0)}attachTo(d){this.player.initialize(d,this.source,!1)}debug(){this.player.getDebug().setLogToBrowserConsole(!0),this.player.getDebug().setLogLevel(4)}};var us=class extends Cn{constructor(d,o={}){super(d,o);let u=Mn();o.adaptiveAuthEnabled?this.hls=new u({xhrSetup:p=>{p.withCredentials=!0}}):this.hls=new u,this.hls.loadSource(this.source)}attachTo(d){this.hls.attachMedia(d)}};var fs=class extends Cn{constructor(d,o={}){super(d,o)}attachTo(d){d.src=this.source}};var cs=class extends Cn{constructor(d,o={}){super(d,o)}};var to=!1,Qn=()=>to&&window&&window.__DEBUG_AV_COMPONENT__,Ht={enabled:!0,log(...t){this.enabled&&Qn()&&console.log(...t)},warn(...t){this.enabled&&Qn()&&console.warn(...t)},error(...t){this.enabled&&Qn()&&console.error(...t)},groupCollapsed(...t){this.enabled&&Qn()&&console.group(...t)},group(...t){this.enabled&&Qn()&&console.group(...t)},groupEnd(){this.enabled&&Qn()&&console.groupEnd()}};var io=function(t,d,o,u){function p(y){return y instanceof o?y:new o(function(c){c(y)})}return new(o||(o=Promise))(function(y,c){function _(m){try{E(u.next(m))}catch(w){c(w)}}function v(m){try{E(u.throw(m))}catch(w){c(w)}}function E(m){m.done?y(m.value):p(m.value).then(_,v)}E((u=u.apply(t,d||[])).next())})},no=Kn(),ds=class{constructor(d,o={}){switch(this.playWasRequested=!1,this.pauseWasRequested=!1,this.lastPause=0,this.isPausing=!1,this.source=d,this.mediaSource=d.mediaSource,this.type=d.type.toString().toLowerCase(),this.format=d.format?d.format.toString():void 0,this.mediaSyncMarginSecs=o.mediaSyncMarginSecs||1,this.type){case"video":this.element=document.createElement("video");break;case"sound":case"audio":this.element=document.createElement("audio");break;default:return}this.isDash()?this.instance=new ls(this.mediaSource,o):this.isHls()?this.instance=new us(this.mediaSource,o):this.isMpeg()?this.instance=new fs(this.mediaSource,o):this.instance=new cs(this.mediaSource,o),this.element.classList.add("anno"),o.probed||(this.element.crossOrigin="anonymous"),this.element.preload="metadata",this.instance.attachTo(this.element),this.element.currentTime=this.source.start,this.element.addEventListener("play",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this.element.addEventListener("pause",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this._pauseElement()}_playElement(){return this.playWasRequested=!0,this.pauseWasRequested&&(this.pauseWasRequested=!1),Ht.log(`HTMLElement.play() request - ${this.element.src}`),this.element.play()}_pauseElement(){this.pauseWasRequested=!0,this.playWasRequested&&(this.playWasRequested=!1),Ht.log(`HTMLElement.pause() request - ${this.element.src}`);try{this.element.pause()}catch{}}syncClock(d){if(d>this.element.duration){Ht.error(`Clock synced out of bounds (max: ${this.element.duration}, got: ${d})`);return}Math.abs(this.element.currentTime-d)>this.mediaSyncMarginSecs&&(this.element.currentTime=d)}getElementTime(){return this.element.currentTime}getCanvasId(){return this.source.canvasId}isWithinRange(d){return this.source.start<=d&&this.source.end>=d}load(d=!1){return io(this,void 0,void 0,function*(){d&&this.element.load(),yield new Promise(o=>{this.element.addEventListener("loadedmetadata",()=>{o()})})})}setSize(d,o,u,p){no(this.element).css({top:`${d}%`,left:`${o}%`,width:`${u}%`,height:`${p}%`})}isDash(){return this.format&&this.format.toString()==="application/dash+xml"&&typeof dashjs!="undefined"}isHls(){let d=Mn();return this.format&&this.format.toString()==="application/vnd.apple.mpegurl"&&typeof d!="undefined"&&d!==null&&d.isSupported()}isMpeg(){return this.element.canPlayType?this.element.canPlayType("application/vnd.apple.mpegurl")!=="":!0}stop(){this._pauseElement(),this.element.currentTime=this.source.start}play(d){return Ht.log(`MediaElement.play(${d}) - ${this.element.src}`),typeof d!="undefined"&&(this.element.currentTime=d),this._playElement()}pause(){Ht.log(`MediaElement.pause() request - ${this.element.src}`);let d=Date.now();if(this.lastPause+1e3>d){if(this.isPausing)return;this.isPausing=!0,setTimeout(()=>{this._pauseElement(),this.isPausing=!1,this.lastPause=Date.now()},500);return}this.lastPause=Date.now(),this._pauseElement()}addEventListener(d,o){this.element.addEventListener(d,()=>{if(d==="play"){this.playWasRequested&&o();return}if(d==="pause"){this.pauseWasRequested&&o();return}o()})}getRawElement(){return this.element}isPaused(){return this.element.paused}setVolume(d){this.element.volume=d}isBuffering(){return this.element.readyState<3}};function pn(t){return t}function Zn(t){return t}function hr(t){return t}function jn(t,d){return t+d}function Bi(t,d){return t-d}function ro(t,d){return t*d}function kr(t){return ro(t,1e3)}function Lr(t){return t/1e3}var Br=function(t,d,o,u){function p(y){return y instanceof o?y:new o(function(c){c(y)})}return new(o||(o=Promise))(function(y,c){function _(m){try{E(u.next(m))}catch(w){c(w)}}function v(m){try{E(u.throw(m))}catch(w){c(w)}}function E(m){m.done?y(m.value):p(m.value).then(_,v)}E((u=u.apply(t,d||[])).next())})},hs=class{constructor(d,o,u,p,y,c){this.continuous=!0,this.playing=!1,this._time=pn(0),Ht.log("TimePlanPlayer",{media:d,plan:o}),this.media=d,this.plan=o,this.fullPlan=o,this.currentStop=o.stops[0];let _=()=>{};this.notifyRangeChange=u||_,this.notifyTimeChange=p||_,this.notifyPlaying=y||_,this.notifyBuffering=c||_,this.logging=!0,this.currentRange=this.currentStop.rangeStack[0],this.setTime(this.currentStop.start),d.onPlay((v,E,m)=>{v===this.currentStop.canvasId&&(this.playing||this.notifyPlaying(!0))}),d.onBuffering(()=>{this.notifyBuffering()}),d.onPause((v,E,m)=>{m.isBuffering()||v===this.currentStop.canvasId&&this.playing&&this.notifyPlaying(!1)})}selectPlan({reset:d,rangeId:o}={}){if(d)return this.initialisePlan(this.fullPlan);if(o){let u=[];for(let y of this.fullPlan.stops){let c=y.rangeStack.indexOf(o);y.rangeStack.indexOf(o)!==-1&&(u=y.rangeStack.slice(1,c+1))}let p=this.fullPlan;for(let y of u)for(let c of p.items)if(c.type==="time-plan"&&c.rangeId===y){p=c;break}if(p)return this.initialisePlan(p)}}initialisePlan(d){this.plan=d}getCurrentRange(){let d=this.currentRange,o=this.currentRange===this.currentStop.rangeId,u=o?this.plan.stops:this.fullPlan.stops,p=[],y=[];for(let v of u)v.rangeStack.indexOf(d)!==-1&&(p.push(v.start),y.push(v.end)),o&&v.rangeId===d&&(p.push(v.start),y.push(v.end));let c=Math.min(...p),_=Math.max(...y);return Ht.log("Range duration",{starting:p,ending:y,rangeId:d,isRangeWithStop:o,stopsToCheck:u,start:c-this.plan.start,end:_-this.plan.start,planStart:this.plan.start,duration:_-c,currentStop:this.currentStop}),{start:c-this.plan.start,end:_-this.plan.start,duration:_-c}}getTime(){return this._time}setInternalTime(d){return this._time=d,this.notifyTimeChange(d),this._time}log(...d){this.logging&&Ht.log("TimePlanPlayer",...d)}setContinuousPlayback(d){this.continuous=d}setIsPlaying(d){this.playing=d}play(){return this.log("Play",this.getTime()),this.playing||(this.setIsPlaying(!0),this.media.play(this.currentStop.canvasId).catch(d=>{console.log("Err",d),this.setIsPlaying(!1),this.notifyPlaying(!1)})),this.getTime()}currentTimelineTime(){return this.getTime()}currentMediaTime(){Ht.log(`Current media time:
  - Current start: ${this.currentStop.start}
  - Current canvas: ${this.currentStop.canvasTime.start}
  - Current time: ${this.getTime()}
    `,this);let d=Bi(this.getTime(),this.currentStop.start);return hr(jn(d,pn(this.currentStop.canvasTime.start)))}validateExternalTime(d){let o=this.findStop(d),u=this.findStop(d+1);return u&&o!==u?(Ht.log("Skipping to next stop",{nextStop:u,currentStop:o}),u==null?void 0:u.start):d}pause(){return this.log("Pause",this.getTime()),this.setIsPlaying(!1),this.media.pause(),this.getTime()}setVolume(d){this.media.setVolume(d)}findStop(d){for(let o of this.plan.stops)if(o.start-.001<=d&&o.end-.001>d)return o;if(this.plan.stops[this.plan.stops.length-1].end===d)return this.plan.stops[this.plan.stops.length-1]}setTime(d,o=!0){return Br(this,void 0,void 0,function*(){if(Ht.groupCollapsed(`TimeplanPlayer.setTime(${d}, ${o?"true":"false"})`),this.getTime()!==d){this.log("set time",{from:this.getTime(),to:d}),this.setInternalTime(d);let p=this.findStop(d);p&&p!==this.currentStop&&(o&&(this.currentRange=p.rangeId),yield this.advanceToStop(this.currentStop,p,void 0,d,!this.playing))}Ht.groupEnd()})}next(){return Br(this,void 0,void 0,function*(){let d=this.plan.rangeOrder.indexOf(this.currentRange),u=d>=0&&d===this.plan.rangeOrder.length-1?void 0:this.plan.rangeOrder.indexOf(this.currentRange)+1,p=typeof u!="undefined"?this.plan.rangeOrder[u]:void 0,y=this.plan.stops.indexOf(this.currentStop),c=0,_,v=!0;for(;v;){if(c++,_=this.plan.stops[y+c],!_){v=!1;break}if(!_.noNav&&_.rangeId!==this.currentStop.rangeId){v=!1;break}}return this.playing&&_&&(p=_.rangeId),p&&_&&_.rangeId!==p?(this.playing||this.currentStop.rangeStack.indexOf(p)===-1&&_.rangeStack.indexOf(p)!==-1?(this.currentRange=this.playing?_.rangeId:p,this.setInternalTime(_.start),yield this.advanceToStop(this.currentStop,_,this.playing?_.rangeId:p)):(this.currentRange=p,this.setInternalTime(this.currentStop.start),yield this.advanceToStop(this.currentStop,this.currentStop,p)),this.getTime()):(_?(this.setInternalTime(_.start),this.currentRange=_.rangeId,yield this.advanceToStop(this.currentStop,_,_.rangeId)):yield this.goToEndOfRange(this.currentStop.rangeId),setTimeout(()=>{this.playing&&this.play()},100),this.getTime())})}goToEndOfRange(d){return Br(this,void 0,void 0,function*(){let o;for(let u=0;u<this.plan.stops.length;u++){let p=this.plan.stops[u];p.rangeId===d&&(!o||p.canvasIndex>=o.canvasIndex&&p.end>o.end)&&(o=p)}o&&(yield this.advanceToStop(this.currentStop,o,d),this.setInternalTime(o.end))})}goToStartOfRange(d){let o,u=this.plan.stops.length;for(let p=u-1;p>=0;p--){let y=this.plan.stops[p];y.rangeId===d&&(!o||y.canvasIndex<=o.canvasIndex&&y.start<o.start)&&(o=y)}o&&(o!==this.currentStop&&this.advanceToStop(this.currentStop,o,d),this.setInternalTime(o.start))}previous(){let u=this.plan.rangeOrder.indexOf(this.currentRange)===0?void 0:this.plan.rangeOrder.indexOf(this.currentRange)-1,p=typeof u!="undefined"?this.plan.rangeOrder[u]:void 0,y=this.currentStop,c=this.plan.stops.indexOf(this.currentStop),_=c,v=this.plan.stops[c-1],E=this.plan.stops[0],m=!0,w=j=>!j.noNav||j===E;for(;m;){let j=this.plan.stops[_-1];if(!j){m=!1;break}if(w(j)&&w(v)&&(j.rangeId===this.currentRange&&(y=j),v.rangeId!==j.rangeId)){m=!1;break}j&&(w(j)&&(v=j),_=_-1)}let A=this._time-(y.start+2)>0,b=this.playing&&v&&v.rangeId!==this.currentStop.rangeId,D=c===0||!p&&_===0,P=p&&this.currentStop.rangeStack.indexOf(p)===-1&&(v.rangeStack.indexOf(p)!==-1||v.rangeId===p),R=p&&this.currentStop.rangeStack.indexOf(p)!==-1;return Ht.log("TimePlanPlayer.previous() => variables",{goBackToStartOfRange:A,isPreviousRangeDifferent:b,isDefinitelyFirstRange:D,isPreviousRangeNotAParent:P,isPreviousRangeInStack:R,prevStop:v}),A?(Ht.log("TimePlanPlayer.previous() => goBackToStartOfRange",{currentStopHead:y}),y!==this.currentStop&&this.advanceToStop(this.currentStop,y,y.rangeId),this.setInternalTime(y.start),this.getTime()):(b&&(p=v.rangeId),D?(this.goToStartOfRange(p||this.currentStop.rangeId),p&&this.currentStop.rangeId!==p&&(this.currentRange=p,this.advanceToStop(this.currentStop,y,p)),this.getTime()):p&&(P||v===E)?(this.setInternalTime(v.start),this.currentRange=p,this.advanceToStop(this.currentStop,v,p),this.getTime()):p&&R?(this.setInternalTime(this.currentStop.start),this.currentRange=p,this.advanceToStop(this.currentStop,y,p),this.getTime()):this.getTime())}setRange(d){if(Ht.group("setRange",d),d===this.currentRange)return Ht.log("id === this.currentRange"),this.getTime();if(this.currentRange=d,d===this.currentStop.rangeId)return Ht.log("id === this.currentStop.rangeId"),this.getTime();Ht.log("Looking for stop",this.plan.stops);for(let o of this.plan.stops)if(o.rangeId===d){Ht.log("Found stop, setting internalTime",o.start),this.setInternalTime(o.start),this.advanceToStop(this.currentStop,o,d,void 0,!this.playing);break}for(let o of this.plan.stops)if(o.rangeStack.indexOf(d)!==-1){Ht.log("Found stop in rangeStack, setting internalTime",o.start),this.setInternalTime(o.start),this.advanceToStop(this.currentStop,o,d,void 0,!this.playing);break}return Ht.groupEnd(),this.getTime()}isBuffering(){return this.media.isBuffering()}advanceToTime(d,o){Ht.groupCollapsed(`TimeplanPlayer.advanceToTime(${d}, ${o?"true":"false"})`);let u=this.findStop(d);return u&&this.currentStop!==u?(Ht.log("advanceToTime.a"),this.setInternalTime(d),this.advanceToStop(this.currentStop,u,void 0,d,o),Ht.groupEnd(),{buffering:this.isBuffering(),time:d}):(this.playing&&this.currentRange!==this.currentStop.rangeId&&(this.currentRange=this.currentStop.rangeId,this.notifyRangeChange(this.currentStop.rangeId,{from:this.currentStop,to:this.currentStop})),u?(Ht.log("advanceToTime.c",{time:this.getTime()}),this.setInternalTime(d),this.media.syncClock(this.currentMediaTime()),Ht.groupEnd(),{time:d}):(Ht.log("advanceToTime.b"),this.pause(),this.setTime(this.currentStop.end),Ht.groupEnd(),{paused:!0,buffering:this.isBuffering(),time:this.currentStop.end}))}hasEnded(){return this.currentStop.end===this.getTime()}advanceToStop(d,o,u,p,y){return Br(this,void 0,void 0,function*(){if(Ht.log("TimeplanPlayer.advanceToStop",{from:d,to:o,rangeId:u}),d===o){u&&this.notifyRangeChange(u||o.rangeId,{to:o,from:d});return}let c;this.log("advanceToStop",o.start);let _=this.currentStop.canvasId!==o.canvasId;this.currentStop=o,this.setInternalTime(typeof p!="undefined"?p:o.start),_&&!y?c=this.media.play(o.canvasId,this.currentMediaTime()):(this.log(`advanceToStop -> seekToMediaTime(${this.currentMediaTime()}) ${y?"paused":"playing"}`),c=this.media.seekToMediaTime(this.currentMediaTime(),o.canvasId,y)),this.notifyRangeChange(u||o.rangeId,{to:o,from:d}),yield c})}getStartTime(){return this.plan.start}getDuration(){return this.plan.duration}};var pr=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];function Wn(t){return pr.includes(t.toString())}function qn(t){return t.toString()==="application/dash+xml"}function gr(){let t=Mn(),d=typeof document=="object"&&document,o=d&&d.createElement("video"),u=Boolean(o&&o.canPlayType);return t&&u&&pr.some(p=>o?/maybe|probably/i.test(o.canPlayType(p)):!1)}function mr(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ps(t){let d=t.getBody();if(!d.length)return null;for(let o=0;o<d.length;o++){let u=d[o],p=u.getFormat();if(p&&Wn(p)&&gr())return u}for(let o=0;o<d.length;o++){let u=d[o],p=u.getFormat();if(p&&qn(p)&&!mr())return u}for(let o=0;o<d.length;o++){let u=d[o],p=u.getFormat();if(p&&!Wn(p)&&!qn(p))return u}return null}var gs=Kn(),ms=class extends Xn{constructor(d){super(d);this._lastVolume=1,this._data={volume:1},this._init(),this._resize()}_init(){let d=super._init();this._$element=gs(this.el),d||Ht.error("Component failed to initialise"),this._$volumeMute=gs(`
      <button class="btn volume-mute" title="${this.options.data.content.mute}">
          <i class="av-icon av-icon-mute on" aria-hidden="true"></i>
          <span class="sr-only>${this.options.data.content.mute}</span>
      </button>
    `),this._$volumeSlider=gs('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);let o=this;return this._$volumeMute.on("touchstart click",u=>{u.preventDefault(),this._data.volume!==0?(this._lastVolume=this._data.volume,this._data.volume=0):this._data.volume=this._lastVolume,this.fire(hn.VOLUME_CHANGED,this._data.volume)}),this._$volumeSlider.slider({value:o._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(){},slide:function(u,p){o._data.volume=p.value,o._data.volume===0&&(o._lastVolume=0),o.fire(hn.VOLUME_CHANGED,o._data.volume)},stop:function(u,p){}}),d}set(d){this._data=Object.assign(this._data,d),this._render()}_render(){if(this._data.volume!==void 0)if(this._$volumeSlider.slider({value:this._data.volume}),this._data.volume===0){let d=this.options.data.content.unmute;this._$volumeMute.prop("title",d),this._$volumeMute.find("i").switchClass("on","off")}else{let d=this.options.data.content.mute;this._$volumeMute.prop("title",d),this._$volumeMute.find("i").switchClass("off","on")}}_resize(){}};var Ur=function(t,d,o,u){function p(y){return y instanceof o?y:new o(function(c){c(y)})}return new(o||(o=Promise))(function(y,c){function _(m){try{E(u.next(m))}catch(w){c(w)}}function v(m){try{E(u.throw(m))}catch(w){c(w)}}function E(m){m.done?y(m.value):p(m.value).then(_,v)}E((u=u.apply(t,d||[])).next())})},vs=class{constructor(d){this.elements=[],this.playing=!1,this.canvasMap={},this._onPlay=[],this._onPause=[],this._onBuffering=[],Ht.log("Composite media element",d),this.elements=d;for(let o of d){let u=o.getCanvasId();this.canvasMap[u]=this.canvasMap[u]?this.canvasMap[u]:[],this.canvasMap[u].push(o),o.addEventListener("play",()=>{o===this.activeElement&&(Ht.log("HTMLElement.play() response",{paused:o.getRawElement().paused,readState:o.getRawElement().readyState}),this._onPlay.forEach(p=>p(u,o.getElementTime(),o)))}),o.addEventListener("pause",()=>{o===this.activeElement&&(Ht.log("HTMLElement.pause() response"),this._onPause.forEach(p=>p(u,o.getElementTime(),o)))}),o.addEventListener("waiting",()=>{o===this.activeElement&&this._onBuffering.forEach(p=>p(u,o.getElementTime(),o))})}this.activeElement=d[0]}syncClock(d,o){if(Ht.group("CompositeMediaElement.syncClock"),Ht.log(`syncClock: ${d}`),Ht.log({fromTime:d,toTime:d,instance:this}),this.activeElement){let u=o||this.activeElement.getCanvasId();this.updateActiveElement(u,d,this.playing);let p=Bi(d,this.activeElement.source.start);this.activeElement.syncClock(p)}Ht.groupEnd()}updateActiveElement(d,o,u){let p=this.findElementInRange(d,o);return this.activeElement&&p&&p!==this.activeElement?(Ht.log(`CompositeMediaElement.updateActiveElement(canvasId: ${d}, time: ${o})`,{canvasId:p?p.source.canvasId:null,newElement:p}),this.activeElement.stop(),this.activeElement=p,u?(Ht.log("CompositeMediaElement play=true"),p.play(o)):Ht.log("CompositeMediaElement play=false"),p):null}onPlay(d){this._onPlay.push(d)}onPause(d){this._onPause.push(d)}onBuffering(d){this._onBuffering.push(d)}findElementInRange(d,o){if(!!this.canvasMap[d]){for(let u of this.canvasMap[d].reverse())if(u.isWithinRange(o))return u}}appendTo(d){d.append(this.elements.map(o=>o.getRawElement()))}load(){return Ur(this,void 0,void 0,function*(){yield Promise.all(this.elements.map(d=>d.load()))})}seekToMediaTime(d,o,u){return Ur(this,void 0,void 0,function*(){u&&this.pause();let p=this.activeElement;if(Ht.groupCollapsed("CompositeMediaElement.seekToMediaTime Buffering",{playing:this.playing}),this.activeElement){let y=o||this.activeElement.getCanvasId(),c=this.updateActiveElement(y,d,!1),_=Bi(d,this.activeElement.source.start),v,E=new Promise(m=>v=m);if(this.playing){if(Ht.log(`CompositeMediaElement.seekToMediaItem(${d})`),yield this.activeElement.play(_).catch(m=>{console.log("ERROR",m),this.playing=!1}),p!==this.activeElement&&c&&(Ht.log("Active element changed..."),c.isBuffering()||c.isPaused())){let w=setInterval(()=>{this.isBuffering()||v()},200);yield E,clearInterval(w),Ht.log("ActiveElement nudge (play)"),yield c.play()}}else this.activeElement.syncClock(_)}Ht.groupEnd()})}seekTo(d,o){return Ur(this,void 0,void 0,function*(){return this.updateActiveElement(d,o),this.seekToMediaTime(o)})}play(d,o){return Ur(this,void 0,void 0,function*(){if(Ht.log(`CompositeMediaElement.play(${d}, ${o})`,{hasActive:!!this.activeElement}),this.playing=!0,d&&typeof o!="undefined"&&(yield this.seekTo(d,o)),this.activeElement)return this.activeElement.play(o).catch(u=>{console.log("err",u),this.playing=!1})})}pause(){Ht.log("Composite.pause()"),this.playing=!1,this.activeElement&&!this.activeElement.isPaused()&&this.activeElement.pause()}setVolume(d){for(let o of this.elements)o.setVolume(d)}isBuffering(){return this.activeElement?this.activeElement.isBuffering():!1}};function _s(t){let d=(p,y=[],c=pn(0))=>{let _=y,v=p.id,E=p.getBehavior(),m=E==="no-nav";E==="no-nav"&&(_=_.slice(0,-1),v=_[_.length-1]);let w={type:"time-plan",canvases:[],duration:pn(0),items:[],stops:[],rangeOrder:m?[]:[v],end:pn(0),start:c,rangeId:v,rangeStack:_,noNav:m},A=c,b=[...p.items,...p.getCanvasIds()];for(let D=0;D<b.length;D++){let P=b[D];if(typeof P=="string"){let[,R,j,W]=P.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,P,"0","0"];if(!R||typeof j=="undefined"||typeof W=="undefined")continue;if(t.getSequenceByIndex(0).getCanvasById(R)===null)throw new Error("Canvas not found..");let S=w.canvases.indexOf(R);S===-1&&(w.canvases.push(R),S=w.canvases.indexOf(R));let l=Zn(parseFloat(j||"0")),Y=Zn(parseFloat(W||"0")),C=pn(Y-l);A=jn(C,A);let O={type:"time-stop",canvasIndex:S,start:Bi(A,C),end:A,duration:C,rangeId:v,canvasId:R,rawCanvasSelector:P,canvasTime:{start:l,end:Y},rangeStack:_,noNav:m};w.stops.push(O),w.items.push(O)}else{let R=d(P,[..._,P.id],A);A=jn(A,R.duration);for(let j of R.canvases)w.canvases.indexOf(j)===-1&&w.canvases.push(j);w.stops.push(...R.stops.map(j=>Object.assign(Object.assign({},j),{canvasIndex:w.canvases.indexOf(j.canvasId)}))),w.items.push(R),w.rangeOrder.push(...R.rangeOrder)}}return w.end=A,w.duration=pn(w.end-w.start),w},o=t.getTopRanges(),u=[];o||(o=t.getAllRanges()),o.length===1&&!o[0].id&&(o=o[0].getRanges());for(let p of o){p.getRanges()[0]&&p.id===p.getRanges()[0].id&&(p=p.getRanges()[0]);let c=d(p,[p.id]);u.push(c)}return u[0]}var zs=Rn(Un());function vr(t){let d=/xywh=([^&]+)/g.exec(t),o=null;return d&&d[1]&&(o=d[1].split(",")),o}function ys(t,d,o){let u=d.getType(),p=d.getFormat()||void 0,y=d.id.split("#")[0],c=t.getTarget();if(!c)throw new Error("No target");if(!u)throw new Error("Unknown media type");let[_,v,E,m]=vr(c)||[0,0,o.width||0,o.height||0],[w,A]=zs.Utils.getTemporalComponent(c)||[0,o.duration],[,b,D,P]=d.id.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,d.id,void 0,void 0];return{type:u,format:p,mediaSource:y,canvasId:o.id,x:_,y:v,width:typeof E=="undefined"?void 0:parseInt(String(E),10),height:typeof m=="undefined"?void 0:parseInt(String(m),10),start:hr(Number(Number(w).toFixed(2))),end:hr(Number(Number(A).toFixed(2))),bodyId:b,offsetStart:typeof D=="undefined"?void 0:Zn(parseFloat(D)),offsetEnd:typeof P=="undefined"?void 0:Zn(parseFloat(P))}}var Ei=class{};Ei.PLAY="play";Ei.PAUSE="pause";Ei.MEDIA_READY="mediaready";Ei.MEDIA_ERROR="mediaerror";Ei.LOG="log";Ei.RANGE_CHANGED="rangechanged";Ei.WAVEFORM_READY="waveformready";Ei.WAVEFORMS_READY="waveformsready";function An(t){let d=Math.max(0,t);Number.isNaN(d)&&(d=0),d<.5&&(d=0),Number.isFinite(d)||(d=0);let o,u,p,y;return p=Math.ceil(d),o=Math.floor(p/(60*60)),o=o>=10?o:"0"+o,u=Math.floor(p%(60*60)/60),u=u>=10?u:"0"+u,p=Math.floor(p%(60*60)%60),p=p>=10?p:"0"+p,o>=1?y=o+":":y="",y+u+":"+p}function Vs(t,d){let o=[];return Object.keys(t).forEach(u=>{Object.is(d[u],t[u])||o.push(u)}),o}function _r(t,d){return Array.from(new Set(Vs(t,d).concat(Vs(d,t))))}function yr(t){return t?t instanceof Hn:!1}var so=Object.defineProperty,oo=(t,d,o)=>d in t?so(t,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[d]=o,Ri=(t,d,o)=>(oo(t,typeof d!="symbol"?d+"":d,o),o),Gs=t=>{let d,o=new Set,u=(v,E)=>{let m=typeof v=="function"?v(d):v;if(!Object.is(m,d)){let w=d;d=E??typeof m!="object"?m:Object.assign({},d,m),o.forEach(A=>A(d,w))}},p=()=>d,_={setState:u,getState:p,subscribe:v=>(o.add(v),()=>o.delete(v)),destroy:()=>o.clear()};return d=t(u,p,_),_},ao=t=>t?Gs(t):Gs;function En(t,d){let o=(t||"").replace(/\n/,"").trim();return typeof d!="undefined"?o.split(d):o}function zn(t,d){this._waveformData=t,this._channelIndex=d}zn.prototype.min_sample=function(t){var d=(t*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._at(d)};zn.prototype.max_sample=function(t){var d=(t*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._at(d)};zn.prototype.set_min_sample=function(t,d){var o=(t*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._set_at(o,d)};zn.prototype.set_max_sample=function(t,d){var o=(t*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._set_at(o,d)};zn.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2)};zn.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2+1)};var Jn=127,Hr=-128;function lo(t,d){var o=Math.floor(t/d),u=t-o*d;return u>0&&o++,o}function uo(t){var d=t.scale,o=t.amplitude_scale,u=t.split_channels,p=t.length,y=t.sample_rate,c=t.channels.map(function(l){return new Float32Array(l)}),_=u?c.length:1,v=_===1?1:2,E=v===1?20:24,m=lo(p,d),w=E+m*2*_,A=new ArrayBuffer(w),b=new DataView(A),D=0,P=E,R,j,W=new Array(_),H=new Array(_);for(R=0;R<_;R++)W[R]=1/0,H[R]=-1/0;for(b.setInt32(0,v,!0),b.setUint32(4,1,!0),b.setInt32(8,y,!0),b.setInt32(12,d,!0),b.setInt32(16,m,!0),v===2&&b.setInt32(20,_,!0),j=0;j<p;j++){var S=0;if(_===1){for(R=0;R<c.length;++R)S+=c[R][j];S=Math.floor(Jn*S*o/c.length),S<W[0]&&(W[0]=S,W[0]<Hr&&(W[0]=Hr)),S>H[0]&&(H[0]=S,H[0]>Jn&&(H[0]=Jn))}else for(R=0;R<_;++R)S=Math.floor(Jn*c[R][j]*o),S<W[R]&&(W[R]=S,W[R]<Hr&&(W[R]=Hr)),S>H[R]&&(H[R]=S,H[R]>Jn&&(H[R]=Jn));if(++D===d){for(R=0;R<_;R++)b.setInt8(P++,W[R]),b.setInt8(P++,H[R]),W[R]=1/0,H[R]=-1/0;D=0}}if(D>0)for(R=0;R<_;R++)b.setInt8(P++,W[R]),b.setInt8(P++,H[R]);return A}function Tr(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tr=function(d){return typeof d}:Tr=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Tr(t)}function fo(t){return t&&Tr(t)==="object"&&"sample_rate"in t&&"samples_per_pixel"in t&&"bits"in t&&"length"in t&&"data"in t}function co(t){var d=t&&Tr(t)==="object"&&"byteLength"in t;if(d){var o=new DataView(t),u=o.getInt32(0,!0);if(u!==1&&u!==2)throw new TypeError("WaveformData.create(): This waveform data version not supported")}return d}function ho(t){var d=t.data,o=t.channels||1,u=24,p=t.bits===8?1:2,y=t.length*2*o;if(d.length!==y)throw new Error("WaveformData.create(): Length mismatch in JSON waveform data");var c=u+d.length*p,_=new ArrayBuffer(c),v=new DataView(_);v.setInt32(0,2,!0),v.setUint32(4,t.bits===8,!0),v.setInt32(8,t.sample_rate,!0),v.setInt32(12,t.samples_per_pixel,!0),v.setInt32(16,t.length,!0),v.setInt32(20,o,!0);var E=u,m;if(t.bits===8)for(m=0;m<d.length;m++)v.setInt8(E++,d[m],!0);else for(m=0;m<d.length;m++)v.setInt16(E,d[m],!0),E+=2;return _}function po(t,d){var o=atob(t);if(d){for(var u=new Uint8Array(o.length),p=0,y=o.length;p<y;++p)u[p]=o.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return o}function go(t,d,o){var u=d===void 0?null:d,p=o===void 0?!1:o,y=po(t,p),c=y.indexOf(`
`,10)+1,_=y.substring(c)+(u?"//# sourceMappingURL="+u:""),v=new Blob([_],{type:"application/javascript"});return URL.createObjectURL(v)}function mo(t,d,o){var u;return function(y){return u=u||go(t,d,o),new Worker(u,y)}}var vo=mo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=",null,!1);function Sn(t){if(fo(t)&&(t=ho(t)),co(t)){this._data=new DataView(t),this._offset=this._version()===2?24:20,this._channels=[];for(var d=0;d<this.channels;d++)this._channels[d]=new zn(this,d)}else throw new TypeError("WaveformData.create(): Unknown data format")}var jr={scale:512,amplitude_scale:1,split_channels:!1,disable_worker:!1};function _o(t){var d={scale:t.scale||jr.scale,amplitude_scale:t.amplitude_scale||jr.amplitude_scale,split_channels:t.split_channels||jr.split_channels,disable_worker:t.disable_worker||jr.disable_worker};return d}function yo(t){for(var d=[],o=0;o<t.numberOfChannels;++o)d.push(t.getChannelData(o).buffer);return d}function Ys(t,d,o){var u=yo(t);if(d.disable_worker){var p=uo({scale:d.scale,amplitude_scale:d.amplitude_scale,split_channels:d.split_channels,length:t.length,sample_rate:t.sampleRate,channels:u});o(null,new Sn(p),t)}else{var y=new vo;y.onmessage=function(c){o(null,new Sn(c.data),t)},y.postMessage({scale:d.scale,amplitude_scale:d.amplitude_scale,split_channels:d.split_channels,length:t.length,sample_rate:t.sampleRate,channels:u},u)}}function To(t,d,o,u){function p(y){y||(y=new DOMException("EncodingError")),u(y)}t.decodeAudioData(d,function(y){Ys(y,o,u)},p)}Sn.create=function(d){return new Sn(d)};Sn.createFromAudio=function(t,d){var o=_o(t);if(t.audio_context&&t.array_buffer)return To(t.audio_context,t.array_buffer,o,d);if(t.audio_buffer)return Ys(t.audio_buffer,o,d);throw new TypeError("WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")};Sn.prototype={resample:function(d){if(d.scale=typeof d.scale=="number"?d.scale:null,d.width=typeof d.width=="number"?d.width:null,d.width!=null&&d.width<=0)throw new RangeError("WaveformData.resample(): width should be a positive integer value");if(d.scale!=null&&d.scale<=0)throw new RangeError("WaveformData.resample(): scale should be a positive integer value");if(!d.scale&&!d.width)throw new Error("WaveformData.resample(): Missing scale or width option");var o=d.scale||Math.floor(this.duration*this.sample_rate/d.width),u=this.scale,p=this.length,y=p*this.scale,c=Math.ceil(y/o),_=24,v=this.bits===8?1:2,E=_+c*2*this.channels*v,m=new ArrayBuffer(E),w=new DataView(m);w.setInt32(0,2,!0),w.setUint32(4,this.bits===8,!0),w.setInt32(8,this.sample_rate,!0),w.setInt32(12,o,!0),w.setInt32(16,c,!0),w.setInt32(20,this.channels,!0);var A=new Sn(m),b=0,D=0,P=this.channels,R=new Array(P),j=new Array(P),W;for(W=0;W<P;++W)p>0?(R[W]=this.channel(W).min_sample(b),j[W]=this.channel(W).max_sample(b)):(R[W]=0,j[W]=0);var H=this.bits===8?-128:-32768,S=this.bits===8?127:32767;if(o<u)throw new Error("WaveformData.resample(): Zoom level "+o+" too low, minimum: "+u);var l,Y,C,O,q;function Q(pe){return Math.floor(pe*o)}for(;b<p;){for(;Math.floor(Q(D)/u)===b;){if(D>0)for(W=0;W<P;++W)A.channel(W).set_min_sample(D-1,R[W]),A.channel(W).set_max_sample(D-1,j[W]);if(q=b,D++,l=Q(D),Y=Q(D-1),l!==Y)for(W=0;W<P;++W)R[W]=S,j[W]=H}for(l=Q(D),C=Math.floor(l/u),C>p&&(C=p);b<C;){for(W=0;W<P;++W)O=this.channel(W).min_sample(b),O<R[W]&&(R[W]=O),O=this.channel(W).max_sample(b),O>j[W]&&(j[W]=O);b++}}if(b!==q)for(W=0;W<P;++W)A.channel(W).set_min_sample(D-1,R[W]),A.channel(W).set_max_sample(D-1,j[W]);return A},concat:function(){var d=this,o=Array.prototype.slice.call(arguments);o.forEach(function(p){if(d.channels!==p.channels||d.sample_rate!==p.sample_rate||d.bits!==p.bits||d.scale!==p.scale)throw new Error("WaveformData.concat(): Waveforms are incompatible")});var u=this._concatBuffers.apply(this,o);return Sn.create(u)},_concatBuffers:function(){var d=Array.prototype.slice.call(arguments),o=this._offset,u=o,p=0,y=[this].concat(d).map(function(D){return D._data.buffer}),c,_;for(c=0;c<y.length;c++){_=y[c];var v=new DataView(_).getInt32(16,!0);u+=_.byteLength-o,p+=v}var E=new ArrayBuffer(u),m=new DataView(y[0]),w=new DataView(E);for(c=0;c<o;c++)w.setUint8(c,m.getUint8(c));w.setInt32(16,p,!0);var A=0,b=new Uint8Array(E,o);for(c=0;c<y.length;c++)_=y[c],b.set(new Uint8Array(_,o),A),A+=_.byteLength-o;return E},_offsetValues:function(d,o,u){var p=[],y=this.channels;u+=d*y*2;for(var c=0;c<o;c++)p.push(this._at(c*y*2+u));return p},_version:function(){return this._data.getInt32(0,!0)},get length(){return this._data.getUint32(16,!0)},get bits(){var t=Boolean(this._data.getUint32(4,!0));return t?8:16},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._version()===2?this._data.getInt32(20,!0):1},channel:function(d){if(d>=0&&d<this._channels.length)return this._channels[d];throw new RangeError("Invalid channel: "+d)},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},_at:function(d){return this.bits===8?this._data.getInt8(this._offset+d):this._data.getInt16(this._offset+d*2,!0)},_set_at:function(d,o){return this.bits===8?this._data.setInt8(this._offset+d,o):this._data.setInt16(this._offset+d*2,o,!0)},at_time:function(d){return Math.floor(d*this.sample_rate/this.scale)},time:function(d){return d*this.scale/this.sample_rate},toJSON:function(){for(var d={version:2,channels:this.channels,sample_rate:this.sample_rate,samples_per_pixel:this.scale,bits:this.bits,length:this.length,data:[]},o=0;o<this.length;o++)for(var u=0;u<this.channels;u++)d.data.push(this.channel(u).min_sample(o)),d.data.push(this.channel(u).max_sample(o));return d},toArrayBuffer:function(){return this._data.buffer}};async function Eo(t){return Sn.create(t)}function wo(t){let d=[];if(t.indexOf("#")===-1&&t.indexOf(",")!==-1){let o=En(t,",");for(let u of o){let[p,y=p]=En(u," ");y&&p&&d.push({id:y,waveform:p,data:null})}}else{let o=En(t,"|");for(let u of o){let[p,y]=En(u," "),c={id:y,waveform:p,data:null};if(y&&y.indexOf("#t=")!==-1){let[_,v]=En(y,"#t="),[E,m]=En(v,","),w=parseFloat(E),A=parseFloat(m);!Number.isNaN(w)&&!Number.isNaN(A)&&(c.segment={start:w,end:A,id:y},c.id=_,c.duration=A-w)}y&&p&&d.push(c)}}return d}var $n={};function bo(t){return ao()((d,o,u)=>({sources:[],sequence:[],...t,duration:0,currentTime:0,hoverTime:0,quality:1,bufferedSlices:[],waveforms:[],dimensions:{pageX:0,pageY:0,height:0,width:0,dpi:0},isLoading:!0,pointer:{isDown:!1},mouse:{isHover:!1,isActive:!1},setDimensions(p,y=0){d({dimensions:{width:p.width,height:p.height,pageY:p.y,pageX:p.x,dpi:y}})},setHover(p){d(y=>{let c=Math.abs(p)/y.dimensions.width;return{hoverTime:y.duration*c}})},async fetchWaveform(p){if(p)return fetch(p).then(y=>y.arrayBuffer()).then(y=>Eo(y)).then(y=>(d(c=>({sources:(c.sources||[]).map(_=>_.waveform===p?{..._,duration:y.duration,data:y}:_)})),y))},resize:async function(p){let y=o(),c=[],_=!1,v=0,E=y.sequence&&y.sequence.length!==0?y.sequence:(y.sources||[]).map((A,b)=>({startTime:A.segment?A.segment.start:0,endTime:A.segment?A.segment.end:y.duration,id:A.id,source:A.id+b,waveform:null})),m=[];for(let A of E){let b=(y.sources||[]).filter(D=>{if(D.id===A.id){if(D.segment){let P=D.segment;return A.endTime>P.start&&A.startTime<P.end}return!0}return!1});if(b.length>1){let D=A;for(let P=0;P<b.length;P++){let R=b[P],j=R.segment?Math.max(D.startTime,R.segment.start):D.startTime,W=R.segment?Math.min(D.endTime,R.segment.end):D.endTime;m.push({...D,source:D.id+"__"+j+"__"+W,startTime:j,endTime:W})}continue}m.push(A)}let w=m.length;for(let A=0;A<m.length;A++){let b=m[A];if(p())return;d({loadingProgress:A/w});let D=(y.sources||[]).find(W=>W.id===b.id?W.segment?b.startTime>=W.segment.start&&b.endTime<=W.segment.end:!0:!1),P=D.segment?b.startTime-D.segment.start:b.startTime,R=D.segment?b.endTime-D.segment.start:b.endTime;if(!(R-P<=0)){if(D&&D.data&&y.dimensions.width){let W=y.quality,H=(R||D.data.duration)-(P||0),S=H/y.duration,l=y.dimensions.width*S,Y=Math.min(1,H/D.data.duration),C=v/y.duration*y.dimensions.width,O=W*l*(1/Y),q=Math.floor(D.data.duration*D.data.sample_rate/O);q<D.data.scale&&(W*=q/D.data.scale,O=W*l*(1/Y),console.warn("Selected quality too high, or segment too small",{quality:W,newWidth:O}));try{let Q=D.data.resample({width:O});await new Promise(pe=>setTimeout(pe,0)),_=!0,c.push({...b,waveform:{data:Q,atWidth:l,startPixel:C,quality:W,segment:D.segment}})}catch(Q){console.error(Q)}}else c.push(b);v+=R-P}}_&&d({sequence:c,loadingProgress:0})},async setAttributes(p,y,c){let _=[],v={isLoading:!0},E=[];if(typeof p.duration!="undefined"){let m=parseFloat(p.duration);Number.isNaN(m)||(v.duration=m)}if(typeof p["current-time"]!="undefined"&&(v.currentTime=Number(p["current-time"])),typeof p.srcset!="undefined"){let m=wo(p.srcset);for(let w of m)$n[w.id]=$n[w.id]?$n[w.id]:[],$n[w.id].push(()=>this.fetchWaveform(w.waveform));v.sources=m}else if(typeof p.src!="undefined"){let[m,w=m]=En(p.src," ");m&&(v.sources=[{id:w,waveform:m,data:null,duration:-1}],_.push(this.fetchWaveform(m).then(A=>{d(b=>b.duration?{}:{duration:A.duration})})))}if(typeof p.quality!="undefined"){let m=parseFloat(p.quality);m&&!Number.isNaN(m)&&(v.quality=m)}if(typeof p.sequence!="undefined"){let m=[],w=En(p.sequence,"|"),A=0;for(let b of w){let[D,P]=En(b,"#t="),[R,j]=En(P,","),W=$n[D];W&&!E.includes(D)&&(E.push(D),_.push(...W.map(l=>l())),$n[D]=null);let H=parseFloat(R),S=parseFloat(j);A+=S-H,m.push({startTime:H,endTime:S,id:D,source:b.replace(/[#,:.\n]/g,"__").trim(),waveform:null})}v.duration=A,v.sequence=m}if(d(v),(v.sources||v.sequence||v.quality)&&!y&&await o().resize(c),_.length){try{await Promise.all(_)}catch(m){console.error(m)}d({isLoading:!1}),await o().resize(c);return}d({isLoading:!1})}}))}function Xs(t,d,o=128){let u=d;o===0&&(o=1);let p=o/2;return u-(t+p)*u/o}function gn(t,d){let o=document.createElementNS("http://www.w3.org/2000/svg",t);for(let u of Object.keys(d)){let p=d[u];o.setAttributeNS(null,u,p)}return o}var Ks=class extends HTMLElement{constructor(){super();Ri(this,"store"),Ri(this,"hasInitialised",!1),Ri(this,"initialAttributes",{}),Ri(this,"unsubscribe"),Ri(this,"invalidation",{dimensions:!1,sequence:!1}),Ri(this,"svg"),Ri(this,"svgParts"),Ri(this,"buffered"),Ri(this,"waveformCache",{}),Ri(this,"lastBufferedStarts",[]),Ri(this,"lastWidth",-1),Ri(this,"lastHeight",-1),Ri(this,"resizeTimout",-1),Ri(this,"requeueResize",!1),Ri(this,"resize",()=>{this.resizeTimout===-1&&(this.resizeTimout=setTimeout(this.forceResize,0))}),Ri(this,"isAlreadyResizing",!1),Ri(this,"forceResize",()=>{this.resizeTimout=-1;let u=this.getBoundingClientRect(),p=window.devicePixelRatio||1;this.store.getState().setDimensions(u,p);let{width:y,height:c}=this.getBoundingClientRect();if(this.lastWidth=y,this.lastHeight=c,this.svg.setAttributeNS(null,"height",`${c}px`),this.svg.setAttributeNS(null,"width","100%"),this.svg.setAttributeNS(null,"preserveAspectRatio","none"),this.svg.setAttributeNS(null,"viewBox",`0 0 ${y} ${c}`),this.hasInitialised){if(this.isAlreadyResizing){this.requeueResize=!0;return}this.isAlreadyResizing=!0,this.setIsLoading(!0),this.store.getState().resize(()=>this.requeueResize).then(()=>{this.setIsLoading(!1),this.resizeTimout=-1,this.isAlreadyResizing=!1,this.requeueResize&&(this.resize(),this.requeueResize=!1)})}}),Ri(this,"attributeQueue",{}),Ri(this,"attributeTimeout",-1),Ri(this,"isAlreadyUpdating",!1),Ri(this,"requeueUpdate",!1),Ri(this,"windowEvent",!1),this.attachShadow({mode:"open"});let d=document.createElement("style");d.innerHTML=`
        :host {
            display: block;
            --waveform-background: #000;
            --waveform-base: #8a9aa1;
            --waveform-hover: #14a4c3;
            --waveform-buffered: #fff;
            --waveform-progress: rgba(255, 255, 255, .4);
        }

        svg {
            background: var(--waveform-background, #000);
        }

        svg .waveforms {
            transition: opacity 140ms;
        }

        svg rect.hover {
            fill: var(--waveform-hover, #14a4c3);
        }

        svg rect.base {
            fill: var(--waveform-base, #8a9aa1);
        }

        svg rect.progress {
            fill: var(--waveform-progress, #14a4c3);
        }

        svg .buffered rect {
            fill: var(--waveform-buffered, #fff);
        }

        svg .loading {
            translate: 0px -0.5px;
        }
    `,this.store=bo({}),this.createEmptySVG(),this.shadowRoot.appendChild(this.svg),this.shadowRoot.appendChild(d);let o=this.render.bind(this);this.unsubscribe=this.store.subscribe((u,p)=>{u.sequence!==p.sequence&&(this.invalidation.sequence=!0),u.isLoading!==p.isLoading&&this.setIsLoading(u.isLoading),u.loadingProgress!==p.loadingProgress&&this.svgParts.loading&&(this.svgParts.loading.style.width=`${u.loadingProgress*100}%`),u.dimensions!==p.dimensions&&(this.invalidation.dimensions=!0),requestAnimationFrame(o)})}set currentTime(d){this.store.setState({currentTime:d})}get currentTime(){return this.store.getState().currentTime}get duration(){return this.store.getState().duration}get quality(){return this.store.getState().quality}reseek(d){d&&(this.buffered=d),this.buffered}createEmptySVG(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svg.style.background="var(--waveform-background, #000)";let d=(Math.random()+1).toString(36).substring(2);this.svgParts={loading:gn("rect",{x:"0",y:"50%",width:"",height:"1",fill:"#fff",class:"loading"}),mask:gn("mask",{id:"waveform-"+d}),waveforms:gn("g",{class:"waveforms"}),maskBg:gn("rect",{x:"0",y:"0",width:`${this.store.getState().dimensions.width}px`,height:"100%",fill:"#000"}),base:gn("rect",{class:"base",mask:"url(#waveform-"+d+")",x:"0px",y:"0px",width:"100%",height:"100%"}),progress:gn("rect",{class:"progress",mask:"url(#waveform-"+d+")",x:"0px",y:"0px",width:"0px",height:"100%"}),hover:gn("rect",{class:"hover",mask:"url(#waveform-"+d+")",x:"0px",y:"0px",height:"100%"}),buffered:gn("g",{class:"buffered"}),line:gn("line",{class:"waveform-line",x1:"0px",stroke:"#999"})},this.svgParts.mask.appendChild(this.svgParts.maskBg),this.svgParts.mask.appendChild(this.svgParts.waveforms),this.svgParts.waveforms.appendChild(this.svgParts.line);let o=gn("defs",{});o.appendChild(this.svgParts.mask),this.svg.appendChild(o),this.svg.appendChild(this.svgParts.base),this.svg.appendChild(this.svgParts.buffered),this.svg.appendChild(this.svgParts.hover),this.svg.appendChild(this.svgParts.progress),this.svg.appendChild(this.svgParts.loading)}resizeSVG(){let d=this.store.getState().dimensions;this.svgParts.maskBg.setAttributeNS(null,"width",`${d.width}px`),this.svgParts.base.setAttributeNS(null,"height",`${d.height}px`),this.svgParts.progress.setAttributeNS(null,"height",`${d.height}px`),this.svgParts.hover.setAttributeNS(null,"height",`${d.height}px`),this.svgParts.line.setAttributeNS(null,"x2",`${d.width}px`),this.svgParts.line.setAttributeNS(null,"y1",`${d.height/2}px`),this.svgParts.line.setAttributeNS(null,"y2",`${d.height/2}px`)}addSequenceToSVG(d){if(!d.waveform)return;let o=this.svgParts.waveforms.querySelector(`[data-sequence="${d.source}"]`),u=d.waveform.data,p=u.channel(0),y=d.waveform.segment?d.startTime-d.waveform.segment.start:d.startTime,c=d.waveform.segment?d.endTime-d.waveform.segment.start:d.endTime;c>u.duration&&(console.warn("Data does not match waveform duration",{overflow:c-u.duration}),c=u.duration-.01);let _=~~(u.pixels_per_second*y),v=~~(u.pixels_per_second*(c-y)),E=_+v,m=this.store.getState().dimensions.height,w=[],A=!1,b,D=[],P=[];for(let H=_;H<E;H++)try{let S=p.max_sample(H);Number.isSafeInteger(S)&&(D[H]=S)}catch(S){b=S,A=!0}for(let H=E;H>=_;H--)try{let S=p.min_sample(H);Number.isSafeInteger(S)&&(P[H]=S)}catch(S){b=S,A=!0}if(D.length===0||P.length===0)return;let R=Math.max(0,...D.filter(H=>typeof H!="undefined"))*2.5,j=Math.abs(Math.min(...P.filter(H=>typeof H!="undefined")))*2.5;for(let H=_;H<E;H++){let S=D[H];if(typeof S!="undefined"){let l=(H-_)/(d.waveform.quality||1);w.push([d.waveform.startPixel+(l===0?-2:l+.5),Xs(S,m,R+1)+.5])}}for(let H=E;H>=_;H--){let S=P[H];if(typeof S!="undefined"){let l=(H-_)/(d.waveform.quality||1);w.push([d.waveform.startPixel+(l===0?-2:l+.5),Xs(S,m,j+1)+.5])}}A&&(b&&console.error(b),console.error("Error rendering waveform",p,d),console.log("Debug component",this.outerHTML));let W=w.map(H=>H.join(",")).join(" ");if(o)o.setAttributeNS(null,"points",W);else{let H=gn("polygon",{points:W,fill:"#fff","data-sequence":d.source});this.svgParts.waveforms.appendChild(H)}}removeSequenceFromSVG(d){var o;let u=this.svgParts.waveforms.querySelector(`[data-sequence="${d}"]`);u&&((o=u.parentNode)==null||o.removeChild(u))}render(){let{isLoading:d,sources:o,currentTime:u,sequence:p,dimensions:y,hoverTime:c,duration:_,mouse:v}=this.store.getState();if(this.invalidation.dimensions&&(this.resizeSVG(),this.reseek(),this.invalidation.dimensions=!1),this.invalidation.sequence){let w=p.map(A=>A.source);for(let A of[...this.svgParts.waveforms.children]){let b=A.getAttribute("data-sequence");w.includes(b)||this.removeSequenceFromSVG(b)}for(let A of p)this.addSequenceToSVG(A);this.invalidation.sequence=!1}if(d)return;let E=v.isHover?Math.abs(~~(y.width/_*c)):0,m=Math.abs(~~(y.width/_*u));this.svgParts.hover.setAttributeNS(null,"width",`${E}px`),this.svgParts.base.setAttributeNS(null,"x",`${E}px`),this.svgParts.progress.setAttributeNS(null,"width",`${m}px`)}static get observedAttributes(){return["src","srcset","duration","quality","sequence","current-time","resize"]}setIsLoading(d){this.svgParts.waveforms.style.opacity=`${d?0:1}`}connectedCallback(){if(this.isConnected){this.initialAttributes.resize==="true"&&(this.windowEvent=!0,window.addEventListener("resize",this.resize)),this.store.getState().setAttributes(this.initialAttributes,!0,()=>!1).then(()=>{}),this.initialAttributes={},this.resize(),this.hasInitialised=!0;let d={x:0,y:0,moved:!1};this.addEventListener("touchstart",o=>{o.preventDefault();let{dimensions:u}=this.store.getState();this.store.setState({pointer:{isDown:!0}}),d.x=o.touches[0].pageX-u.pageX,d.y=o.touches[0].pageY-u.pageY,this.store.getState().setHover(d.x)}),this.addEventListener("touchmove",o=>{if(this.store.getState().pointer.isDown&&o.touches.length){o.preventDefault();let{dimensions:u}=this.store.getState();d.x=o.touches[0].pageX-u.pageX,d.y=o.touches[0].pageY-u.pageY,d.moved=!0,this.store.getState().setHover(d.x)}}),this.addEventListener("touchend",o=>{o.preventDefault(),this.store.getState().pointer.isDown&&(this.store.setState({pointer:{isDown:!1}}),this.moveToPoint(d,!0),d.moved=!1)}),this.addEventListener("click",o=>{o.preventDefault();let{dimensions:u}=this.store.getState(),p={x:o.pageX-u.pageX,y:o.pageY-u.pageY};this.moveToPoint(p,!0)}),this.addEventListener("mousemove",o=>{let{dimensions:u}=this.store.getState(),p={x:o.pageX-u.pageX,y:o.pageY-u.pageY};this.store.getState().setHover(p.x)}),this.addEventListener("pointerenter",o=>{this.store.setState(u=>({mouse:{...u.mouse,isHover:!0}}))}),this.addEventListener("pointerleave",o=>{this.store.setState(u=>({mouse:{...u.mouse,isHover:!1}}))}),this.addEventListener("pointerdown",o=>{this.store.setState(u=>({mouse:{...u.mouse,isActive:!0}}))}),this.addEventListener("pointerup",o=>{this.store.setState(u=>({mouse:{...u.mouse,isActive:!1}}))})}}moveToPoint(d,o=!1){this.store.setState(u=>{let p=Math.abs(d.x)/u.dimensions.width,y=u.duration*p,c=0,_;for(let v of u.sequence){if(_=v,y<c+v.endTime-v.startTime)break;c+=v.endTime-v.startTime}return o&&!this.dispatchEvent(new CustomEvent("click-waveform",{detail:{time:y,percent:p,target:d,currentSequence:_,sequenceTime:y-c},cancelable:!0,bubbles:!0}))?{}:(this.setAttribute("current-time",`${y}`),{currentTime:y})})}attributeChangedCallback(d,o,u){this.hasInitialised?(this.attributeQueue[d]=u,this.queueUpdate()):this.initialAttributes[d]=u}queueUpdate(){this.attributeTimeout===-1&&(this.attributeTimeout=setTimeout(this.updateAttributes.bind(this),10)),this.requeueUpdate=!1}updateAttributes(){if(this.attributeTimeout=-1,this.isAlreadyUpdating){this.requeueUpdate=!0;return}this.hasInitialised&&(this.isAlreadyUpdating=!0,this.setIsLoading(!0),this.store.getState().setAttributes(this.attributeQueue,!1,()=>this.requeueUpdate).then(()=>{this.setIsLoading(!1),this.isAlreadyUpdating=!1,this.requeueUpdate&&this.queueUpdate()}),this.attributeQueue={})}disconnectedCallback(){this.unsubscribe(),this.windowEvent&&window.removeEventListener("resize",this.resize)}};customElements.define("waveform-panel",Ks);console.log("<waveform-panel /> version v1.2.0");var Wr=function(t,d,o,u){function p(y){return y instanceof o?y:new o(function(c){c(y)})}return new(o||(o=Promise))(function(y,c){function _(m){try{E(u.next(m))}catch(w){c(w)}}function v(m){try{E(u.throw(m))}catch(w){c(w)}}function E(m){m.done?y(m.value):p(m.value).then(_,v)}E((u=u.apply(t,d||[])).next())})},Ai=Kn(),Es=class extends Xn{constructor(d){super(d);this._canvasClockFrequency=25,this._canvasClockStartDate=0,this._canvasClockTime=0,this._canvasHeight=0,this._canvasWidth=0,this._data=this.data(),this._highPriorityFrequency=25,this._isPlaying=!1,this._isStalled=!1,this._lowPriorityFrequency=250,this._mediaSyncMarginSecs=1,this._rangeSpanPadding=.25,this._readyMediaCount=0,this._stallRequestedBy=[],this._wasPlaying=!1,this.ranges=[],this.waveforms=[],this.waveformSources=[],this._buffering=!1,this._bufferShown=!1,this.isOnlyCanvasInstance=!1,this.autoAdvanceRanges=!0,this.waveFormInit=!1,this.resizeTimeout=-1,this._$element=Ai(this.options.target),this._data=this.options.data,this.$playerElement=Ai('<div class="player player--loading"></div>'),this.$playerElement.hide()}loaded(){setTimeout(()=>{this.$playerElement.removeClass("player--loading")},500)}isPlaying(){return this._isPlaying}getClockTime(){return this._canvasClockTime}createTimeStops(){var d,o,u;let p=this._data.helper,y=this._data.canvas;if(!p||!y)return;this.ranges=[],this._contentAnnotations=[];let c=y.canvases,_=[];for(let m of c){let w=m.getContent();for(let A of w){let b=ps(A);if(!b)continue;let D=ys(A,b,{id:m.id,duration:m.getDuration()||0,height:m.getHeight(),width:m.getWidth()}),P=new ds(D,{adaptiveAuthEnabled:this._data.adaptiveAuthEnabled,probed:(u=(o=(d=this.options.data)===null||d===void 0?void 0:d.canvas)===null||o===void 0?void 0:o.externalResource)===null||u===void 0?void 0:u.isProbed});P.setSize(this._convertToPercentage(D.x||0,m.getHeight()),this._convertToPercentage(D.y||0,m.getWidth()),this._convertToPercentage(D.width||m.getWidth(),m.getWidth()),this._convertToPercentage(D.height||m.getHeight(),m.getHeight())),_.push(P);let R=A.getProperty("seeAlso");if(R&&R.length){let j=R[0].id;this.waveforms.push(j);let W=/t=([^&]+)/g.exec(A.__jsonld.target),[H,S]=((W||[])[1]||"").split(",").map(l=>parseFloat(l));this.waveformSources.push({source:j,canvas:m.id,start:H,end:S,itemData:{start:H,end:S,source:A.id}})}}}_.length===0&&setTimeout(()=>{var m,w;this.fire(Ei.MEDIA_ERROR,((w=(m=this._data)===null||m===void 0?void 0:m.content)===null||w===void 0?void 0:w.noMediaMessage)||"No media available to play")},200);let v=new vs(_);v.appendTo(this.$playerElement),v.load().then(()=>{this.fire(Ei.MEDIA_READY)});let E=_s(p.manifest,_);window.timePlanPlayer=this.timePlanPlayer=new hs(v,E,m=>{this.setCurrentRangeId(m,{autoChanged:!0})},m=>{this._canvasClockTime=m},m=>{this._buffering||(m?this.play(!0):this.pause(!0))},()=>{this._buffering=!0})}init(){if(!this._data||!this._data.content||!this._data.canvas){Ht.warn("unable to initialise, missing canvas or content");return}this._$hoverPreviewTemplate=Ai('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=Ai('<div class="canvas-container"></div>'),this._$optionsContainer=Ai('<div class="options-container"></div>'),this._$rangeTimelineContainer=Ai('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=Ai('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=Ai('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=Ai('<div class="hover-highlight"></div>'),this._$durationHighlight=Ai('<div class="duration-highlight"></div>'),this._$timelineItemContainer=Ai('<div class="timeline-item-container"></div>'),this._$controlsContainer=Ai('<div class="controls-container"></div>'),this._$prevButton=Ai(`
                                <button class="btn" title="${this._data.content.previous}">
                                    <i class="av-icon av-icon-previous" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.previous}</span>
                                </button>`),this._$playButton=Ai(`
                                <button class="btn" title="${this._data.content.play}">
                                    <i class="av-icon av-icon-play play" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.play}</span>
                                </button>`),this._$nextButton=Ai(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-next" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.next}</span>
                                </button>`),this._$fastForward=Ai(`
                                <button class="btn" title="${this._data.content.fastForward}">
                                    <i class="av-icon av-icon-fast-forward" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastForward||""}
                                    </span>
                                </button>`),this._$fastRewind=Ai(`
                                <button class="btn" title="${this._data.content.fastRewind}">
                                    <i class="av-icon av-icon-fast-rewind" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastRewind||""}
                                    </span>
                                </button>`),this._$timeDisplay=Ai('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this.isVirtual()&&this.$playerElement.addClass("virtual");let d=Ai('<div class="volume"></div>');this._volume=new ms({target:d[0],data:Object.assign({},this._data)}),this._volume.on(hn.VOLUME_CHANGED,E=>{this.fire(hn.VOLUME_CHANGED,E)},!1),this._$controlsContainer.append(this._$prevButton,this._data.enableFastRewind?this._$fastRewind:null,this._$playButton,this._data.enableFastForward?this._$fastForward:null,this._$nextButton,this._$timeDisplay,d),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide();let o=this.isVirtual()&&yi.newRanges;if(o&&this.createTimeStops(),!o&&this._data&&this._data.helper&&this._data.canvas){let E=[];yr(this._data.canvas)?this._data.canvas.canvases.forEach(m=>{if(this._data&&this._data.helper){let w=this._data.helper.getCanvasRanges(m),A=[];w.forEach(b=>{let D=jQuery.extend(!0,{},b);if(A.push(D),D.canvases&&D.canvases.length)for(let P=0;P<D.canvases.length;P++)yr(this._data.canvas)&&(D.canvases[P]=dr(this._data.canvas.canvases,D.__jsonld.items[P].id))}),E.push(...A)}}):E=E.concat(this._data.helper.getCanvasRanges(this._data.canvas)),E.forEach(m=>{this.ranges.push(m)})}let u=this._data.canvas.getWidth(),p=this._data.canvas.getHeight();u?this._canvasWidth=u:this._canvasWidth=this.$playerElement.parent().width(),p?this._canvasHeight=p:this._canvasHeight=this._canvasWidth*(this._data.defaultAspectRatio||1);let y=this,c=0,_=0;if(this._$prevButton.on("touchstart click",E=>{E.preventDefault(),c++,c===1?(this._previous(!1),_=setTimeout(()=>{c=0,_=0},this._data.doubleClickMS)):(this._previous(!0),clearTimeout(_),c=0,_=0)}),this._$playButton.on("touchstart click",E=>{E.preventDefault(),this._isPlaying?this.pause():this.play()}),this._$nextButton.on("touchstart click",E=>{E.preventDefault(),this._next()}),this._$fastForward.on("touchstart click",E=>{let{end:m}=this.getRangeTiming(),w=jn(this.getClockTime(),20);return w<m?this._setCurrentTime(w):this._setCurrentTime(m)}),this._$fastRewind.on("touchstart click",E=>{let{start:m}=this.getRangeTiming(),w=Bi(this.getClockTime(),20);return w>=m?this._setCurrentTime(w):this._setCurrentTime(m)}),o?this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",min:0,max:this.timePlanPlayer.getDuration(),animate:!1,slide:(E,m)=>{this._setCurrentTime(this.timePlanPlayer.plan.start+m.value)}}):this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:y._getDuration(),animate:!1,create:function(E,m){},slide:function(E,m){y._setCurrentTime(m.value)},stop:function(E,m){}}),this._$canvasTimelineContainer.mouseout(()=>{y._$canvasHoverHighlight.width(0),y._$canvasHoverPreview.hide()}),this._$rangeTimelineContainer.mouseout(()=>{y._$rangeHoverHighlight.width(0),y._$rangeHoverPreview.hide()}),this._$canvasTimelineContainer.on("mousemove",E=>{o?this._updateHoverPreview(E,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration()):this._updateHoverPreview(E,this._$canvasTimelineContainer,this._getDuration())}),this._$rangeTimelineContainer.on("mousemove",E=>{if(o)this._updateHoverPreview(E,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration());else if(this._data.range){let m=this._data.range.getDuration();this._updateHoverPreview(E,this._$rangeTimelineContainer,m?m.getLength():0)}}),o)return;this._contentAnnotations=[];let v=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(let E=0;E<v.length;E++){let m=v[E],w,A=m.getBody();if(!A.length){Ht.warn("item has no body");return}let b=this._getBody(A);if(!b){Ht.warn("unable to find suitable format for",m.id);continue}let D=b.getType(),P=b.getFormat();D&&D.toString()==="textualbody"||(w=b.id.split("#")[0]);let R=m.getTarget();if(!R){Ht.warn("item has no target");return}let j=vr(R),W=Ts.Utils.getTemporalComponent(R);j||(j=[0,0,this._canvasWidth,this._canvasHeight]),W||(W=[0,this._getDuration()]);let H=parseInt(String(j[0])),S=parseInt(String(j[1])),l=parseInt(String(j[2])),Y=parseInt(String(j[3])),C=parseInt(String(W[0])),O=parseInt(String(W[1])),q=this._convertToPercentage(S,this._canvasHeight),Q=this._convertToPercentage(H,this._canvasWidth),pe=this._convertToPercentage(l,this._canvasWidth),re=this._convertToPercentage(Y,this._canvasHeight),ue=/t=([^&]+)/g.exec(b.id),ee;ue&&ue[1]?ee=ue[1].split(","):ee=[null,null];let be=ee[0]?parseInt(ee[0]):ee[0],ie=ee[1]?parseInt(ee[1]):ee[1],Te={active:!1,end:O,endOffset:ie,format:P,height:re,left:Q,source:w,start:C,startOffset:be,top:q,type:D,width:pe};this._renderMediaElement(Te);let ve=m.getProperty("seeAlso");if(ve&&ve.length){let fe=ve[0].id;this.waveforms.push(fe),this.waveformSources.push({canvas:this._data.canvas.id,source:fe,start:0,end:Te.end-Te.start,itemData:Te})}}}_getBody(d){for(let o=0;o<d.length;o++){let u=d[o],p=u.getFormat();if(p&&Wn(p)&&gr())return u}for(let o=0;o<d.length;o++){let u=d[o],p=u.getFormat();if(p&&qn(p)&&!mr())return u}for(let o=0;o<d.length;o++){let u=d[o],p=u.getFormat();if(p&&!Wn(p)&&!qn(p))return u}return null}getDuration(){return this._getDuration()}_getDuration(){return this.isVirtual()&&yi.newRanges?this.timePlanPlayer.getDuration():this._data&&this._data.canvas?Math.floor(this._data.canvas.getDuration()):0}data(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}}isVirtual(){return this._data.canvas instanceof Hn}isVisible(){return!!this._data.visible}includesVirtualSubCanvas(d){if(yr(this._data.canvas)&&this._data.canvas&&this._data.canvas.canvases)for(let o=0;o<this._data.canvas.canvases.length;o++){let u=this._data.canvas.canvases[o];if(Ts.Utils.normaliseUrl(u.id)===d)return!0}return!1}setVisibility(d){this._data.visible!==d&&(this._data.visible=d,d?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize())}viewRange(d){if(this.currentRange!==d){if(Ht.log(`Switching range from ${this.currentRange} to ${d}`),this.setCurrentRangeId(d,{noRender:!1}),yi.newRanges&&this.isVirtual())this._setCurrentTime(this.timePlanPlayer.setRange(d),!0);else{let o=this._data.helper.getRangeById(d);this.set({range:jQuery.extend(!0,{autoChanged:!0},o)})}this._render()}}setCurrentRangeId(d,{autoChanged:o=!1,limitToRange:u=!1,noRender:p=!1}={}){o&&!this.autoAdvanceRanges||(Ht.log("Setting current range id",d),d&&this.currentRange!==d?(this.currentRange=d,this.fire(Ei.RANGE_CHANGED,d)):d===null&&(this.currentRange=void 0,this.fire(Ei.RANGE_CHANGED,null)),p||this._render())}setVolume(d){this._volume.set({volume:d}),yi.newRanges&&this.isVirtual()&&this.timePlanPlayer.setVolume(d)}setLimitToRange(d){Ht.log(this._data.constrainNavigationToRange),this.limitToRange!==d&&(this.limitToRange=d,this._render())}set(d){if(yi.newRanges&&this.isVirtual()){typeof d.range!="undefined"&&this.setCurrentRangeId(d.range.id,{limitToRange:d.limitToRange}),typeof d.rangeId!="undefined"&&this.setCurrentRangeId(d.rangeId,{limitToRange:d.limitToRange}),typeof d.volume!="undefined"&&this.setVolume(d.volume),typeof d.limitToRange!="undefined"&&this.setLimitToRange(d.limitToRange),typeof d.visible!="undefined"&&this.setVisibility(d.visible);return}let o=Object.assign({},this._data);this._data=Object.assign(this._data,d);let u=_r(o,this._data);if(u.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),u.includes("volume")?this._contentAnnotations.forEach(p=>{let y=this._data.volume!==void 0?this._data.volume:1;Ai(p.element).prop("volume",y),this._volume.set({volume:this._data.volume})}):this.isVisible()&&this._render(),u.includes("range")){if(this._data.helper)if(!this._data.range)this.fire(Ei.RANGE_CHANGED,null);else{let p=this._data.range.getDuration();p&&typeof p!="undefined"&&((p.start>=this._canvasClockTime||p.end<=this._canvasClockTime)&&this._setCurrentTime(p.start),this._data.autoPlay&&this.play(),this.fire(Ei.RANGE_CHANGED,this._data.range.id,this._data.range))}u.includes("limitToRange")&&this._render()}}_hasRangeChanged(){if(this.isVirtual()&&yi.newRanges)return;let d=this._getRangeForCurrentTime();d&&!this._data.limitToRange&&(!this._data.range||this._data.range&&d.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},d)})}_getRangeForCurrentTime(d){let o;d?o=d.getRanges():o=this.ranges;for(let u=0;u<o.length;u++){let p=o[u],y=p.getBehavior();if(!(y&&y!=="no-nav")&&this._rangeSpansCurrentTime(p)){if(this._rangeNavigable(p))return p;let c=p.getRanges();for(let _=0;_<c.length;_++){let v=c[_];if(this._rangeSpansCurrentTime(v))return this._getRangeForCurrentTime(v)}return p.parentRange}}}_rangeSpansCurrentTime(d){return!!d.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)}_rangeNavigable(d){let o=d.getBehavior();return!(o&&o.toString()==="no-nav")}_render(){if(this.isVirtual()&&yi.newRanges&&this.isVisible()){Ht.groupCollapsed("CanvasInstance._render()"),Ht.log({dataRange:this._data.rangeId,range:this.currentRange,newLimitToRange:this.limitToRange,constraintToRange:this._data.constrainNavigationToRange,autoSelectRange:this._data.autoSelectRange}),this.limitToRange&&this.currentRange?(Ht.log("Selecting plan...",this.currentRange),this.timePlanPlayer.selectPlan({rangeId:this.currentRange})):(Ht.log("Resetting..."),this.timePlanPlayer.selectPlan({reset:!0}));let d=this._$canvasTimelineContainer.width()/this.timePlanPlayer.getDuration();this._$durationHighlight.show();let{start:o,duration:u}=this.timePlanPlayer.getCurrentRange();this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start,max:this.timePlanPlayer.getDuration()}),this._$durationHighlight.css({left:o*d,width:u*d}),Ht.groupEnd(),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this.createWaveformPanel()}if(this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this.currentRange||this._$durationHighlight.hide(),!!this.isVisible()&&!(!this.isOnlyCanvasInstance&&!this.isVirtual())){if(this._data.range&&!(this.isVirtual()&&yi.newRanges)){let d=this._data.range.getDuration();if(d){let o=this._getDuration(),p=this._$canvasTimelineContainer.width()/o,y=o*p,c=d.start*p,_=d.end*p;(_>y||_<c)&&(_=y);let v=_-c;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:c,width:v})):this._$durationHighlight.hide();let E=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:d.start,step:.01,orientation:"horizontal",range:"min",min:d.start,max:d.end,animate:!1,create:function(m,w){},slide:function(m,w){E._setCurrentTime(w.value)},stop:function(m,w){}})}}this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this.createWaveformPanel(),this.updateWaveformPanel()}}getCanvasId(){if(this._data&&this._data.canvas)return this._data.canvas.id}_updateHoverPreview(d,o,u){let p=o.offset()||{left:0},y=d.pageX-p.left,c=o.find(".arrow"),_=o.find(".hover-highlight"),v=o.find(".hover-preview");_.width(y);let E=o.width(),m=y/E,w=Math.min(u*m);v.find(".label").text(An(w));let A=v.outerWidth(),b=v.outerHeight(),D=y-A*.5,P=A*.5-6;D<0&&(D=0,P=y-6),D+A>E&&(D=E-A,P=A-(E-y)-6),v.css({left:D,top:b*-1+"px"}).show(),c.css({left:P})}_previous(d){if(yi.newRanges&&this.isVirtual()){if(this._data.limitToRange){this._setCurrentTime(this.timePlanPlayer.plan.start,!1);return}Ht.group("CanvasInstance.previous()"),this._buffering=!0;let o=this.timePlanPlayer.previous();this._setCurrentTime(o),Ht.log("CanvasInstance.previous()",o),this._buffering=!1,Ht.groupEnd();return}this._data.limitToRange?d?this._isNavigationConstrainedToRange()?this._rewind():this.fire(Zi.PREVIOUS_RANGE):this._rewind():this._data.range?d?(this.set({range:void 0}),this._rewind()):this.fire(Zi.PREVIOUS_RANGE):this._rewind()}_next(){return Wr(this,void 0,void 0,function*(){if(yi.newRanges&&this.isVirtual()){if(this._data.limitToRange){yield this._setCurrentTime(this.timePlanPlayer.plan.end,!1);return}Ht.groupCollapsed("next"),this._buffering=!0;let d=yield this.timePlanPlayer.next();Ht.log("CanvasInstance.next()",d),yield this._setCurrentTime(d,!1),this._buffering=!1,Ht.groupEnd();return}this._data.limitToRange?this._isNavigationConstrainedToRange()?this._fastforward():this.fire(Zi.NEXT_RANGE):this.fire(Zi.NEXT_RANGE)})}destroy(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)}_convertToPercentage(d,o){return qs(d,o)}_renderMediaElement(d){var o,u,p;let y=(p=(u=(o=this.options.data)===null||o===void 0?void 0:o.canvas)===null||u===void 0?void 0:u.externalResource)===null||p===void 0?void 0:p.isProbed,c;switch(d.type.toString().toLowerCase()){case"video":c=Ai('<video class="anno" />');break;case"sound":case"audio":c=Ai('<audio class="anno" />');break;default:return}let v=c[0];if(y||(v.setAttribute("crossorigin","anonymous"),v.crossOrigin="anonymous"),d.format&&d.format.toString()==="application/dash+xml"){c.attr("data-dashjs-player","");let m=dashjs.MediaPlayer().create();m.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&m.setXHRWithCredentialsForType("MPD",!0),m.initialize(v,d.source,!1)}else if(d.format&&d.format.toString()==="application/vnd.apple.mpegurl"){let m=Mn();if(m&&m.isSupported()){let w=new m;this._data.adaptiveAuthEnabled&&(w=new m({xhrSetup:A=>{A.withCredentials=!0}})),this._data.adaptiveAuthEnabled,w.loadSource(d.source),w.attachMedia(v)}else v.canPlayType("application/vnd.apple.mpegurl")&&(v.src=d.source)}else c.attr("src",d.source);c.css({top:d.top+"%",left:d.left+"%",width:d.width+"%",height:d.height+"%"}).hide(),d.element=c,d.timeout=null;let E=this;d.checkForStall=function(){let m=this;this.active?(E._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?E._playbackStalled(!1,m):(E._playbackStalled(!0,m),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){m.checkForStall()},1e3))):E._playbackStalled(!1,m)},this._contentAnnotations.push(d),this.$playerElement&&this._$canvasContainer.append(c),c.on("loadedmetadata",()=>Wr(this,void 0,void 0,function*(){this._readyMediaCount++,this._readyMediaCount===this._contentAnnotations.length&&(this._data.autoPlay?yield this.play(!0):this.pause(!0),this._updateDurationDisplay(),this.fire(Ei.MEDIA_READY))})),c.attr("preload","metadata"),c.get(0).load(),this._renderSyncIndicator(d)}updateWaveformPanel(){if(yi.newRanges&&this.isVirtual()&&this._waveformPanel){let d=[];for(let o of this.timePlanPlayer.plan.stops)d.push(`${o.canvasId}#t=${o.canvasTime.start},${o.canvasTime.end}`);this._waveformPanel.setAttribute("sequence",d.join("|")),this._waveformPanel.setAttribute("duration",`${this.timePlanPlayer.plan.duration}`)}}updateWaveformTime(d){this._waveformPanel&&this._waveformPanel.setAttribute("current-time",`${d}`)}createWaveformPanel(d=!1){if(this.waveFormInit&&!d||!this.waveformSources.length)return;this.waveFormInit=!0,this._waveformPanel=document.createElement("waveform-panel"),this._waveformPanel.classList.add("waveform-panel"),this._waveformPanel.style.height="100%",this._waveformPanel.addEventListener("click-waveform",u=>{this.isVirtual()?this._setCurrentTime(this.timePlanPlayer.plan.start+u.detail.time):this._setCurrentTime(u.detail.time)}),this._waveformPanel.setAttribute("srcset",this.waveformSources.map(u=>`${u.source} ${u.canvas}${u.itemData?`#t=${u.itemData.start},${u.itemData.end}`:""}`).join("|")),this._waveformPanel.setAttribute("duration",`${this._getDuration()}`),this._waveformPanel.setAttribute("sequence",this.waveformSources.map(u=>`${u.canvas}#t=${u.start},${u.end}`).join("|"));let o=document.createElement("style");o.innerHTML=`
      waveform-panel {
          max-height: 260px;
          width: 100%;
          align-self: center;
      }
    `,this._$canvasContainer[0].style.display="flex",this._$canvasContainer[0].style.width="100%",this._$canvasContainer.append(this._waveformPanel,o)}getRangeTiming(){if(yi.newRanges&&this.isVirtual())return{start:this.timePlanPlayer.plan.start,end:this.timePlanPlayer.plan.end,duration:this.timePlanPlayer.plan.duration,percent:Math.min((this.timePlanPlayer.getTime()-this.timePlanPlayer.plan.start)/this.timePlanPlayer.plan.duration,1)};let d,o=0,u=0,p=u;return this._data.range&&(d=this._data.range.getDuration()),this.isVirtual()||(u=this._getDuration()),this._data.limitToRange&&d&&(o=d.start,u=d.end,p=Bi(u,o)),u===-1&&d&&(o=d.start,u=d.end,p=Bi(u,o)),u===-1&&Ht.warn("Duration not found...",{start:o,end:u,duration:p,durationObj:d}),{start:o,end:u,duration:Bi(u,o),percent:Math.min((this.getClockTime()-o)/p,1)}}isLimitedToRange(){return this._data.limitToRange}hasCurrentRange(){return!!this._data.range}_updateCurrentTimeDisplay(){if(yi.newRanges&&this.isVirtual()){let o=this._canvasClockTime-this.timePlanPlayer.getStartTime();this._$canvasTime.text(An(o)),this.updateWaveformTime(o);return}let d;if(this._data.range&&(d=this._data.range.getDuration()),this._data.limitToRange&&d){let o=this._canvasClockTime-d.start;this._$canvasTime.text(An(o)),this.updateWaveformTime(o)}else this._$canvasTime.text(An(this._canvasClockTime)),this.updateWaveformTime(this._canvasClockTime)}_updateDurationDisplay(){if(yi.newRanges&&this.isVirtual()){this._$canvasDuration.text(An(this.timePlanPlayer.getDuration()));return}let d;this._data.range&&(d=this._data.range.getDuration()),this._data.limitToRange&&d?this._$canvasDuration.text(An(d.getLength())):this._$canvasDuration.text(An(this._getDuration()))}_renderSyncIndicator(d){if(yi.newRanges&&this.isVirtual()){Ht.log("_renderSyncIndicator");return}let o=this._convertToPercentage(d.start,this._getDuration()),u=this._convertToPercentage(d.end-d.start,this._getDuration()),p=Ai('<div class="timeline-item"></div>');p.css({left:o+"%",width:u+"%"});let y=Ai('<div class="line-wrapper"></div>');p.appendTo(y),d.timelineElement=p,this.$playerElement&&this._$timelineItemContainer.append(y)}setCurrentTime(d,o=!1){return Ht.log("External set current time?"),this._setCurrentTime(d,!1,o)}now(){return Lr(Date.now())}nowMs(){return Date.now()}_setCurrentTime(d,o=!0,u=!1){return Wr(this,void 0,void 0,function*(){if(yi.newRanges&&this.isVirtual()){this._buffering=!0,u&&(d=this.timePlanPlayer.validateExternalTime(d)),yield this.timePlanPlayer.setTime(d,o),this._buffering=!1,this._canvasClockStartDate=kr(Bi(this.now(),this._canvasClockTime)),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia();return}let{start:p,end:y}=this.getRangeTiming();d<p||p>y||(this._canvasClockTime=d,this._canvasClockStartDate=kr(Bi(this.now(),this._canvasClockTime)),this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia())})}_rewind(d){if(yi.newRanges&&this.isVirtual()){Ht.log("Rewind");return}this.pause();let o;this._data.range&&(o=this._data.range.getDuration()),this._data.limitToRange&&o?this._setCurrentTime(o.start):this._setCurrentTime(0),this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})}_fastforward(){if(yi.newRanges&&this.isVirtual()){Ht.log("Fast forward");return}let d;this._data.range&&(d=this._data.range.getDuration()),this._data.limitToRange&&d?this._canvasClockTime=pn(d.end):this._canvasClockTime=this._getDuration(),this.pause()}play(d){return Wr(this,void 0,void 0,function*(){if(this._isPlaying)return;if(Ht.log(`CanvasInstance.play(${d})`),yi.newRanges&&this.isVirtual())this.timePlanPlayer.hasEnded()&&(this._buffering=!0,this._data.limitToRange?yield this._setCurrentTime(this.timePlanPlayer.plan.start,!1):yield this.timePlanPlayer.previous(),this._buffering=!1),this.timePlanPlayer.play();else{let u;this._data.range&&(u=this._data.range.getDuration()),this._data.limitToRange&&u&&this._canvasClockTime>=u.end&&(this._canvasClockTime=u.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0)}this._canvasClockStartDate=kr(Bi(this.now(),this._canvasClockTime)),this._highPriorityInterval&&clearInterval(this._highPriorityInterval),this._highPriorityInterval=window.setInterval(()=>{this._highPriorityUpdater()},this._highPriorityFrequency),this._lowPriorityInterval&&clearInterval(this._lowPriorityInterval),this._lowPriorityInterval=window.setInterval(()=>{this._lowPriorityUpdater()},this._lowPriorityFrequency),this._canvasClockInterval&&clearInterval(this._canvasClockInterval),this._canvasClockInterval=window.setInterval(()=>{this._canvasClockUpdater()},this._canvasClockFrequency),this._isPlaying=!0,d||this._synchronizeMedia();let o=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",o),this._$playButton.find("i").switchClass("play","pause"),this.fire(Zi.PLAYCANVAS),this.logMessage("PLAY canvas")})}pause(d){Ht.log(`CanvasInstance.pause(${d})`),window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,d||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()),yi.newRanges&&this.isVirtual()&&this.timePlanPlayer.pause();let o=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",o),this._$playButton.find("i").switchClass("pause","play"),this.fire(Zi.PAUSECANVAS),this.logMessage("PAUSE canvas")}_isNavigationConstrainedToRange(){return this._data.constrainNavigationToRange||!1}_canvasClockUpdater(){if(yi.newRanges&&this.isVirtual()){if(this._buffering)return;let u=Lr(this._canvasClockStartDate);Ht.log("CanvasInstance._canvasClockUpdater()",{startDate:u,advanceToTime:Bi(this.now(),u)});let{paused:p}=this.timePlanPlayer.advanceToTime(Bi(this.now(),u));p&&this.pause();return}if(this._buffering)return;let d=Lr(this._canvasClockStartDate);this._canvasClockTime=Bi(this.now(),d);let o;this._data.range&&(o=this._data.range.getDuration()),this._data.limitToRange&&o&&this._canvasClockTime>=o.end&&this.pause(),this._canvasClockTime>this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())}_highPriorityUpdater(){this._bufferShown&&!this._buffering&&(this.$playerElement.removeClass("player--loading"),this._bufferShown=!1),this._buffering&&!this._bufferShown&&(this.$playerElement.addClass("player--loading"),this._bufferShown=!0),yi.newRanges&&this.isVirtual()?(this._$rangeTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start})):(this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime})),this._updateCurrentTimeDisplay(),this._updateDurationDisplay()}_lowPriorityUpdater(){this._updateMediaActiveStates(),this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()}_updateMediaActiveStates(){if(yi.newRanges&&this.isVirtual()){if(this._isPlaying){if(this.timePlanPlayer.isBuffering()){this._buffering=!0;return}else this._buffering&&(this._buffering=!1);this.timePlanPlayer.advanceToTime(this._canvasClockTime)}return}let d;for(let o=0;o<this._contentAnnotations.length;o++)d=this._contentAnnotations[o],d.start<=this._canvasClockTime&&d.end>=this._canvasClockTime?(this._checkMediaSynchronization(),d.active||(this._synchronizeMedia(),d.active=!0,d.element.show(),d.timelineElement.addClass("active")),d.element[0].currentTime>d.element[0].duration-d.endOffset&&this._pauseMedia(d.element[0])):d.active&&(d.active=!1,d.element.hide(),d.timelineElement.removeClass("active"),this._pauseMedia(d.element[0]))}_pauseMedia(d){d.pause()}_setMediaCurrentTime(d,o){isNaN(d.duration)||(d.currentTime=o)}_synchronizeMedia(){if(yi.newRanges&&this.isVirtual())return;let d;for(let o=0;o<this._contentAnnotations.length;o++){if(d=this._contentAnnotations[o],this._setMediaCurrentTime(d.element[0],this._canvasClockTime-d.start+d.startOffset),d.start<=this._canvasClockTime&&d.end>=this._canvasClockTime)if(this._isPlaying){if(d.element[0].paused){let u=d.element[0].play();u&&u.catch(function(p){console.log(p)})}}else this._pauseMedia(d.element[0]);else this._pauseMedia(d.element[0]);d.element[0].currentTime>d.element[0].duration-d.endOffset&&this._pauseMedia(d.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")}_checkMediaSynchronization(){if(yi.newRanges&&this.isVirtual()){this._isPlaying&&(this.timePlanPlayer.isBuffering()?this._buffering=!0:this._buffering&&(this._buffering=!1));return}let d;for(let o=0,u=this._contentAnnotations.length;o<u;o++)if(d=this._contentAnnotations[o],d.start<=this._canvasClockTime&&d.end>=this._canvasClockTime){this._isPlaying&&(d.element[0].readyState<3?this._buffering=!0:this._buffering&&(this._buffering=!1));let p=this._canvasClockTime-d.start+d.startOffset,y=d.element[0].currentTime;if(Math.abs(y-p)>this._mediaSyncMarginSecs){d.outOfSync=!0;let c=Math.abs(y-p);this.logMessage("DETECTED synchronization lag: "+Math.abs(c)),this._setMediaCurrentTime(d.element[0],p)}else d.outOfSync=!1}}_playbackStalled(d,o){if(d)this._stallRequestedBy.indexOf(o)<0&&this._stallRequestedBy.push(o),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=d);else{let u=this._stallRequestedBy.indexOf(o);u>=0&&this._stallRequestedBy.splice(u,1),this._stallRequestedBy.length===0&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=d)}}resize(){this.resizeTimeout!==-1&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=-1),this.resizeTimeout=setTimeout(this._resize.bind(this),25)}_resize(){if(this.resizeTimeout=-1,this.$playerElement){let d=this._$canvasContainer.width();if(d){this._$canvasTimelineContainer.width(d);let o=this.$playerElement.find(".options-container");this._data.halveAtWidth!==void 0&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-o.height())}if(this._render(),this.createWaveformPanel(),this._waveformPanel){let{width:o,height:u}=this._waveformPanel.getBoundingClientRect();if(o>1&&u>1)try{this._waveformPanel.resize()}catch{}}}}};var Qs=Rn(Un());function Er(t){let d;if(t.canvases&&t.canvases.length)d=t.canvases[0];else{let o=t.getRanges();if(o.length)return Er(o[0])}if(d!==void 0)return Qs.Utils.normaliseUrl(d)}(function t(d,o,u){function p(_,v){if(!o[_]){if(!d[_]){var E=typeof cr=="function"&&cr;if(!v&&E)return E(_,!0);if(y)return y(_,!0);var m=new Error("Cannot find module '"+_+"'");throw m.code="MODULE_NOT_FOUND",m}var w=o[_]={exports:{}};d[_][0].call(w.exports,function(A){var b=d[_][1][A];return p(b||A)},w,w.exports,t,d,o,u)}return o[_].exports}for(var y=typeof cr=="function"&&cr,c=0;c<u.length;c++)p(u[c]);return p})({1:[function(t,d,o){"use strict";var u={};u.encode=function(y){for(var c=[],_=0;_<y.length;++_){var v=y.charCodeAt(_);v<128?c.push(v):v<2048?(c.push(192|v>>6),c.push(128|63&v)):v<65536?(c.push(224|v>>12),c.push(128|63&v>>6),c.push(128|63&v)):(c.push(240|v>>18),c.push(128|63&v>>12),c.push(128|63&v>>6),c.push(128|63&v))}return c},u.decode=function(y){for(var c=[],_=0;_<y.length;){var v=y[_++];v<128||(v<224?(v=(31&v)<<6,v|=63&y[_++]):v<240?(v=(15&v)<<12,v|=(63&y[_++])<<6,v|=63&y[_++]):(v=(7&v)<<18,v|=(63&y[_++])<<12,v|=(63&y[_++])<<6,v|=63&y[_++])),c.push(String.fromCharCode(v))}return c.join("")};var p={};(function(y){var c=function(m){for(var w=0,A=[],b=0|m.length/3;0<b--;){var D=(m[w]<<16)+(m[w+1]<<8)+m[w+2];w+=3,A.push(y.charAt(63&D>>18)),A.push(y.charAt(63&D>>12)),A.push(y.charAt(63&D>>6)),A.push(y.charAt(63&D))}if(m.length-w==2){var D=(m[w]<<16)+(m[w+1]<<8);A.push(y.charAt(63&D>>18)),A.push(y.charAt(63&D>>12)),A.push(y.charAt(63&D>>6)),A.push("=")}else if(m.length-w==1){var D=m[w]<<16;A.push(y.charAt(63&D>>18)),A.push(y.charAt(63&D>>12)),A.push("==")}return A.join("")},_=function(){for(var m=[],w=0;w<y.length;++w)m[y.charCodeAt(w)]=w;return m["=".charCodeAt(0)]=0,m}(),v=function(m){for(var w=0,A=[],b=0|m.length/4;0<b--;){var D=(_[m.charCodeAt(w)]<<18)+(_[m.charCodeAt(w+1)]<<12)+(_[m.charCodeAt(w+2)]<<6)+_[m.charCodeAt(w+3)];A.push(255&D>>16),A.push(255&D>>8),A.push(255&D),w+=4}return A&&(m.charAt(w-2)=="="?(A.pop(),A.pop()):m.charAt(w-1)=="="&&A.pop()),A},E={};E.encode=function(m){for(var w=[],A=0;A<m.length;++A)w.push(m.charCodeAt(A));return w},E.decode=function(m){for(var w=0;w<s.length;++w)a[w]=String.fromCharCode(a[w]);return a.join("")},p.decodeArray=function(m){var w=v(m);return new Uint8Array(w)},p.encodeASCII=function(m){var w=E.encode(m);return c(w)},p.decodeASCII=function(m){var w=v(m);return E.decode(w)},p.encode=function(m){var w=u.encode(m);return c(w)},p.decode=function(m){var w=v(m);return u.decode(w)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o!==void 0&&(o.decode=p.decode,o.decodeArray=p.decodeArray,o.encode=p.encode,o.encodeASCII=p.encodeASCII)},{}],2:[function(t,d,o){"use strict";(function(u){var p={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},y=function(C){var O=C;return p.hasOwnProperty(C)&&(O=p[C]),String.fromCharCode(O)},c=15,_=32,v={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},E={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},w={25:2,26:4,29:6,30:8,31:10,27:13,28:15},A=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],b={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(C){this.time=C},log:function(C,O){var q=this.verboseFilter[C];this.verboseLevel>=q&&console.log(this.time+" ["+C+"] "+O)}},D=function(C){for(var O=[],q=0;q<C.length;q++)O.push(C[q].toString(16));return O},P=function(C,O,q,Q,pe){this.foreground=C||"white",this.underline=O||!1,this.italics=q||!1,this.background=Q||"black",this.flash=pe||!1};P.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(C){for(var O=["foreground","underline","italics","background","flash"],q=0;q<O.length;q++){var Q=O[q];C.hasOwnProperty(Q)&&(this[Q]=C[Q])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},copy:function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var R=function(C,O,q,Q,pe,re){this.uchar=C||" ",this.penState=new P(O,q,Q,pe,re)};R.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(C,O){this.uchar=C,this.penState.copy(O)},setPenState:function(C){this.penState.copy(C)},equals:function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},copy:function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var j=function(){this.chars=[];for(var C=0;C<_;C++)this.chars.push(new R);this.pos=0,this.currPenState=new P};j.prototype={equals:function(C){for(var O=!0,q=0;q<_;q++)if(!this.chars[q].equals(C.chars[q])){O=!1;break}return O},copy:function(C){for(var O=0;O<_;O++)this.chars[O].copy(C.chars[O])},isEmpty:function(){for(var C=!0,O=0;O<_;O++)if(!this.chars[O].isEmpty()){C=!1;break}return C},setCursor:function(C){this.pos!==C&&(this.pos=C),this.pos<0?(b.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>_&&(b.log("ERROR","Too large cursor position "+this.pos),this.pos=_)},moveCursor:function(C){var O=this.pos+C;if(C>1)for(var q=this.pos+1;q<O+1;q++)this.chars[q].setPenState(this.currPenState);this.setCursor(O)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(C){C>=144&&this.backSpace();var O=y(C);if(this.pos>=_)return void b.log("ERROR","Cannot insert "+C.toString(16)+" ("+O+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(O,this.currPenState),this.moveCursor(1)},clearFromPos:function(C){var O;for(O=C;O<_;O++)this.chars[O].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var C=[],O=!0,q=0;q<_;q++){var Q=this.chars[q].uchar;Q!==" "&&(O=!1),C.push(Q)}return O?"":C.join("")},setPenStyles:function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)}};var W=function(){this.rows=[];for(var C=0;C<c;C++)this.rows.push(new j);this.currRow=c-1,this.nrRollUpRows=null,this.reset()};W.prototype={reset:function(){for(var C=0;C<c;C++)this.rows[C].clear();this.currRow=c-1},equals:function(C){for(var O=!0,q=0;q<c;q++)if(!this.rows[q].equals(C.rows[q])){O=!1;break}return O},copy:function(C){for(var O=0;O<c;O++)this.rows[O].copy(C.rows[O])},isEmpty:function(){for(var C=!0,O=0;O<c;O++)if(!this.rows[O].isEmpty()){C=!1;break}return C},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(C){this.rows[this.currRow].insertChar(C)},setPen:function(C){this.rows[this.currRow].setPenStyles(C)},moveCursor:function(C){this.rows[this.currRow].moveCursor(C)},setCursor:function(C){b.log("INFO","setCursor: "+C),this.rows[this.currRow].setCursor(C)},setPAC:function(C){b.log("INFO","pacData = "+JSON.stringify(C));var O=C.row-1;this.nrRollUpRows&&O<this.nrRollUpRows-1&&(O=this.nrRollUpRows-1),this.currRow=O;var q=this.rows[this.currRow];if(C.indent!==null){var Q=C.indent,pe=Math.max(Q-1,0);q.setCursor(C.indent),C.color=q.chars[pe].penState.foreground}var re={foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1};this.setPen(re)},setBkgData:function(C){b.log("INFO","bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},setRollUpRows:function(C){this.nrRollUpRows=C},rollUp:function(){if(this.nrRollUpRows===null)return void b.log("DEBUG","roll_up but nrRollUpRows not set yet");b.log("TEXT",this.getDisplayText());var C=this.currRow+1-this.nrRollUpRows,O=this.rows.splice(C,1)[0];O.clear(),this.rows.splice(this.currRow,0,O),b.log("INFO","Rolling up")},getDisplayText:function(C){C=C||!1;for(var O=[],q="",Q=-1,pe=0;pe<c;pe++){var re=this.rows[pe].getTextString();re&&(Q=pe+1,C?O.push("Row "+Q+': "'+re+'"'):O.push(re.trim()))}return O.length>0&&(q=C?"["+O.join(" | ")+"]":O.join(`
`)),q},getTextAndFormat:function(){return this.rows}};var H=function(C,O){this.chNr=C,this.outputFilter=O,this.mode=null,this.verbose=0,this.displayedMemory=new W,this.nonDisplayedMemory=new W,this.lastOutputScreen=new W,this.currRollUpRow=this.displayedMemory.rows[c-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};H.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[c-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(C){this.outputFilter=C},setPAC:function(C){this.writeScreen.setPAC(C)},setBkgData:function(C){this.writeScreen.setBkgData(C)},setMode:function(C){C!==this.mode&&(this.mode=C,b.log("INFO","MODE="+C),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},insertChars:function(C){for(var O=0;O<C.length;O++)this.writeScreen.insertChar(C[O]);var q=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";b.log("INFO",q+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(b.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){b.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){b.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){b.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(C){b.log("INFO","RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},cc_FON:function(){b.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){b.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){b.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){b.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){b.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){b.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){b.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(b.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,b.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(C){b.log("INFO","TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},cc_MIDROW:function(C){var O={flash:!1};if(O.underline=C%2==1,O.italics=C>=46,O.italics)O.foreground="white";else{var q=Math.floor(C/2)-16,Q=["white","green","blue","cyan","red","yellow","magenta"];O.foreground=Q[q]}b.log("INFO","MIDROW: "+JSON.stringify(O)),this.writeScreen.setPen(O)},outputDataUpdate:function(){var C=b.time;C!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(C,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:C):this.cueStartTime=C,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))}};var S=function(C,O,q){this.field=C||1,this.outputs=[O,q],this.channels=[new H(1,O),new H(2,q)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};S.prototype={getHandler:function(C){return this.channels[C].getHandler()},setHandler:function(C,O){this.channels[C].setHandler(O)},addData:function(C,O){var q,Q,pe,re=!1;this.lastTime=C,b.setTime(C);for(var ue=0;ue<O.length;ue+=2)if(Q=127&O[ue],pe=127&O[ue+1],Q>=16&&Q<=31&&Q===this.lastCmdA&&pe===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,b.log("DEBUG","Repeated command ("+D([Q,pe])+") is dropped");else if(Q!==0||pe!==0){if(b.log("DATA","["+D([O[ue],O[ue+1]])+"] -> ("+D([Q,pe])+")"),q=this.parseCmd(Q,pe),q||(q=this.parseMidrow(Q,pe)),q||(q=this.parsePAC(Q,pe)),q||(q=this.parseBackgroundAttributes(Q,pe)),!q&&(re=this.parseChars(Q,pe)))if(this.currChNr&&this.currChNr>=0){var ee=this.channels[this.currChNr-1];ee.insertChars(re)}else b.log("WARNING","No channel found yet. TEXT-MODE?");q?this.dataCounters.cmd+=2:re?this.dataCounters.char+=2:(this.dataCounters.other+=2,b.log("WARNING","Couldn't parse cleaned data "+D([Q,pe])+" orig: "+D([O[ue],O[ue+1]])))}else this.dataCounters.padding+=2},parseCmd:function(C,O){var q=null,Q=(C===20||C===21||C===28||C===29)&&32<=O&&O<=47,pe=(C===23||C===31)&&33<=O&&O<=35;if(!Q&&!pe)return!1;q=C===20||C===21||C===23?1:2;var re=this.channels[q-1];return C===20||C===21||C===28||C===29?O===32?re.cc_RCL():O===33?re.cc_BS():O===34?re.cc_AOF():O===35?re.cc_AON():O===36?re.cc_DER():O===37?re.cc_RU(2):O===38?re.cc_RU(3):O===39?re.cc_RU(4):O===40?re.cc_FON():O===41?re.cc_RDC():O===42?re.cc_TR():O===43?re.cc_RTD():O===44?re.cc_EDM():O===45?re.cc_CR():O===46?re.cc_ENM():O===47&&re.cc_EOC():re.cc_TO(O-32),this.lastCmdA=C,this.lastCmdB=O,this.currChNr=q,!0},parseMidrow:function(C,O){var q=null;if((C===17||C===25)&&32<=O&&O<=47){if((q=C===17?1:2)!==this.currChNr)return b.log("ERROR","Mismatch channel in midrow parsing"),!1;var Q=this.channels[q-1];return Q.insertChars([32]),Q.cc_MIDROW(O),b.log("DEBUG","MIDROW ("+D([C,O])+")"),this.lastCmdA=C,this.lastCmdB=O,!0}return!1},parsePAC:function(C,O){var q=null,Q=null,pe=(17<=C&&C<=23||25<=C&&C<=31)&&64<=O&&O<=127,re=(C===16||C===24)&&64<=O&&O<=95;if(!pe&&!re)return!1;q=C<=23?1:2,Q=64<=O&&O<=95?q===1?v[C]:m[C]:q===1?E[C]:w[C];var ue=this.interpretPAC(Q,O);return this.channels[q-1].setPAC(ue),this.lastCmdA=C,this.lastCmdB=O,this.currChNr=q,!0},interpretPAC:function(C,O){var q=O,Q={color:null,italics:!1,indent:null,underline:!1,row:C};return q=O>95?O-96:O-64,Q.underline=(1&q)==1,q<=13?Q.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(q/2)]:q<=15?(Q.italics=!0,Q.color="white"):Q.indent=4*Math.floor((q-16)/2),Q},parseChars:function(C,O){var q=null,Q=null,pe=null;if(C>=25?(q=2,pe=C-8):(q=1,pe=C),17<=pe&&pe<=19){var re=O;re=pe===17?O+80:pe===18?O+112:O+144,b.log("INFO","Special char '"+y(re)+"' in channel "+q),Q=[re],this.lastCmdA=C,this.lastCmdB=O}else 32<=C&&C<=127&&(Q=O===0?[C]:[C,O],this.lastCmdA=null,this.lastCmdB=null);if(Q){var ue=D(Q);b.log("DEBUG","Char codes =  "+ue.join(","))}return Q},parseBackgroundAttributes:function(C,O){var q,Q,pe,re,ue=(C===16||C===24)&&32<=O&&O<=47,ee=(C===23||C===31)&&45<=O&&O<=47;return!(!ue&&!ee)&&(q={},C===16||C===24?(Q=Math.floor((O-32)/2),q.background=A[Q],O%2==1&&(q.background=q.background+"_semi")):O===45?q.background="transparent":(q.foreground="black",O===47&&(q.underline=!0)),pe=C<24?1:2,re=this.channels[pe-1],re.setBkgData(q),this.lastCmdA=C,this.lastCmdB=O,!0)},reset:function(){for(var C=0;C<this.channels.length;C++)this.channels[C]&&this.channels[C].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(C){for(var O=0;O<this.channels.length;O++)this.channels[O]&&this.channels[O].cueSplitAtTime(C)}};var l=function(C,O,q){for(var Q=0,pe=O,re=[],ue=function(ve,fe,Ee,Se){if(ve!==4||fe<8)return null;var V=Ee.getUint8(Se),de=Ee.getUint16(Se+1),Ae=Ee.getUint32(Se+3),De=Ee.getUint8(Se+7);return V==181&&de==49&&Ae==1195456820&&De==3};pe<O+q;){if(Q=C.getUint32(pe),(31&C.getUint8(pe+4))==6)for(var ee=pe+5,be=-1;ee<pe+4+Q-1;){be=0;for(var ie=255;ie===255;)ie=C.getUint8(ee),be+=ie,ee++;var Te=0;for(ie=255;ie===255;)ie=C.getUint8(ee),Te+=ie,ee++;ue(be,Te,C,ee)&&re.push([ee,Te]),ee+=Te}pe+=Q+4}return re},Y=function(C,O){var q=O[0],Q=[[],[]];q+=8;var pe=31&C.getUint8(q);q+=2;for(var re=0;re<pe;re++){var ue=C.getUint8(q),ee=4&ue,be=3&ue;q++;var ie=C.getUint8(q);q++;var Te=C.getUint8(q);q++,ee&&(127&ie)+(127&Te)!=0&&(be===0?(Q[0].push(ie),Q[0].push(Te)):be===1&&(Q[1].push(ie),Q[1].push(Te)))}return Q};u.logger=b,u.PenState=P,u.CaptionScreen=W,u.Cea608Parser=S,u.findCea608Nalus=l,u.extractCea608DataFromRange=Y})(o===void 0?(void 0).cea608parser={}:o)},{}],3:[function(t,d,o){"use strict";function u(p){var y,c,_;for(y=[],_=0,c=p.length;_<c;_+=1)p[_].isRoot?y.push("root"):y.push(p[_].name);var v=function(w,A){var b;if(w!==null&&A!==null)for(b in w)w.hasOwnProperty(b)&&(A.hasOwnProperty(b)||(A[b]=w[b]))},E=function(w,A,b){var D,P,R,j,W;if(w!==null&&w.length!==0)for(D=0,P=w.length;D<P;D+=1)R=w[D],A.hasOwnProperty(R.name)&&(b.hasOwnProperty(R.name)?R.merge&&(j=A[R.name],W=b[R.name],typeof j=="object"&&typeof W=="object"?v(j,W):R.mergeFunction!=null?b[R.name]=R.mergeFunction(j,W):b[R.name]=j+W):b[R.name]=A[R.name])},m=function w(A,b){var D,P,R,j,W,H,S,l=A;if(l.children!==null&&l.children.length!==0){for(D=0,P=l.children.length;D<P;D+=1)if(H=l.children[D],b.hasOwnProperty(H.name))if(H.isArray)for(W=b[H.name+"_asArray"],R=0,j=W.length;R<j;R+=1)S=W[R],E(l.properties,b,S),w(H,S);else S=b[H.name],E(l.properties,b,S),w(H,S)}};return{run:function w(A){var b,D,P,R,j,W,H;if(A===null||typeof A!="object")return A;for(b=0,D=y.length;b<D;b+=1)y[b]==="root"&&(j=p[b],W=A,m(j,W));for(R in A)if(A.hasOwnProperty(R)&&R!="__children"){if((P=y.indexOf(R))!==-1)if(j=p[P],j.isArray)for(H=A[R+"_asArray"],b=0,D=H.length;b<D;b+=1)W=H[b],m(j,W);else W=A[R],m(j,W);w(A[R])}return A}}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=u,d.exports=o.default},{}],4:[function(t,d,o){"use strict";function u(p){function y(){p.escapeMode===void 0&&(p.escapeMode=!0),p.attributePrefix===void 0&&(p.attributePrefix="_"),p.arrayAccessForm=p.arrayAccessForm||"none",p.emptyNodeForm=p.emptyNodeForm||"text",p.enableToStringFunc===void 0&&(p.enableToStringFunc=!0),p.arrayAccessFormPaths=p.arrayAccessFormPaths||[],p.skipEmptyTextNodesForObj===void 0&&(p.skipEmptyTextNodesForObj=!0),p.stripWhitespaces===void 0&&(p.stripWhitespaces=!0),p.datetimeAccessFormPaths=p.datetimeAccessFormPaths||[],p.useDoubleQuotes===void 0&&(p.useDoubleQuotes=!1),p.xmlElementsFilter=p.xmlElementsFilter||[],p.jsonPropertiesFilter=p.jsonPropertiesFilter||[],p.keepCData===void 0&&(p.keepCData=!1),p.ignoreRoot===void 0&&(p.ignoreRoot=!1)}function c(){}function _(ee){var be=ee.localName;return be==null&&(be=ee.baseName),be!=null&&be!=""||(be=ee.nodeName),be}function v(ee){return ee.prefix}function E(ee){return typeof ee=="string"?ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ee}function m(ee,be,ie,Te){for(var ve=0;ve<ee.length;ve++){var fe=ee[ve];if(typeof fe=="string"){if(fe==Te)break}else if(fe instanceof RegExp){if(fe.test(Te))break}else if(typeof fe=="function"&&fe(be,ie,Te))break}return ve!=ee.length}function w(ee,be,ie){switch(p.arrayAccessForm){case"property":ee[be]instanceof Array?ee[be+"_asArray"]=ee[be]:ee[be+"_asArray"]=[ee[be]]}!(ee[be]instanceof Array)&&p.arrayAccessFormPaths.length>0&&m(p.arrayAccessFormPaths,ee,be,ie)&&(ee[be]=[ee[be]])}function A(ee){var be=ee.split(/[-T:+Z]/g),ie=new Date(be[0],be[1]-1,be[2]),Te=be[5].split(".");if(ie.setHours(be[3],be[4],Te[0]),Te.length>1&&ie.setMilliseconds(Te[1]),be[6]&&be[7]){var ve=60*be[6]+Number(be[7]);ve=0+((/\d\d-\d\d:\d\d$/.test(ee)?"-":"+")=="-"?-1*ve:ve),ie.setMinutes(ie.getMinutes()-ve-ie.getTimezoneOffset())}else ee.indexOf("Z",ee.length-1)!==-1&&(ie=new Date(Date.UTC(ie.getFullYear(),ie.getMonth(),ie.getDate(),ie.getHours(),ie.getMinutes(),ie.getSeconds(),ie.getMilliseconds())));return ie}function b(ee,be,ie){if(p.datetimeAccessFormPaths.length>0){var Te=ie.split(".#")[0];return m(p.datetimeAccessFormPaths,ee,be,Te)?A(ee):ee}return ee}function D(ee,be,ie,Te){return!(be==ue.ELEMENT_NODE&&p.xmlElementsFilter.length>0)||m(p.xmlElementsFilter,ee,ie,Te)}function P(ee,be){if(ee.nodeType==ue.DOCUMENT_NODE){for(var ie=new Object,Te=ee.childNodes,ve=0;ve<Te.length;ve++){var fe=Te[ve];if(fe.nodeType==ue.ELEMENT_NODE)if(p.ignoreRoot)ie=P(fe);else{ie={};var Ee=_(fe);ie[Ee]=P(fe)}}return ie}if(ee.nodeType==ue.ELEMENT_NODE){var ie=new Object;ie.__cnt=0;for(var Se=[],Te=ee.childNodes,ve=0;ve<Te.length;ve++){var fe=Te[ve],Ee=_(fe);if(fe.nodeType!=ue.COMMENT_NODE){var V=be+"."+Ee;if(D(ie,fe.nodeType,Ee,V))if(ie.__cnt++,ie[Ee]==null){var de=P(fe,V);if(Ee!="#text"||/[^\s]/.test(de)){var Ae={};Ae[Ee]=de,Se.push(Ae)}ie[Ee]=de,w(ie,Ee,V)}else{ie[Ee]!=null&&(ie[Ee]instanceof Array||(ie[Ee]=[ie[Ee]],w(ie,Ee,V)));var de=P(fe,V);if(Ee!="#text"||/[^\s]/.test(de)){var Ae={};Ae[Ee]=de,Se.push(Ae)}ie[Ee][ie[Ee].length]=de}}}ie.__children=Se;for(var De=_(ee),ae=0;ae<ee.attributes.length;ae++){var me=ee.attributes[ae];ie.__cnt++;for(var Ce=me.value,xe=0,ce=p.matchers.length;xe<ce;xe++){var Pe=p.matchers[xe];Pe.test(me,De)&&(Ce=Pe.converter(me.value))}ie[p.attributePrefix+me.name]=Ce}var N=v(ee);return N!=null&&N!=""&&(ie.__cnt++,ie.__prefix=N),ie["#text"]!=null&&(ie.__text=ie["#text"],ie.__text instanceof Array&&(ie.__text=ie.__text.join(`
`)),p.stripWhitespaces&&(ie.__text=ie.__text.trim()),delete ie["#text"],p.arrayAccessForm=="property"&&delete ie["#text_asArray"],ie.__text=b(ie.__text,Ee,be+"."+Ee)),ie["#cdata-section"]!=null&&(ie.__cdata=ie["#cdata-section"],delete ie["#cdata-section"],p.arrayAccessForm=="property"&&delete ie["#cdata-section_asArray"]),ie.__cnt==0&&p.emptyNodeForm=="text"?ie="":ie.__cnt==1&&ie.__text!=null?ie=ie.__text:ie.__cnt!=1||ie.__cdata==null||p.keepCData?ie.__cnt>1&&ie.__text!=null&&p.skipEmptyTextNodesForObj&&(p.stripWhitespaces&&ie.__text==""||ie.__text.trim()=="")&&delete ie.__text:ie=ie.__cdata,delete ie.__cnt,!p.enableToStringFunc||ie.__text==null&&ie.__cdata==null||(ie.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ie}if(ee.nodeType==ue.TEXT_NODE||ee.nodeType==ue.CDATA_SECTION_NODE)return ee.nodeValue}function R(ee,be,ie,Te){var ve="<"+(ee!=null&&ee.__prefix!=null?ee.__prefix+":":"")+be;if(ie!=null)for(var fe=0;fe<ie.length;fe++){var Ee=ie[fe],Se=ee[Ee];p.escapeMode&&(Se=E(Se)),ve+=" "+Ee.substr(p.attributePrefix.length)+"=",p.useDoubleQuotes?ve+='"'+Se+'"':ve+="'"+Se+"'"}return ve+=Te?"/>":">"}function j(ee,be){return"</"+(ee.__prefix!=null?ee.__prefix+":":"")+be+">"}function W(ee,be){return ee.indexOf(be,ee.length-be.length)!==-1}function H(ee,be){return!!(p.arrayAccessForm=="property"&&W(be.toString(),"_asArray")||be.toString().indexOf(p.attributePrefix)==0||be.toString().indexOf("__")==0||ee[be]instanceof Function)}function S(ee){var be=0;if(ee instanceof Object)for(var ie in ee)H(ee,ie)||be++;return be}function l(ee,be,ie){return p.jsonPropertiesFilter.length==0||ie==""||m(p.jsonPropertiesFilter,ee,be,ie)}function Y(ee){var be=[];if(ee instanceof Object)for(var ie in ee)ie.toString().indexOf("__")==-1&&ie.toString().indexOf(p.attributePrefix)==0&&be.push(ie);return be}function C(ee){var be="";return ee.__cdata!=null&&(be+="<![CDATA["+ee.__cdata+"]]>"),ee.__text!=null&&(p.escapeMode?be+=E(ee.__text):be+=ee.__text),be}function O(ee){var be="";return ee instanceof Object?be+=C(ee):ee!=null&&(p.escapeMode?be+=E(ee):be+=ee),be}function q(ee,be){return ee===""?be:ee+"."+be}function Q(ee,be,ie,Te){var ve="";if(ee.length==0)ve+=R(ee,be,ie,!0);else for(var fe=0;fe<ee.length;fe++)ve+=R(ee[fe],be,Y(ee[fe]),!1),ve+=pe(ee[fe],q(Te,be)),ve+=j(ee[fe],be);return ve}function pe(ee,be){var ie="";if(S(ee)>0){for(var Te in ee)if(!H(ee,Te)&&(be==""||l(ee,Te,q(be,Te)))){var ve=ee[Te],fe=Y(ve);if(ve==null||ve==null)ie+=R(ve,Te,fe,!0);else if(ve instanceof Object)if(ve instanceof Array)ie+=Q(ve,Te,fe,be);else if(ve instanceof Date)ie+=R(ve,Te,fe,!1),ie+=ve.toISOString(),ie+=j(ve,Te);else{var Ee=S(ve);Ee>0||ve.__text!=null||ve.__cdata!=null?(ie+=R(ve,Te,fe,!1),ie+=pe(ve,q(be,Te)),ie+=j(ve,Te)):ie+=R(ve,Te,fe,!0)}else ie+=R(ve,Te,fe,!1),ie+=O(ve),ie+=j(ve,Te)}}return ie+=O(ee)}var re="1.2.0";p=p||{},y(),c();var ue={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(ee){if(window.ActiveXObject,ee===void 0)return null;var be;if(window.DOMParser){var ie=new window.DOMParser;try{be=ie.parseFromString(ee,"text/xml"),be.getElementsByTagNameNS("*","parsererror").length>0&&(be=null)}catch{be=null}}else ee.indexOf("<?")==0&&(ee=ee.substr(ee.indexOf("?>")+2)),be=new ActiveXObject("Microsoft.XMLDOM"),be.async="false",be.loadXML(ee);return be},this.asArray=function(ee){return ee===void 0||ee==null?[]:ee instanceof Array?ee:[ee]},this.toXmlDateTime=function(ee){return ee instanceof Date?ee.toISOString():typeof ee=="number"?new Date(ee).toISOString():null},this.asDateTime=function(ee){return typeof ee=="string"?A(ee):ee},this.xml2json=function(ee){return P(ee)},this.xml_str2json=function(ee){var be=this.parseXmlString(ee);return be!=null?this.xml2json(be):null},this.json2xml_str=function(ee){return pe(ee,"")},this.json2xml=function(ee){var be=this.json2xml_str(ee);return this.parseXmlString(be)},this.getVersion=function(){return re}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=u,d.exports=o.default},{}],5:[function(t,d,o){(function(u){"use strict";function p(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(90),c=p(y),_=t(48),v=p(_),E=t(49),m=typeof window!="undefined"&&window||u,w=m.dashjs;w||(w=m.dashjs={}),w.MediaPlayer=c.default,w.FactoryMaker=v.default,w.Version=(0,E.getVersionString)(),o.default=w,o.MediaPlayer=c.default,o.FactoryMaker=v.default}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{48:48,49:49,90:90}],6:[function(t,d,o){(function(u){"use strict";function p(P){var R=P.charCodeAt(0);return R===v||R===b?62:R===E||R===D?63:R<m?-1:R<m+10?R-m+26+26:R<A+26?R-A:R<w+26?R-w+26:void 0}function y(P){function R(q){Y[O++]=q}var j,W,H,S,l,Y;if(P.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=P.length;l=P.charAt(C-2)==="="?2:P.charAt(C-1)==="="?1:0,Y=new _(3*P.length/4-l),H=l>0?P.length-4:P.length;var O=0;for(j=0,W=0;j<H;j+=4,W+=3)S=p(P.charAt(j))<<18|p(P.charAt(j+1))<<12|p(P.charAt(j+2))<<6|p(P.charAt(j+3)),R((16711680&S)>>16),R((65280&S)>>8),R(255&S);return l===2?(S=p(P.charAt(j))<<2|p(P.charAt(j+1))>>4,R(255&S)):l===1&&(S=p(P.charAt(j))<<10|p(P.charAt(j+1))<<4|p(P.charAt(j+2))>>2,R(S>>8&255),R(255&S)),Y}function c(P){function R(C){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(C)}function j(C){return R(C>>18&63)+R(C>>12&63)+R(C>>6&63)+R(63&C)}var W,H,S,l=P.length%3,Y="";for(W=0,S=P.length-l;W<S;W+=3)H=(P[W]<<16)+(P[W+1]<<8)+P[W+2],Y+=j(H);switch(l){case 1:H=P[P.length-1],Y+=R(H>>2),Y+=R(H<<4&63),Y+="==";break;case 2:H=(P[P.length-2]<<8)+P[P.length-1],Y+=R(H>>10),Y+=R(H>>4&63),Y+=R(H<<2&63),Y+="="}return Y}var _=typeof Uint8Array!="undefined"?Uint8Array:Array,v="+".charCodeAt(0),E="/".charCodeAt(0),m="0".charCodeAt(0),w="a".charCodeAt(0),A="A".charCodeAt(0),b="-".charCodeAt(0),D="_".charCodeAt(0);u.toByteArray=y,u.fromByteArray=c})(o===void 0?this.base64js={}:o)},{}],7:[function(t,d,o){},{}],8:[function(t,d,o){function u(m){if(m&&!v(m))throw new Error("Unknown encoding: "+m)}function p(m){return m.toString(this.encoding)}function y(m){this.charReceived=m.length%2,this.charLength=this.charReceived?2:0}function c(m){this.charReceived=m.length%3,this.charLength=this.charReceived?3:0}var _=t(9).Buffer,v=_.isEncoding||function(m){switch(m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},E=o.StringDecoder=function(m){switch(this.encoding=(m||"utf8").toLowerCase().replace(/[-_]/,""),u(m),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=y;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=p)}this.charBuffer=new _(6),this.charReceived=0,this.charLength=0};E.prototype.write=function(m){for(var w="";this.charLength;){var A=m.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:m.length;if(m.copy(this.charBuffer,this.charReceived,0,A),this.charReceived+=A,this.charReceived<this.charLength)return"";m=m.slice(A,m.length),w=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var D=w.charCodeAt(w.length-1);if(!(D>=55296&&D<=56319)){if(this.charReceived=this.charLength=0,m.length===0)return w;break}this.charLength+=this.surrogateSize,w=""}this.detectIncompleteChar(m);var b=m.length;this.charLength&&(m.copy(this.charBuffer,0,m.length-this.charReceived,b),b-=this.charReceived),w+=m.toString(this.encoding,0,b);var b=w.length-1,D=w.charCodeAt(b);if(D>=55296&&D<=56319){var P=this.surrogateSize;return this.charLength+=P,this.charReceived+=P,this.charBuffer.copy(this.charBuffer,P,0,P),m.copy(this.charBuffer,0,0,P),w.substring(0,b)}return w},E.prototype.detectIncompleteChar=function(m){for(var w=m.length>=3?3:m.length;w>0;w--){var A=m[m.length-w];if(w==1&&A>>5==6){this.charLength=2;break}if(w<=2&&A>>4==14){this.charLength=3;break}if(w<=3&&A>>3==30){this.charLength=4;break}}this.charReceived=w},E.prototype.end=function(m){var w="";if(m&&m.length&&(w=this.write(m)),this.charReceived){var A=this.charReceived,b=this.charBuffer,D=this.encoding;w+=b.slice(0,A).toString(D)}return w}},{9:9}],9:[function(t,d,o){(function(u){"use strict";function p(){function h(){}try{var x=new Uint8Array(1);return x.foo=function(){return 42},x.constructor=h,x.foo()===42&&x.constructor===h&&typeof x.subarray=="function"&&x.subarray(1,1).byteLength===0}catch{return!1}}function y(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(h){return this instanceof c?(c.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),typeof h=="number"?_(this,h):typeof h=="string"?v(this,h,arguments.length>1?arguments[1]:"utf8"):E(this,h)):arguments.length>1?new c(h,arguments[1]):new c(h)}function _(h,x){if(h=R(h,x<0?0:0|j(x)),!c.TYPED_ARRAY_SUPPORT)for(var U=0;U<x;U++)h[U]=0;return h}function v(h,x,U){return typeof U=="string"&&U!==""||(U="utf8"),h=R(h,0|H(x,U)),h.write(x,U),h}function E(h,x){if(c.isBuffer(x))return m(h,x);if(F(x))return w(h,x);if(x==null)throw new TypeError("must start with number, buffer, array or string");if(typeof ArrayBuffer!="undefined"){if(x.buffer instanceof ArrayBuffer)return A(h,x);if(x instanceof ArrayBuffer)return b(h,x)}return x.length?D(h,x):P(h,x)}function m(h,x){var U=0|j(x.length);return h=R(h,U),x.copy(h,0,0,U),h}function w(h,x){var U=0|j(x.length);h=R(h,U);for(var z=0;z<U;z+=1)h[z]=255&x[z];return h}function A(h,x){var U=0|j(x.length);h=R(h,U);for(var z=0;z<U;z+=1)h[z]=255&x[z];return h}function b(h,x){return c.TYPED_ARRAY_SUPPORT?(x.byteLength,h=c._augment(new Uint8Array(x))):h=A(h,new Uint8Array(x)),h}function D(h,x){var U=0|j(x.length);h=R(h,U);for(var z=0;z<U;z+=1)h[z]=255&x[z];return h}function P(h,x){var U,z=0;x.type==="Buffer"&&F(x.data)&&(U=x.data,z=0|j(U.length)),h=R(h,z);for(var J=0;J<z;J+=1)h[J]=255&U[J];return h}function R(h,x){return c.TYPED_ARRAY_SUPPORT?(h=c._augment(new Uint8Array(x)),h.__proto__=c.prototype):(h.length=x,h._isBuffer=!0),x!==0&&x<=c.poolSize>>>1&&(h.parent=ne),h}function j(h){if(h>=y())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y().toString(16)+" bytes");return 0|h}function W(h,x){if(!(this instanceof W))return new W(h,x);var U=new c(h,x);return delete U.parent,U}function H(h,x){typeof h!="string"&&(h=""+h);var U=h.length;if(U===0)return 0;for(var z=!1;;)switch(x){case"ascii":case"binary":case"raw":case"raws":return U;case"utf8":case"utf-8":return Ce(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return Pe(h).length;default:if(z)return Ce(h).length;x=(""+x).toLowerCase(),z=!0}}function S(h,x,U){var z=!1;if(x|=0,U=U===void 0||U===1/0?this.length:0|U,h||(h="utf8"),x<0&&(x=0),U>this.length&&(U=this.length),U<=x)return"";for(;;)switch(h){case"hex":return ie(this,x,U);case"utf8":case"utf-8":return re(this,x,U);case"ascii":return ee(this,x,U);case"binary":return be(this,x,U);case"base64":return pe(this,x,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,x,U);default:if(z)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),z=!0}}function l(h,x,U,z){U=Number(U)||0;var J=h.length-U;z?(z=Number(z))>J&&(z=J):z=J;var ye=x.length;if(ye%2!=0)throw new Error("Invalid hex string");z>ye/2&&(z=ye/2);for(var We=0;We<z;We++){var Fe=parseInt(x.substr(2*We,2),16);if(isNaN(Fe))throw new Error("Invalid hex string");h[U+We]=Fe}return We}function Y(h,x,U,z){return N(Ce(x,h.length-U),h,U,z)}function C(h,x,U,z){return N(xe(x),h,U,z)}function O(h,x,U,z){return C(h,x,U,z)}function q(h,x,U,z){return N(Pe(x),h,U,z)}function Q(h,x,U,z){return N(ce(x,h.length-U),h,U,z)}function pe(h,x,U){return x===0&&U===h.length?Z.fromByteArray(h):Z.fromByteArray(h.slice(x,U))}function re(h,x,U){U=Math.min(h.length,U);for(var z=[],J=x;J<U;){var ye=h[J],We=null,Fe=ye>239?4:ye>223?3:ye>191?2:1;if(J+Fe<=U){var qe,Ye,Xe,ht;switch(Fe){case 1:ye<128&&(We=ye);break;case 2:qe=h[J+1],(192&qe)==128&&(ht=(31&ye)<<6|63&qe)>127&&(We=ht);break;case 3:qe=h[J+1],Ye=h[J+2],(192&qe)==128&&(192&Ye)==128&&(ht=(15&ye)<<12|(63&qe)<<6|63&Ye)>2047&&(ht<55296||ht>57343)&&(We=ht);break;case 4:qe=h[J+1],Ye=h[J+2],Xe=h[J+3],(192&qe)==128&&(192&Ye)==128&&(192&Xe)==128&&(ht=(15&ye)<<18|(63&qe)<<12|(63&Ye)<<6|63&Xe)>65535&&ht<1114112&&(We=ht)}}We===null?(We=65533,Fe=1):We>65535&&(We-=65536,z.push(We>>>10&1023|55296),We=56320|1023&We),z.push(We),J+=Fe}return ue(z)}function ue(h){var x=h.length;if(x<=K)return String.fromCharCode.apply(String,h);for(var U="",z=0;z<x;)U+=String.fromCharCode.apply(String,h.slice(z,z+=K));return U}function ee(h,x,U){var z="";U=Math.min(h.length,U);for(var J=x;J<U;J++)z+=String.fromCharCode(127&h[J]);return z}function be(h,x,U){var z="";U=Math.min(h.length,U);for(var J=x;J<U;J++)z+=String.fromCharCode(h[J]);return z}function ie(h,x,U){var z=h.length;(!x||x<0)&&(x=0),(!U||U<0||U>z)&&(U=z);for(var J="",ye=x;ye<U;ye++)J+=me(h[ye]);return J}function Te(h,x,U){for(var z=h.slice(x,U),J="",ye=0;ye<z.length;ye+=2)J+=String.fromCharCode(z[ye]+256*z[ye+1]);return J}function ve(h,x,U){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+x>U)throw new RangeError("Trying to access beyond buffer length")}function fe(h,x,U,z,J,ye){if(!c.isBuffer(h))throw new TypeError("buffer must be a Buffer instance");if(x>J||x<ye)throw new RangeError("value is out of bounds");if(U+z>h.length)throw new RangeError("index out of range")}function Ee(h,x,U,z){x<0&&(x=65535+x+1);for(var J=0,ye=Math.min(h.length-U,2);J<ye;J++)h[U+J]=(x&255<<8*(z?J:1-J))>>>8*(z?J:1-J)}function Se(h,x,U,z){x<0&&(x=4294967295+x+1);for(var J=0,ye=Math.min(h.length-U,4);J<ye;J++)h[U+J]=x>>>8*(z?J:3-J)&255}function V(h,x,U,z,J,ye){if(x>J||x<ye)throw new RangeError("value is out of bounds");if(U+z>h.length)throw new RangeError("index out of range");if(U<0)throw new RangeError("index out of range")}function de(h,x,U,z,J){return J||V(h,x,U,4,34028234663852886e22,-34028234663852886e22),L.write(h,x,U,z,23,4),U+4}function Ae(h,x,U,z,J){return J||V(h,x,U,8,17976931348623157e292,-17976931348623157e292),L.write(h,x,U,z,52,8),U+8}function De(h){if(h=ae(h).replace(we,""),h.length<2)return"";for(;h.length%4!=0;)h+="=";return h}function ae(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function me(h){return h<16?"0"+h.toString(16):h.toString(16)}function Ce(h,x){x=x||1/0;for(var U,z=h.length,J=null,ye=[],We=0;We<z;We++){if((U=h.charCodeAt(We))>55295&&U<57344){if(!J){if(U>56319){(x-=3)>-1&&ye.push(239,191,189);continue}if(We+1===z){(x-=3)>-1&&ye.push(239,191,189);continue}J=U;continue}if(U<56320){(x-=3)>-1&&ye.push(239,191,189),J=U;continue}U=65536+(J-55296<<10|U-56320)}else J&&(x-=3)>-1&&ye.push(239,191,189);if(J=null,U<128){if((x-=1)<0)break;ye.push(U)}else if(U<2048){if((x-=2)<0)break;ye.push(U>>6|192,63&U|128)}else if(U<65536){if((x-=3)<0)break;ye.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((x-=4)<0)break;ye.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return ye}function xe(h){for(var x=[],U=0;U<h.length;U++)x.push(255&h.charCodeAt(U));return x}function ce(h,x){for(var U,z,J,ye=[],We=0;We<h.length&&!((x-=2)<0);We++)U=h.charCodeAt(We),z=U>>8,J=U%256,ye.push(J),ye.push(z);return ye}function Pe(h){return Z.toByteArray(De(h))}function N(h,x,U,z){for(var J=0;J<z&&!(J+U>=x.length||J>=h.length);J++)x[J+U]=h[J];return J}var Z=t(6),L=t(14),F=t(24);o.Buffer=c,o.SlowBuffer=W,o.INSPECT_MAX_BYTES=50,c.poolSize=8192;var ne={};c.TYPED_ARRAY_SUPPORT=u.TYPED_ARRAY_SUPPORT!==void 0?u.TYPED_ARRAY_SUPPORT:p(),c.TYPED_ARRAY_SUPPORT?(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array):(c.prototype.length=void 0,c.prototype.parent=void 0),c.isBuffer=function(h){return!(h==null||!h._isBuffer)},c.compare=function(h,x){if(!c.isBuffer(h)||!c.isBuffer(x))throw new TypeError("Arguments must be Buffers");if(h===x)return 0;for(var U=h.length,z=x.length,J=0,ye=Math.min(U,z);J<ye&&h[J]===x[J];)++J;return J!==ye&&(U=h[J],z=x[J]),U<z?-1:z<U?1:0},c.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(h,x){if(!F(h))throw new TypeError("list argument must be an Array of Buffers.");if(h.length===0)return new c(0);var U;if(x===void 0)for(x=0,U=0;U<h.length;U++)x+=h[U].length;var z=new c(x),J=0;for(U=0;U<h.length;U++){var ye=h[U];ye.copy(z,J),J+=ye.length}return z},c.byteLength=H,c.prototype.toString=function(){var h=0|this.length;return h===0?"":arguments.length===0?re(this,0,h):S.apply(this,arguments)},c.prototype.equals=function(h){if(!c.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h||c.compare(this,h)===0},c.prototype.inspect=function(){var h="",x=o.INSPECT_MAX_BYTES;return this.length>0&&(h=this.toString("hex",0,x).match(/.{2}/g).join(" "),this.length>x&&(h+=" ... ")),"<Buffer "+h+">"},c.prototype.compare=function(h){if(!c.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?0:c.compare(this,h)},c.prototype.indexOf=function(h,x){function U(z,J,ye){for(var We=-1,Fe=0;ye+Fe<z.length;Fe++)if(z[ye+Fe]===J[We===-1?0:Fe-We]){if(We===-1&&(We=Fe),Fe-We+1===J.length)return ye+We}else We=-1;return-1}if(x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x>>=0,this.length===0||x>=this.length)return-1;if(x<0&&(x=Math.max(this.length+x,0)),typeof h=="string")return h.length===0?-1:String.prototype.indexOf.call(this,h,x);if(c.isBuffer(h))return U(this,h,x);if(typeof h=="number")return c.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,h,x):U(this,[h],x);throw new TypeError("val must be string, number or Buffer")},c.prototype.get=function(h){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(h)},c.prototype.set=function(h,x){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(h,x)},c.prototype.write=function(h,x,U,z){if(x===void 0)z="utf8",U=this.length,x=0;else if(U===void 0&&typeof x=="string")z=x,U=this.length,x=0;else if(isFinite(x))x|=0,isFinite(U)?(U|=0,z===void 0&&(z="utf8")):(z=U,U=void 0);else{var J=z;z=x,x=0|U,U=J}var ye=this.length-x;if((U===void 0||U>ye)&&(U=ye),h.length>0&&(U<0||x<0)||x>this.length)throw new RangeError("attempt to write outside buffer bounds");z||(z="utf8");for(var We=!1;;)switch(z){case"hex":return l(this,h,x,U);case"utf8":case"utf-8":return Y(this,h,x,U);case"ascii":return C(this,h,x,U);case"binary":return O(this,h,x,U);case"base64":return q(this,h,x,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,h,x,U);default:if(We)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),We=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;c.prototype.slice=function(h,x){var U=this.length;h=~~h,x=x===void 0?U:~~x,h<0?(h+=U)<0&&(h=0):h>U&&(h=U),x<0?(x+=U)<0&&(x=0):x>U&&(x=U),x<h&&(x=h);var z;if(c.TYPED_ARRAY_SUPPORT)z=c._augment(this.subarray(h,x));else{var J=x-h;z=new c(J,void 0);for(var ye=0;ye<J;ye++)z[ye]=this[ye+h]}return z.length&&(z.parent=this.parent||this),z},c.prototype.readUIntLE=function(h,x,U){h|=0,x|=0,U||ve(h,x,this.length);for(var z=this[h],J=1,ye=0;++ye<x&&(J*=256);)z+=this[h+ye]*J;return z},c.prototype.readUIntBE=function(h,x,U){h|=0,x|=0,U||ve(h,x,this.length);for(var z=this[h+--x],J=1;x>0&&(J*=256);)z+=this[h+--x]*J;return z},c.prototype.readUInt8=function(h,x){return x||ve(h,1,this.length),this[h]},c.prototype.readUInt16LE=function(h,x){return x||ve(h,2,this.length),this[h]|this[h+1]<<8},c.prototype.readUInt16BE=function(h,x){return x||ve(h,2,this.length),this[h]<<8|this[h+1]},c.prototype.readUInt32LE=function(h,x){return x||ve(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+16777216*this[h+3]},c.prototype.readUInt32BE=function(h,x){return x||ve(h,4,this.length),16777216*this[h]+(this[h+1]<<16|this[h+2]<<8|this[h+3])},c.prototype.readIntLE=function(h,x,U){h|=0,x|=0,U||ve(h,x,this.length);for(var z=this[h],J=1,ye=0;++ye<x&&(J*=256);)z+=this[h+ye]*J;return J*=128,z>=J&&(z-=Math.pow(2,8*x)),z},c.prototype.readIntBE=function(h,x,U){h|=0,x|=0,U||ve(h,x,this.length);for(var z=x,J=1,ye=this[h+--z];z>0&&(J*=256);)ye+=this[h+--z]*J;return J*=128,ye>=J&&(ye-=Math.pow(2,8*x)),ye},c.prototype.readInt8=function(h,x){return x||ve(h,1,this.length),128&this[h]?-1*(255-this[h]+1):this[h]},c.prototype.readInt16LE=function(h,x){x||ve(h,2,this.length);var U=this[h]|this[h+1]<<8;return 32768&U?4294901760|U:U},c.prototype.readInt16BE=function(h,x){x||ve(h,2,this.length);var U=this[h+1]|this[h]<<8;return 32768&U?4294901760|U:U},c.prototype.readInt32LE=function(h,x){return x||ve(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},c.prototype.readInt32BE=function(h,x){return x||ve(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},c.prototype.readFloatLE=function(h,x){return x||ve(h,4,this.length),L.read(this,h,!0,23,4)},c.prototype.readFloatBE=function(h,x){return x||ve(h,4,this.length),L.read(this,h,!1,23,4)},c.prototype.readDoubleLE=function(h,x){return x||ve(h,8,this.length),L.read(this,h,!0,52,8)},c.prototype.readDoubleBE=function(h,x){return x||ve(h,8,this.length),L.read(this,h,!1,52,8)},c.prototype.writeUIntLE=function(h,x,U,z){h=+h,x|=0,U|=0,z||fe(this,h,x,U,Math.pow(2,8*U),0);var J=1,ye=0;for(this[x]=255&h;++ye<U&&(J*=256);)this[x+ye]=h/J&255;return x+U},c.prototype.writeUIntBE=function(h,x,U,z){h=+h,x|=0,U|=0,z||fe(this,h,x,U,Math.pow(2,8*U),0);var J=U-1,ye=1;for(this[x+J]=255&h;--J>=0&&(ye*=256);)this[x+J]=h/ye&255;return x+U},c.prototype.writeUInt8=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,1,255,0),c.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),this[x]=255&h,x+1},c.prototype.writeUInt16LE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[x]=255&h,this[x+1]=h>>>8):Ee(this,h,x,!0),x+2},c.prototype.writeUInt16BE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[x]=h>>>8,this[x+1]=255&h):Ee(this,h,x,!1),x+2},c.prototype.writeUInt32LE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[x+3]=h>>>24,this[x+2]=h>>>16,this[x+1]=h>>>8,this[x]=255&h):Se(this,h,x,!0),x+4},c.prototype.writeUInt32BE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[x]=h>>>24,this[x+1]=h>>>16,this[x+2]=h>>>8,this[x+3]=255&h):Se(this,h,x,!1),x+4},c.prototype.writeIntLE=function(h,x,U,z){if(h=+h,x|=0,!z){var J=Math.pow(2,8*U-1);fe(this,h,x,U,J-1,-J)}var ye=0,We=1,Fe=h<0?1:0;for(this[x]=255&h;++ye<U&&(We*=256);)this[x+ye]=(h/We>>0)-Fe&255;return x+U},c.prototype.writeIntBE=function(h,x,U,z){if(h=+h,x|=0,!z){var J=Math.pow(2,8*U-1);fe(this,h,x,U,J-1,-J)}var ye=U-1,We=1,Fe=h<0?1:0;for(this[x+ye]=255&h;--ye>=0&&(We*=256);)this[x+ye]=(h/We>>0)-Fe&255;return x+U},c.prototype.writeInt8=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,1,127,-128),c.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),h<0&&(h=255+h+1),this[x]=255&h,x+1},c.prototype.writeInt16LE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[x]=255&h,this[x+1]=h>>>8):Ee(this,h,x,!0),x+2},c.prototype.writeInt16BE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[x]=h>>>8,this[x+1]=255&h):Ee(this,h,x,!1),x+2},c.prototype.writeInt32LE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[x]=255&h,this[x+1]=h>>>8,this[x+2]=h>>>16,this[x+3]=h>>>24):Se(this,h,x,!0),x+4},c.prototype.writeInt32BE=function(h,x,U){return h=+h,x|=0,U||fe(this,h,x,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),c.TYPED_ARRAY_SUPPORT?(this[x]=h>>>24,this[x+1]=h>>>16,this[x+2]=h>>>8,this[x+3]=255&h):Se(this,h,x,!1),x+4},c.prototype.writeFloatLE=function(h,x,U){return de(this,h,x,!0,U)},c.prototype.writeFloatBE=function(h,x,U){return de(this,h,x,!1,U)},c.prototype.writeDoubleLE=function(h,x,U){return Ae(this,h,x,!0,U)},c.prototype.writeDoubleBE=function(h,x,U){return Ae(this,h,x,!1,U)},c.prototype.copy=function(h,x,U,z){if(U||(U=0),z||z===0||(z=this.length),x>=h.length&&(x=h.length),x||(x=0),z>0&&z<U&&(z=U),z===U||h.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("sourceStart out of bounds");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),h.length-x<z-U&&(z=h.length-x+U);var J,ye=z-U;if(this===h&&U<x&&x<z)for(J=ye-1;J>=0;J--)h[J+x]=this[J+U];else if(ye<1e3||!c.TYPED_ARRAY_SUPPORT)for(J=0;J<ye;J++)h[J+x]=this[J+U];else h._set(this.subarray(U,U+ye),x);return ye},c.prototype.fill=function(h,x,U){if(h||(h=0),x||(x=0),U||(U=this.length),U<x)throw new RangeError("end < start");if(U!==x&&this.length!==0){if(x<0||x>=this.length)throw new RangeError("start out of bounds");if(U<0||U>this.length)throw new RangeError("end out of bounds");var z;if(typeof h=="number")for(z=x;z<U;z++)this[z]=h;else{var J=Ce(h.toString()),ye=J.length;for(z=x;z<U;z++)this[z]=J[z%ye]}return this}},c.prototype.toArrayBuffer=function(){if(typeof Uint8Array!="undefined"){if(c.TYPED_ARRAY_SUPPORT)return new c(this).buffer;for(var h=new Uint8Array(this.length),x=0,U=h.length;x<U;x+=1)h[x]=this[x];return h.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var he=c.prototype;c._augment=function(h){return h.constructor=c,h._isBuffer=!0,h._set=h.set,h.get=he.get,h.set=he.set,h.write=he.write,h.toString=he.toString,h.toLocaleString=he.toString,h.toJSON=he.toJSON,h.equals=he.equals,h.compare=he.compare,h.indexOf=he.indexOf,h.copy=he.copy,h.slice=he.slice,h.readUIntLE=he.readUIntLE,h.readUIntBE=he.readUIntBE,h.readUInt8=he.readUInt8,h.readUInt16LE=he.readUInt16LE,h.readUInt16BE=he.readUInt16BE,h.readUInt32LE=he.readUInt32LE,h.readUInt32BE=he.readUInt32BE,h.readIntLE=he.readIntLE,h.readIntBE=he.readIntBE,h.readInt8=he.readInt8,h.readInt16LE=he.readInt16LE,h.readInt16BE=he.readInt16BE,h.readInt32LE=he.readInt32LE,h.readInt32BE=he.readInt32BE,h.readFloatLE=he.readFloatLE,h.readFloatBE=he.readFloatBE,h.readDoubleLE=he.readDoubleLE,h.readDoubleBE=he.readDoubleBE,h.writeUInt8=he.writeUInt8,h.writeUIntLE=he.writeUIntLE,h.writeUIntBE=he.writeUIntBE,h.writeUInt16LE=he.writeUInt16LE,h.writeUInt16BE=he.writeUInt16BE,h.writeUInt32LE=he.writeUInt32LE,h.writeUInt32BE=he.writeUInt32BE,h.writeIntLE=he.writeIntLE,h.writeIntBE=he.writeIntBE,h.writeInt8=he.writeInt8,h.writeInt16LE=he.writeInt16LE,h.writeInt16BE=he.writeInt16BE,h.writeInt32LE=he.writeInt32LE,h.writeInt32BE=he.writeInt32BE,h.writeFloatLE=he.writeFloatLE,h.writeFloatBE=he.writeFloatBE,h.writeDoubleLE=he.writeDoubleLE,h.writeDoubleBE=he.writeDoubleBE,h.fill=he.fill,h.inspect=he.inspect,h.toArrayBuffer=he.toArrayBuffer,h};var we=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{14:14,24:24,6:6}],10:[function(t,d,o){var u={};u.parseBuffer=function(c){return new p(c).parse()},u.addBoxProcessor=function(c,_){typeof c=="string"&&typeof _=="function"&&(y.prototype._boxProcessors[c]=_)},u.createFile=function(){return new p},u.createBox=function(c,_,v){var E=y.create(c);return _&&_.append(E,v),E},u.createFullBox=function(c,_,v){var E=u.createBox(c,_,v);return E.version=0,E.flags=0,E},u.Utils={},u.Utils.dataViewToString=function(c,_){var v=_||"utf-8";if(typeof TextDecoder!="undefined")return new TextDecoder(v).decode(c);var E=[],m=0;if(v==="utf-8")for(;m<c.byteLength;){var w=c.getUint8(m++);w<128||(w<224?(w=(31&w)<<6,w|=63&c.getUint8(m++)):w<240?(w=(15&w)<<12,w|=(63&c.getUint8(m++))<<6,w|=63&c.getUint8(m++)):(w=(7&w)<<18,w|=(63&c.getUint8(m++))<<12,w|=(63&c.getUint8(m++))<<6,w|=63&c.getUint8(m++))),E.push(String.fromCharCode(w))}else for(;m<c.byteLength;)E.push(String.fromCharCode(c.getUint8(m++)));return E.join("")},u.Utils.utf8ToByteArray=function(c){var _,v;if(typeof TextEncoder!="undefined")_=new TextEncoder().encode(c);else for(_=[],v=0;v<c.length;++v){var E=c.charCodeAt(v);E<128?_.push(E):E<2048?(_.push(192|E>>6),_.push(128|63&E)):E<65536?(_.push(224|E>>12),_.push(128|63&E>>6),_.push(128|63&E)):(_.push(240|E>>18),_.push(128|63&E>>12),_.push(128|63&E>>6),_.push(128|63&E))}return _},u.Utils.appendBox=function(c,_,v){if(_._offset=c._cursor.offset,_._root=c._root?c._root:c,_._raw=c._raw,_._parent=c,v!==-1){if(v==null)return void c.boxes.push(_);var E,m=-1;if(typeof v=="number")m=v;else{if(typeof v=="string")E=v;else{if(typeof v!="object"||!v.type)return void c.boxes.push(_);E=v.type}for(var w=0;w<c.boxes.length;w++)if(E===c.boxes[w].type){m=w+1;break}}c.boxes.splice(m,0,_)}},o!==void 0&&(o.parseBuffer=u.parseBuffer,o.addBoxProcessor=u.addBoxProcessor,o.createFile=u.createFile,o.createBox=u.createBox,o.createFullBox=u.createFullBox,o.Utils=u.Utils),u.Cursor=function(c){this.offset=c===void 0?0:c};var p=function(c){this._cursor=new u.Cursor,this.boxes=[],c&&(this._raw=new DataView(c))};p.prototype.fetch=function(c){var _=this.fetchAll(c,!0);return _.length?_[0]:null},p.prototype.fetchAll=function(c,_){var v=[];return p._sweep.call(this,c,v,_),v},p.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var c=y.parse(this);if(c.type===void 0)break;this.boxes.push(c)}return this},p._sweep=function(c,_,v){this.type&&this.type==c&&_.push(this);for(var E in this.boxes){if(_.length&&v)return;p._sweep.call(this.boxes[E],c,_,v)}},p.prototype.write=function(){var c,_=0;for(c=0;c<this.boxes.length;c++)_+=this.boxes[c].getLength(!1);var v=new Uint8Array(_);for(this._rawo=new DataView(v.buffer),this.bytes=v,this._cursor.offset=0,c=0;c<this.boxes.length;c++)this.boxes[c].write();return v.buffer},p.prototype.append=function(c,_){u.Utils.appendBox(this,c,_)};var y=function(){this._cursor=new u.Cursor};y.parse=function(c){var _=new y;return _._offset=c._cursor.offset,_._root=c._root?c._root:c,_._raw=c._raw,_._parent=c,_._parseBox(),c._cursor.offset=_._raw.byteOffset+_._raw.byteLength,_},y.create=function(c){var _=new y;return _.type=c,_.boxes=[],_},y.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],y.prototype._boxProcessors={},y.prototype._procField=function(c,_,v){this._parsing?this[c]=this._readField(_,v):this._writeField(_,v,this[c])},y.prototype._procFieldArray=function(c,_,v,E){var m;if(this._parsing)for(this[c]=[],m=0;m<_;m++)this[c][m]=this._readField(v,E);else for(m=0;m<this[c].length;m++)this._writeField(v,E,this[c][m])},y.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},y.prototype._procEntries=function(c,_,v){var E;if(this._parsing)for(this[c]=[],E=0;E<_;E++)this[c].push({}),v.call(this,this[c][E]);else for(E=0;E<_;E++)v.call(this,this[c][E])},y.prototype._procSubEntries=function(c,_,v,E){var m;if(this._parsing)for(c[_]=[],m=0;m<v;m++)c[_].push({}),E.call(this,c[_][m]);else for(m=0;m<v;m++)E.call(this,c[_][m])},y.prototype._procEntryField=function(c,_,v,E){this._parsing?c[_]=this._readField(v,E):this._writeField(v,E,c[_])},y.prototype._procSubBoxes=function(c,_){var v;if(this._parsing)for(this[c]=[],v=0;v<_;v++)this[c].push(y.parse(this));else for(v=0;v<_;v++)this._rawo?this[c][v].write():this.size+=this[c][v].getLength()},y.prototype._readField=function(c,_){switch(c){case"uint":return this._readUint(_);case"int":return this._readInt(_);case"template":return this._readTemplate(_);case"string":return _===-1?this._readTerminatedString():this._readString(_);case"data":return this._readData(_);case"utf8":return this._readUTF8String();default:return-1}},y.prototype._readInt=function(c){var _=null,v=this._cursor.offset-this._raw.byteOffset;switch(c){case 8:_=this._raw.getInt8(v);break;case 16:_=this._raw.getInt16(v);break;case 32:_=this._raw.getInt32(v);break;case 64:var E=this._raw.getInt32(v),m=this._raw.getInt32(v+4);_=E*Math.pow(2,32)+m}return this._cursor.offset+=c>>3,_},y.prototype._readUint=function(c){var _,v,E=null,m=this._cursor.offset-this._raw.byteOffset;switch(c){case 8:E=this._raw.getUint8(m);break;case 16:E=this._raw.getUint16(m);break;case 24:_=this._raw.getUint16(m),v=this._raw.getUint8(m+2),E=(_<<8)+v;break;case 32:E=this._raw.getUint32(m);break;case 64:_=this._raw.getUint32(m),v=this._raw.getUint32(m+4),E=_*Math.pow(2,32)+v}return this._cursor.offset+=c>>3,E},y.prototype._readString=function(c){for(var _="",v=0;v<c;v++){var E=this._readUint(8);_+=String.fromCharCode(E)}return _},y.prototype._readTemplate=function(c){return this._readUint(c/2)+this._readUint(c/2)/Math.pow(2,c/2)},y.prototype._readTerminatedString=function(){for(var c="";this._cursor.offset-this._offset<this._raw.byteLength;){var _=this._readUint(8);if(_===0)break;c+=String.fromCharCode(_)}return c},y.prototype._readData=function(c){var _=c>0?c:this._raw.byteLength-(this._cursor.offset-this._offset);if(_>0){var v=new Uint8Array(this._raw.buffer,this._cursor.offset,_);return this._cursor.offset+=_,v}return null},y.prototype._readUTF8String=function(){var c=this._raw.byteLength-(this._cursor.offset-this._offset),_=null;return c>0&&(_=new DataView(this._raw.buffer,this._cursor.offset,c),this._cursor.offset+=c),_&&u.Utils.dataViewToString(_)},y.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},y.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},y.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(y.parse(this))},y.prototype.append=function(c,_){u.Utils.appendBox(this,c,_)},y.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var c=0;c<this.boxes.length;c++)this.size+=this.boxes[c].getLength();return this._data&&this._writeData(this._data),this.size},y.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var c=0;c<this.boxes.length;c++)this.boxes[c].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},y.prototype._writeInt=function(c,_){if(this._rawo){var v=this._cursor.offset-this._rawo.byteOffset;switch(c){case 8:this._rawo.setInt8(v,_);break;case 16:this._rawo.setInt16(v,_);break;case 32:this._rawo.setInt32(v,_);break;case 64:var E=Math.floor(_/Math.pow(2,32)),m=_-E*Math.pow(2,32);this._rawo.setUint32(v,E),this._rawo.setUint32(v+4,m)}this._cursor.offset+=c>>3}else this.size+=c>>3},y.prototype._writeUint=function(c,_){if(this._rawo){var v,E,m=this._cursor.offset-this._rawo.byteOffset;switch(c){case 8:this._rawo.setUint8(m,_);break;case 16:this._rawo.setUint16(m,_);break;case 24:v=(16776960&_)>>8,E=255&_,this._rawo.setUint16(m,v),this._rawo.setUint8(m+2,E);break;case 32:this._rawo.setUint32(m,_);break;case 64:v=Math.floor(_/Math.pow(2,32)),E=_-v*Math.pow(2,32),this._rawo.setUint32(m,v),this._rawo.setUint32(m+4,E)}this._cursor.offset+=c>>3}else this.size+=c>>3},y.prototype._writeString=function(c,_){for(var v=0;v<c;v++)this._writeUint(8,_.charCodeAt(v))},y.prototype._writeTerminatedString=function(c){if(c.length!==0){for(var _=0;_<c.length;_++)this._writeUint(8,c.charCodeAt(_));this._writeUint(8,0)}},y.prototype._writeTemplate=function(c,_){var v=Math.floor(_),E=(_-v)*Math.pow(2,c/2);this._writeUint(c/2,v),this._writeUint(c/2,E)},y.prototype._writeData=function(c){var _;if(c)if(this._rawo){if(c instanceof Array){for(var v=this._cursor.offset-this._rawo.byteOffset,_=0;_<c.length;_++)this._rawo.setInt8(v+_,c[_]);this._cursor.offset+=c.length}c instanceof Uint8Array&&(this._root.bytes.set(c,this._cursor.offset),this._cursor.offset+=c.length)}else this.size+=c.length},y.prototype._writeUTF8String=function(c){var _=u.Utils.utf8ToByteArray(c);if(this._rawo)for(var v=new DataView(this._rawo.buffer,this._cursor.offset,_.length),E=0;E<_.length;E++)v.setUint8(E,_[E]);else this.size+=_.length},y.prototype._writeField=function(c,_,v){switch(c){case"uint":this._writeUint(_,v);break;case"int":this._writeInt(_,v);break;case"template":this._writeTemplate(_,v);break;case"string":_==-1?this._writeTerminatedString(v):this._writeString(_,v);break;case"data":this._writeData(v);break;case"utf8":this._writeUTF8String(v)}},y.prototype._boxProcessors.avc1=y.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},y.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},y.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(c){this._procEntryField(c,"segment_duration","uint",this.version===1?64:32),this._procEntryField(c,"media_time","int",this.version===1?64:32),this._procEntryField(c,"media_rate_integer","int",16),this._procEntryField(c,"media_rate_fraction","int",16)})},y.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},y.prototype._boxProcessors.free=y.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},y.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},y.prototype._boxProcessors.ftyp=y.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var c=-1;this._parsing&&(c=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",c,"string",4)},y.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},y.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},y.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},y.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},y.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},y.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},y.prototype._boxProcessors.mp4a=y.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},y.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},y.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},y.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},y.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},y.prototype._boxProcessors.sdtp=function(){this._procFullBox();var c=-1;this._parsing&&(c=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",c,"uint",8)},y.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(c){this._parsing||(c.reference=(1&c.reference_type)<<31,c.reference|=2147483647&c.referenced_size,c.sap=(1&c.starts_with_SAP)<<31,c.sap|=(3&c.SAP_type)<<28,c.sap|=268435455&c.SAP_delta_time),this._procEntryField(c,"reference","uint",32),this._procEntryField(c,"subsegment_duration","uint",32),this._procEntryField(c,"sap","uint",32),this._parsing&&(c.reference_type=c.reference>>31&1,c.referenced_size=2147483647&c.reference,c.starts_with_SAP=c.sap>>31&1,c.SAP_type=c.sap>>28&7,c.SAP_delta_time=268435455&c.sap)})},y.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},y.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(c){this._procEntryField(c,"ranges_count","uint",32),this._procSubEntries(c,"ranges",c.ranges_count,function(_){this._procEntryField(_,"level","uint",8),this._procEntryField(_,"range_size","uint",24)})})},y.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},y.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(c){this._procEntryField(c,"sample_delta","uint",32),this._procEntryField(c,"subsample_count","uint",16),this._procSubEntries(c,"subsamples",c.subsample_count,function(_){this._procEntryField(_,"subsample_size","uint",this.version===1?32:16),this._procEntryField(_,"subsample_priority","uint",8),this._procEntryField(_,"discardable","uint",8),this._procEntryField(_,"codec_specific_parameters","uint",32)})})},y.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},y.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},y.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},y.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(c){this._procEntryField(c,"time","uint",this.version===1?64:32),this._procEntryField(c,"moof_offset","uint",this.version===1?64:32),this._procEntryField(c,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(c,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(c,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},y.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},y.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},y.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(c){256&this.flags&&this._procEntryField(c,"sample_duration","uint",32),512&this.flags&&this._procEntryField(c,"sample_size","uint",32),1024&this.flags&&this._procEntryField(c,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(c,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},y.prototype._boxProcessors["url "]=y.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},y.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},y.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},y.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},y.prototype._boxProcessors.vtte=function(){}},{}],11:[function(t,d,o){(function(u){function p(H){return Array.isArray?Array.isArray(H):W(H)==="[object Array]"}function y(H){return typeof H=="boolean"}function c(H){return H===null}function _(H){return H==null}function v(H){return typeof H=="number"}function E(H){return typeof H=="string"}function m(H){return typeof H=="symbol"}function w(H){return H===void 0}function A(H){return W(H)==="[object RegExp]"}function b(H){return typeof H=="object"&&H!==null}function D(H){return W(H)==="[object Date]"}function P(H){return W(H)==="[object Error]"||H instanceof Error}function R(H){return typeof H=="function"}function j(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||H===void 0}function W(H){return Object.prototype.toString.call(H)}o.isArray=p,o.isBoolean=y,o.isNull=c,o.isNullOrUndefined=_,o.isNumber=v,o.isString=E,o.isSymbol=m,o.isUndefined=w,o.isRegExp=A,o.isObject=b,o.isDate=D,o.isError=P,o.isFunction=R,o.isPrimitive=j,o.isBuffer=u.isBuffer}).call(this,{isBuffer:t(23)})},{23:23}],12:[function(t,d,o){function u(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function p(v){return typeof v=="function"}function y(v){return typeof v=="number"}function c(v){return typeof v=="object"&&v!==null}function _(v){return v===void 0}d.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0,u.defaultMaxListeners=10,u.prototype.setMaxListeners=function(v){if(!y(v)||v<0||isNaN(v))throw TypeError("n must be a positive number");return this._maxListeners=v,this},u.prototype.emit=function(v){var E,m,w,A,b,D;if(this._events||(this._events={}),v==="error"&&(!this._events.error||c(this._events.error)&&!this._events.error.length))throw(E=arguments[1])instanceof Error?E:TypeError('Uncaught, unspecified "error" event.');if(m=this._events[v],_(m))return!1;if(p(m))switch(arguments.length){case 1:m.call(this);break;case 2:m.call(this,arguments[1]);break;case 3:m.call(this,arguments[1],arguments[2]);break;default:for(w=arguments.length,A=new Array(w-1),b=1;b<w;b++)A[b-1]=arguments[b];m.apply(this,A)}else if(c(m)){for(w=arguments.length,A=new Array(w-1),b=1;b<w;b++)A[b-1]=arguments[b];for(D=m.slice(),w=D.length,b=0;b<w;b++)D[b].apply(this,A)}return!0},u.prototype.addListener=function(v,E){var m;if(!p(E))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",v,p(E.listener)?E.listener:E),this._events[v]?c(this._events[v])?this._events[v].push(E):this._events[v]=[this._events[v],E]:this._events[v]=E,c(this._events[v])&&!this._events[v].warned){var m;m=_(this._maxListeners)?u.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[v].length>m&&(this._events[v].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[v].length),typeof console.trace=="function"&&console.trace())}return this},u.prototype.on=u.prototype.addListener,u.prototype.once=function(v,E){function m(){this.removeListener(v,m),w||(w=!0,E.apply(this,arguments))}if(!p(E))throw TypeError("listener must be a function");var w=!1;return m.listener=E,this.on(v,m),this},u.prototype.removeListener=function(v,E){var m,w,A,b;if(!p(E))throw TypeError("listener must be a function");if(!this._events||!this._events[v])return this;if(m=this._events[v],A=m.length,w=-1,m===E||p(m.listener)&&m.listener===E)delete this._events[v],this._events.removeListener&&this.emit("removeListener",v,E);else if(c(m)){for(b=A;b-- >0;)if(m[b]===E||m[b].listener&&m[b].listener===E){w=b;break}if(w<0)return this;m.length===1?(m.length=0,delete this._events[v]):m.splice(w,1),this._events.removeListener&&this.emit("removeListener",v,E)}return this},u.prototype.removeAllListeners=function(v){var E,m;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[v]&&delete this._events[v],this;if(arguments.length===0){for(E in this._events)E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events={},this}if(m=this._events[v],p(m))this.removeListener(v,m);else for(;m.length;)this.removeListener(v,m[m.length-1]);return delete this._events[v],this},u.prototype.listeners=function(v){return this._events&&this._events[v]?p(this._events[v])?[this._events[v]]:this._events[v].slice():[]},u.listenerCount=function(v,E){return v._events&&v._events[E]?p(v._events[E])?1:v._events[E].length:0}},{}],13:[function(t,d,o){"use strict";d.exports=function u(p,y){if(p===y)return!0;var c,_=Array.isArray(p),v=Array.isArray(y);if(_&&v){if(p.length!=y.length)return!1;for(c=0;c<p.length;c++)if(!u(p[c],y[c]))return!1;return!0}if(_!=v)return!1;if(p&&y&&typeof p=="object"&&typeof y=="object"){var E=Object.keys(p);if(E.length!==Object.keys(y).length)return!1;var m=p instanceof Date,w=y instanceof Date;if(m&&w)return p.getTime()==y.getTime();if(m!=w)return!1;var A=p instanceof RegExp,b=y instanceof RegExp;if(A&&b)return p.toString()==y.toString();if(A!=b)return!1;for(c=0;c<E.length;c++)if(!Object.prototype.hasOwnProperty.call(y,E[c]))return!1;for(c=0;c<E.length;c++)if(!u(p[E[c]],y[E[c]]))return!1;return!0}return!1}},{}],14:[function(t,d,o){o.read=function(u,p,y,c,_){var v,E,m=8*_-c-1,w=(1<<m)-1,A=w>>1,b=-7,D=y?_-1:0,P=y?-1:1,R=u[p+D];for(D+=P,v=R&(1<<-b)-1,R>>=-b,b+=m;b>0;v=256*v+u[p+D],D+=P,b-=8);for(E=v&(1<<-b)-1,v>>=-b,b+=c;b>0;E=256*E+u[p+D],D+=P,b-=8);if(v===0)v=1-A;else{if(v===w)return E?NaN:1/0*(R?-1:1);E+=Math.pow(2,c),v-=A}return(R?-1:1)*E*Math.pow(2,v-c)},o.write=function(u,p,y,c,_,v){var E,m,w,A=8*v-_-1,b=(1<<A)-1,D=b>>1,P=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=c?0:v-1,j=c?1:-1,W=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(m=isNaN(p)?1:0,E=b):(E=Math.floor(Math.log(p)/Math.LN2),p*(w=Math.pow(2,-E))<1&&(E--,w*=2),p+=E+D>=1?P/w:P*Math.pow(2,1-D),p*w>=2&&(E++,w/=2),E+D>=b?(m=0,E=b):E+D>=1?(m=(p*w-1)*Math.pow(2,_),E+=D):(m=p*Math.pow(2,D-1)*Math.pow(2,_),E=0));_>=8;u[y+R]=255&m,R+=j,m/=256,_-=8);for(E=E<<_|m,A+=_;A>0;u[y+R]=255&E,R+=j,E/=256,A-=8);u[y+R-j]|=128*W}},{}],15:[function(t,d,o){(function(u,p,y,c,_){function v(ae){this.node=ae}function E(){this.events=[],this.head=null,this.body=null}function m(){this.styling=null,this.layout=null}function w(){this.styles={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function b(){this.regions={}}function D(ae){this.kind=ae,this.begin=null,this.end=null,this.styleAttrs=null,this.regionID=null,this.sets=null,this.timeContainer=null}function P(){D.call(this,"body")}function R(){D.call(this,"div")}function j(){D.call(this,"p")}function W(){D.call(this,"span"),this.space=null}function H(){D.call(this,"span"),this.space=null,this.text=null}function S(){D.call(this,"br")}function l(){this.id=null,this.begin=null,this.end=null,this.styleAttrs=null,this.sets=null}function Y(){this.begin=null,this.end=null,this.qname=null,this.value=null}function C(ae){return ae&&"xml:id"in ae.attributes&&ae.attributes["xml:id"].value||null}function O(ae){return ae&&"region"in ae.attributes?ae.attributes.region.value:""}function q(ae,me){var Ce=ae&&"timeContainer"in ae.attributes?ae.attributes.timeContainer.value:null;return Ce&&Ce!=="par"?Ce==="seq"?"seq":(de(me,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function Q(ae){return ae&&"style"in ae.attributes?ae.attributes.style.value.split(" "):[]}function pe(ae,me){var Ce={};if(ae!==null)for(var xe in ae.attributes){var ce=ae.attributes[xe].uri+" "+ae.attributes[xe].local,Pe=c.byQName[ce];if(Pe!==void 0){var N=Pe.parse(ae.attributes[xe].value);N!==null?(Ce[ce]=N,Pe===c.byName.zIndex&&V(me,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):de(me,"Cannot parse styling attribute "+ce+" --> "+ae.attributes[xe].value)}}return Ce}function re(ae,me,Ce){for(var xe in ae.attributes)if(ae.attributes[xe].uri===me&&ae.attributes[xe].local===Ce)return ae.attributes[xe].value;return null}function ue(ae,me){var Ce=re(ae,y.ns_ittp,"aspectRatio"),xe=null;if(Ce!==null){var ce=/(\d+) (\d+)/,Pe=ce.exec(Ce);if(Pe!==null){var N=parseInt(Pe[1]),Z=parseInt(Pe[2]);N!==0&&Z!==0?xe=N/Z:de(me,"Illegal aspectRatio values (ignoring)")}else de(me,"Malformed aspectRatio attribute (ignoring)")}return xe}function ee(ae,me){var Ce=re(ae,y.ns_ttp,"cellResolution"),xe=15,ce=32;if(Ce!==null){var Pe=/(\d+) (\d+)/,N=Pe.exec(Ce);N!==null?(ce=parseInt(N[1]),xe=parseInt(N[2])):V(me,"Malformed cellResolution value (using initial value instead)")}return{w:ce,h:xe}}function be(ae,me){var Ce,xe=re(ae,y.ns_ttp,"frameRate"),ce=30;xe!==null&&(Ce=/(\d+)/.exec(xe),Ce!==null?ce=parseInt(Ce[1]):V(me,"Malformed frame rate attribute (using initial value instead)"));var Pe=re(ae,y.ns_ttp,"frameRateMultiplier"),N=1;Pe!==null&&(Ce=/(\d+) (\d+)/.exec(Pe),Ce!==null?N=parseInt(Ce[1])/parseInt(Ce[2]):V(me,"Malformed frame rate multiplier attribute (using initial value instead)"));var Z=N*ce,L=1,F=re(ae,y.ns_ttp,"tickRate");return F===null?xe!==null&&(L=Z):(Ce=/(\d+)/.exec(F),Ce!==null?L=parseInt(Ce[1]):V(me,"Malformed tick rate attribute (using initial value instead)")),{effectiveFrameRate:Z,tickRate:L}}function ie(ae,me){var Ce=re(ae,y.ns_tts,"extent");if(Ce===null)return null;var xe=Ce.split(" ");if(xe.length!==2)return V(me,"Malformed extent (ignoring)"),null;var ce=_.parseLength(xe[0]),Pe=_.parseLength(xe[1]);return Pe&&ce?{h:Pe,w:ce}:(V(me,"Malformed extent values (ignoring)"),null)}function Te(ae,me,Ce){var xe,ce=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,Pe=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,N=/^(\d+(?:\.\d+)?)f$/,Z=/^(\d+(?:\.\d+)?)t$/,L=/^(\d+(?:\.\d+)?)ms$/,F=/^(\d+(?:\.\d+)?)s$/,ne=/^(\d+(?:\.\d+)?)h$/,K=/^(\d+(?:\.\d+)?)m$/,he=null;return(xe=N.exec(Ce))!==null?me!==null&&(he=parseFloat(xe[1])/me):(xe=Z.exec(Ce))!==null?ae!==null&&(he=parseFloat(xe[1])/ae):(xe=L.exec(Ce))!==null?he=parseFloat(xe[1])/1e3:(xe=F.exec(Ce))!==null?he=parseFloat(xe[1]):(xe=ne.exec(Ce))!==null?he=3600*parseFloat(xe[1]):(xe=K.exec(Ce))!==null?he=60*parseFloat(xe[1]):(xe=ce.exec(Ce))!==null?he=3600*parseInt(xe[1])+60*parseInt(xe[2])+parseFloat(xe[3]):(xe=Pe.exec(Ce))!==null&&me!==null&&(he=3600*parseInt(xe[1])+60*parseInt(xe[2])+parseInt(xe[3])+(xe[4]===null?0:parseInt(xe[4])/me)),he}function ve(ae,me,Ce,xe){var ce=me&&me.timeContainer==="seq",Pe=0;Ce&&"begin"in Ce.attributes&&(Pe=Te(ae.tickRate,ae.effectiveFrameRate,Ce.attributes.begin.value))===null&&(V(xe,"Malformed begin value "+Ce.attributes.begin.value+" (using 0)"),Pe=0);var N=ce?0:null;Ce&&"dur"in Ce.attributes&&(N=Te(ae.tickRate,ae.effectiveFrameRate,Ce.attributes.dur.value))===null&&V(xe,"Malformed dur value "+Ce.attributes.dur.value+" (ignoring)");var Z=null;Ce&&"end"in Ce.attributes&&(Z=Te(ae.tickRate,ae.effectiveFrameRate,Ce.attributes.end.value))===null&&V(xe,"Malformed end value (ignoring)");var L=0;if(me&&(L=ce&&"contents"in me&&me.contents.length>0?me.contents[me.contents.length-1].end:me.begin||0),Pe+=L,N!==null)Z=Pe+N;else{var F=me&&"end"in me?me.end:Number.POSITIVE_INFINITY;Z=Z!==null?Z+L:F}return{begin:Pe,end:Z}}function fe(ae,me,Ce){for(;me.styleRefs.length>0;){var xe=me.styleRefs.pop();xe in ae.styles?(fe(ae,ae.styles[xe],Ce),Se(ae.styles[xe].styleAttrs,me.styleAttrs)):de(Ce,"Non-existant style id referenced")}}function Ee(ae,me,Ce,xe){for(var ce=me.length-1;ce>=0;ce--){var Pe=me[ce];Pe in ae.styles?Se(ae.styles[Pe].styleAttrs,Ce):de(xe,"Non-existant style id referenced")}}function Se(ae,me){for(var Ce in ae)Ce in me||(me[Ce]=ae[Ce])}function V(ae,me){if(ae&&ae.warn&&ae.warn(me))throw me}function de(ae,me){if(ae&&ae.error&&ae.error(me))throw me}function Ae(ae,me){throw ae&&ae.fatal&&ae.fatal(me),me}function De(ae,me){for(var Ce,xe=0,ce=ae.length-1;xe<=ce;){Ce=Math.floor((xe+ce)/2);var Pe=ae[Ce];if(Pe<me)xe=Ce+1;else{if(!(Pe>me))return{found:!0,index:Ce};ce=Ce-1}}return{found:!1,index:xe}}u.fromXML=function(ae,me,Ce){var xe=p.parser(!0,{xmlns:!0}),ce=[],Pe=[],N=[],Z=0,L=null;xe.onclosetag=function(he){if(ce[0]instanceof w)for(var we in ce[0].styles)fe(ce[0],ce[0].styles[we],me);else if(ce[0]instanceof j||ce[0]instanceof W){if(ce[0].contents.length>1){var h,x=[ce[0].contents[0]];for(h=1;h<ce[0].contents.length;h++)ce[0].contents[h]instanceof H&&x[x.length-1]instanceof H?x[x.length-1].text+=ce[0].contents[h].text:x.push(ce[0].contents[h]);ce[0].contents=x}ce[0]instanceof W&&ce[0].contents.length===1&&ce[0].contents[0]instanceof H&&ce[0].text===null&&(ce[0].text=ce[0].contents[0].text,delete ce[0].contents)}else ce[0]instanceof v&&(ce[0].node.uri===y.ns_tt&&ce[0].node.local==="metadata"?Z--:Z>0&&Ce&&"onCloseTag"in Ce&&Ce.onCloseTag());N.shift(),Pe.shift(),ce.shift()},xe.ontext=function(he){if(ce[0]!==void 0)if(ce[0]instanceof W||ce[0]instanceof j){var we=new H;we.initFromText(L,ce[0],he,N[0],me),ce[0].contents.push(we)}else ce[0]instanceof v&&Z>0&&Ce&&"onText"in Ce&&Ce.onText(he)},xe.onopentag=function(he){var we=he.attributes["xml:space"];we?N.unshift(we.value):N.length===0?N.unshift("default"):N.unshift(N[0]);var h=he.attributes["xml:lang"];if(h?Pe.unshift(h.value):Pe.length===0?Pe.unshift(""):Pe.unshift(Pe[0]),he.uri===y.ns_tt)if(he.local==="tt")L!==null&&Ae("Two <tt> elements at ("+this.line+","+this.column+")"),L=new E,L.initFromNode(he,me),ce.unshift(L);else if(he.local==="head")ce[0]instanceof E||Ae("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),L.head!==null&&Ae("Second <head> element at ("+this.line+","+this.column+")"),L.head=new m,ce.unshift(L.head);else if(he.local==="styling")ce[0]instanceof m||Ae("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),L.head.styling!==null&&Ae("Second <styling> element at ("+this.line+","+this.column+")"),L.head.styling=new w,ce.unshift(L.head.styling);else if(he.local==="style"){var x;ce[0]instanceof w?(x=new A,x.initFromNode(he,me),x.id?L.head.styling.styles[x.id]=x:de("<style> element missing @id attribute"),ce.unshift(x)):ce[0]instanceof l?(x=new A,x.initFromNode(he,me),Se(x.styleAttrs,ce[0].styleAttrs),ce.unshift(x)):Ae(me,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(he.local==="layout")ce[0]instanceof m||Ae(me,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),L.head.layout!==null&&Ae(me,"Second <layout> element at "+this.line+","+this.column+")"),L.head.layout=new b,ce.unshift(L.head.layout);else if(he.local==="region"){ce[0]instanceof b||Ae(me,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var U=new l;U.initFromNode(L,he,me),!U.id||U.id in L.head.layout.regions?de(me,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(L.head.layout.regions[U.id]=U,L._registerEvent(U)),ce.unshift(U)}else if(he.local==="body"){ce[0]instanceof E||Ae(me,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),L.body!==null&&Ae(me,"Second <body> element at "+this.line+","+this.column+")");var z=new P;z.initFromNode(L,he,me),L._registerEvent(z),L.body=z,ce.unshift(z)}else if(he.local==="div"){ce[0]instanceof R||ce[0]instanceof P||Ae(me,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var J=new R;J.initFromNode(L,ce[0],he,me),L._registerEvent(J),ce[0].contents.push(J),ce.unshift(J)}else if(he.local==="p"){ce[0]instanceof R||Ae(me,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var ye=new j;ye.initFromNode(L,ce[0],he,me),L._registerEvent(ye),ce[0].contents.push(ye),ce.unshift(ye)}else if(he.local==="span"){ce[0]instanceof W||ce[0]instanceof j||Ae(me,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var We=new W;We.initFromNode(L,ce[0],he,N[0],me),L._registerEvent(We),ce[0].contents.push(We),ce.unshift(We)}else if(he.local==="br"){ce[0]instanceof W||ce[0]instanceof j||Ae(me,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Fe=new S;Fe.initFromNode(L,ce[0],he,me),L._registerEvent(Fe),ce[0].contents.push(Fe),ce.unshift(Fe)}else if(he.local==="set"){ce[0]instanceof W||ce[0]instanceof j||ce[0]instanceof R||ce[0]instanceof P||ce[0]instanceof l||ce[0]instanceof S||Ae(me,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var qe=new Y;qe.initFromNode(L,ce[0],he,me),L._registerEvent(qe),ce[0].sets.push(qe),ce.unshift(qe)}else ce.unshift(new v(he));else ce.unshift(new v(he));if(ce[0]instanceof v){if(he.uri===y.ns_tt&&he.local==="metadata")Z++;else if(Z>0&&Ce&&"onOpenTag"in Ce){var Ye=[];for(var Xe in he.attributes)Ye[he.attributes[Xe].uri+" "+he.attributes[Xe].local]={uri:he.attributes[Xe].uri,local:he.attributes[Xe].local,value:he.attributes[Xe].value};Ce.onOpenTag(he.uri,he.local,Ye)}}},xe.write(ae).close(),L.head!==null?delete L.head.styling:L.head=new m,L.head.layout===null&&(L.head.layout=new b);var F=!1;for(var ne in L.head.layout.regions){F=!0;break}if(!F){var K=l.createDefaultRegion();L.head.layout.regions[K.id]=K}return L},E.prototype.initFromNode=function(ae,me){this.cellResolution=ee(ae,me);var Ce=be(ae,me);this.effectiveFrameRate=Ce.effectiveFrameRate,this.tickRate=Ce.tickRate,this.aspectRatio=ue(ae,me);var xe=re(ae,y.ns_ttp,"timeBase");xe!==null&&xe!=="media"&&Ae(me,"Unsupported time base");var ce=ie(ae,me);ce===null?this.pxDimensions={h:480,w:640}:(ce.h.unit==="px"&&ce.w.unit==="px"||Ae(me,"Extent on TT must be in px or absent"),this.pxDimensions={h:ce.h.value,w:ce.w.value})},E.prototype._registerEvent=function(ae){if(!(ae.end<=ae.begin)){var me=De(this.events,ae.begin);if(me.found||this.events.splice(me.index,0,ae.begin),ae.end!==Number.POSITIVE_INFINITY){var Ce=De(this.events,ae.end);Ce.found||this.events.splice(Ce.index,0,ae.end)}}},E.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},E.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function(ae,me){this.id=C(ae),this.styleAttrs=pe(ae,me),this.styleRefs=Q(ae)},D.prototype.initFromNode=function(ae,me,Ce,xe){var ce=ve(ae,me,Ce,xe);this.begin=ce.begin,this.end=ce.end,this.styleAttrs=pe(Ce,xe),ae.head!==null&&ae.head.styling!==null&&Ee(ae.head.styling,Q(Ce),this.styleAttrs,xe),this.regionID=O(Ce),this.sets=[],this.timeContainer=q(Ce,xe)},P.prototype.initFromNode=function(ae,me,Ce){D.prototype.initFromNode.call(this,ae,null,me,Ce),this.contents=[]},R.prototype.initFromNode=function(ae,me,Ce,xe){D.prototype.initFromNode.call(this,ae,me,Ce,xe),this.contents=[]},j.prototype.initFromNode=function(ae,me,Ce,xe){D.prototype.initFromNode.call(this,ae,me,Ce,xe),this.contents=[]},W.prototype.initFromNode=function(ae,me,Ce,xe,ce){D.prototype.initFromNode.call(this,ae,me,Ce,ce),this.space=xe,this.contents=[]},H.prototype.initFromText=function(ae,me,Ce,xe,ce){D.prototype.initFromNode.call(this,ae,me,null,ce),this.text=Ce,this.space=xe},S.prototype.initFromNode=function(ae,me,Ce,xe){D.prototype.initFromNode.call(this,ae,me,Ce,xe)},l.createDefaultRegion=function(){var ae=new l;return ae.id="",ae.begin=0,ae.end=Number.POSITIVE_INFINITY,ae.styleAttrs={},ae.sets=[],ae},l.prototype.initFromNode=function(ae,me,Ce){this.id=C(me);var xe=ve(ae,null,me,Ce);this.begin=xe.begin,this.end=xe.end,this.styleAttrs=pe(me,Ce),this.sets=[],ae.head!==null&&ae.head.styling!==null&&Ee(ae.head.styling,Q(me),this.styleAttrs,Ce)},Y.prototype.initFromNode=function(ae,me,Ce,xe){var ce=ve(ae,me,Ce,xe);this.begin=ce.begin,this.end=ce.end;var Pe=pe(Ce,xe);for(var N in Pe){if(this.qname){de(xe,"More than one style specified on set");break}this.qname=N,this.value=Pe[N]}}})(o===void 0?this.imscDoc={}:o,typeof sax=="undefined"?t(42):sax,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles,typeof imscUtils=="undefined"?t(21):imscUtils)},{19:19,20:20,21:21,42:42}],16:[function(t,d,o){(function(u,p,y){function c(S,l,Y){var C;if(Y.kind==="region"?(C=document.createElement("div"),C.style.position="absolute"):Y.kind==="body"||Y.kind==="div"?C=document.createElement("div"):Y.kind==="p"?C=document.createElement("p"):Y.kind==="span"?C=document.createElement("span"):Y.kind==="br"&&(C=document.createElement("br")),!C)return void R(S.errorHandler,"Error processing ISD element kind: "+Y.kind);C.style.margin="0";for(var O in j){var q=j[O],Q=Y.styleAttrs[q.qname];Q!==void 0&&q.map!==null&&q.map(S,C,Y,Q)}var pe=C,re=Y.styleAttrs[y.byName.multiRowAlign.qname];if(re&&re!=="auto"){var ue=document.createElement("span");ue.style.display="inline-block",ue.style.textAlign=re,C.appendChild(ue),pe=ue,S.mra=re}var ee=Y.styleAttrs[y.byName.linePadding.qname];if(ee&&ee>0&&(S.lp=ee),Y.kind==="span"&&Y.text)if(S.lp||S.mra)for(var be=0;be<Y.text.length;be++){var ie=document.createElement("span");ie.textContent=Y.text.charAt(be),C.appendChild(ie)}else C.textContent=Y.text;l.appendChild(C);for(var Te in Y.contents)c(S,pe,Y.contents[Te]);if((S.lp||S.mra)&&Y.kind==="p"){var ve=[];v(pe,ve,"red"),w(ve,S.lp*S.h),S.lp&&delete S.lp,S.mra&&delete S.mra}if(Y.kind==="region"){var fe=[];E(pe,fe);var Ee=Y.styleAttrs[y.byName.writingMode.qname];if((Ee==="lrtb"||Ee==="lr"||Ee==="rltb"||Ee==="rl")&&S.enableRollUp&&Y.contents.length>0&&Y.styleAttrs[y.byName.displayAlign.qname]==="after"){var Se=Y.id===""?"_":Y.id,V=new _(Se,fe);if(S.currentISDState[V.id]=V,S.previousISDState&&V.id in S.previousISDState&&S.previousISDState[V.id].plist.length>0&&V.plist.length>1&&V.plist[V.plist.length-2].text===S.previousISDState[V.id].plist[S.previousISDState[V.id].plist.length-1].text){var de=C.firstElementChild;de.style.bottom="-"+V.plist[V.plist.length-1].height+"px",de.style.transition="transform 0.4s",de.style.position="relative",de.style.transform="translateY(-"+V.plist[V.plist.length-1].height+"px)"}}}}function _(S,l){this.id=S,this.plist=l}function v(S,l,Y){if(S.childElementCount===0)l.push({element:S,bgcolor:Y});else for(var C=S.style.backgroundColor||Y,O=S.firstChild;O;)O.nodeType===Node.ELEMENT_NODE&&v(O,l,C),O=O.nextSibling}function E(S,l){if(S.childElementCount===0&&S.localName==="span"){var Y=S.getBoundingClientRect();l.length!==0&&m(Y.top,Y.height,l[l.length-1].top,l[l.length-1].height)?(Y.top<l[l.length-1].top&&(l[l.length-1].top=Y.top),Y.height>l[l.length-1].height&&(l[l.length-1].height=Y.height),l[l.length-1].text+=S.textContent):l.push({top:Y.top,height:Y.height,text:S.textContent})}else for(var C=S.firstChild;C;)C.nodeType===Node.ELEMENT_NODE&&E(C,l),C=C.nextSibling}function m(S,l,Y,C){return S+l<Y+C&&S>Y||Y+C<=S+l&&Y>=S}function w(S,l){for(var Y=null,C=!0,O=!1,q=0;q<=S.length;q++)if(q===S.length||S[q].element.localName!=="br"){if(Y===null||q===S.length||!m(S[q].element.getBoundingClientRect().top,S[q].element.getBoundingClientRect().height,S[Y].element.getBoundingClientRect().top,S[Y].element.getBoundingClientRect().height)){if(l&&!C){for(;--q>=0;)if(S[q].element.getBoundingClientRect().width!==0){if(b(S[q].element,S[q].color,l),S[q].element.getBoundingClientRect().width!==0&&m(S[q].element.getBoundingClientRect().top,S[q].element.getBoundingClientRect().height,S[Y].element.getBoundingClientRect().top,S[Y].element.getBoundingClientRect().height))break;D(S[q].element)}C=!0;continue}if(q!==S.length&&Y!==null&&!O){var Q=document.createElement("br");S[q].element.parentElement.insertBefore(Q,S[q].element),S.splice(q,0,{element:Q}),O=!0;continue}if(q!==S.length&&l){for(;q<S.length;q++)if(S[q].element.getBoundingClientRect().width!==0){A(S[q].element,S[q].color,l);break}}C=!1,O=!1,Y=q}}else O=!0}function A(S,l,Y){S.style.paddingLeft=Y+"px",S.style.backgroundColor=l}function b(S,l,Y){S.style.paddingRight=Y+"px",S.style.backgroundColor=l}function D(S){S.style.paddingRight=null}function P(S,l){this.qname=S,this.map=l}function R(S,l){if(S&&S.error&&S.error(l))throw l}u.render=function(S,l,Y,C,O,q,Q,pe,re){var ue=C||l.clientHeight,ee=O||l.clientWidth;if(S.aspectRatio!==null){var be=ue*S.aspectRatio;be>ee?ue=Math.round(ee/S.aspectRatio):ee=be}var ie=document.createElement("div");ie.style.position="relative",ie.style.width=ee+"px",ie.style.height=ue+"px",ie.style.margin="auto",ie.style.top=0,ie.style.bottom=0,ie.style.left=0,ie.style.right=0,ie.style.zIndex=0;var Te={h:ue,w:ee,regionH:null,regionW:null,imgResolver:Y,displayForcedOnlyMode:q||!1,isd:S,errorHandler:Q,previousISDState:pe,enableRollUp:re||!1,currentISDState:{}};l.appendChild(ie);for(var ve in S.contents)c(Te,ie,S.contents[ve]);return Te.currentISDState};var j=[new P("http://www.w3.org/ns/ttml#styling backgroundColor",function(S,l,Y,C){l.style.backgroundColor="rgba("+C[0].toString()+","+C[1].toString()+","+C[2].toString()+","+(C[3]/255).toString()+")"}),new P("http://www.w3.org/ns/ttml#styling color",function(S,l,Y,C){l.style.color="rgba("+C[0].toString()+","+C[1].toString()+","+C[2].toString()+","+(C[3]/255).toString()+")"}),new P("http://www.w3.org/ns/ttml#styling direction",function(S,l,Y,C){l.style.direction=C}),new P("http://www.w3.org/ns/ttml#styling display",function(S,l,Y,C){}),new P("http://www.w3.org/ns/ttml#styling displayAlign",function(S,l,Y,C){l.style.display="flex",l.style.flexDirection="column",C==="before"?l.style.justifyContent="flex-start":C==="center"?l.style.justifyContent="center":C==="after"&&(l.style.justifyContent="flex-end")}),new P("http://www.w3.org/ns/ttml#styling extent",function(S,l,Y,C){S.regionH=C.h*S.h,S.regionW=C.w*S.w;var O=0,q=0,Q=Y.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Q&&(O=(Q[0]+Q[2])*S.h,q=(Q[1]+Q[3])*S.w),l.style.height=S.regionH-O+"px",l.style.width=S.regionW-q+"px"}),new P("http://www.w3.org/ns/ttml#styling fontFamily",function(S,l,Y,C){var O=[];for(var q in C)C[q]==="monospaceSerif"?(O.push("Courier New"),O.push('"Liberation Mono"'),O.push("Courier"),O.push("monospace")):C[q]==="proportionalSansSerif"?(O.push("Arial"),O.push("Helvetica"),O.push('"Liberation Sans"'),O.push("sans-serif")):C[q]==="monospace"?O.push("monospace"):C[q]==="sansSerif"?O.push("sans-serif"):C[q]==="serif"?O.push("serif"):C[q]==="monospaceSansSerif"?(O.push("Consolas"),O.push("monospace")):C[q]==="proportionalSerif"?O.push("serif"):O.push(C[q]);l.style.fontFamily=O.join(",")}),new P("http://www.w3.org/ns/ttml#styling fontSize",function(S,l,Y,C){l.style.fontSize=C*S.h+"px"}),new P("http://www.w3.org/ns/ttml#styling fontStyle",function(S,l,Y,C){l.style.fontStyle=C}),new P("http://www.w3.org/ns/ttml#styling fontWeight",function(S,l,Y,C){l.style.fontWeight=C}),new P("http://www.w3.org/ns/ttml#styling lineHeight",function(S,l,Y,C){l.style.lineHeight=C==="normal"?"normal":C*S.h+"px"}),new P("http://www.w3.org/ns/ttml#styling opacity",function(S,l,Y,C){l.style.opacity=C}),new P("http://www.w3.org/ns/ttml#styling origin",function(S,l,Y,C){l.style.top=C.h*S.h+"px",l.style.left=C.w*S.w+"px"}),new P("http://www.w3.org/ns/ttml#styling overflow",function(S,l,Y,C){l.style.overflow=C}),new P("http://www.w3.org/ns/ttml#styling padding",function(S,l,Y,C){var O=[];O[0]=C[0]*S.h+"px",O[1]=C[3]*S.w+"px",O[2]=C[2]*S.h+"px",O[3]=C[1]*S.w+"px",l.style.padding=O.join(" ")}),new P("http://www.w3.org/ns/ttml#styling showBackground",null),new P("http://www.w3.org/ns/ttml#styling textAlign",function(S,l,Y,C){var O,q=Y.styleAttrs[y.byName.direction.qname];O=C==="start"?q==="rtl"?"right":"left":C==="end"?q==="rtl"?"left":"right":C,l.style.textAlign=O}),new P("http://www.w3.org/ns/ttml#styling textDecoration",function(S,l,Y,C){l.style.textDecoration=C.join(" ").replace("lineThrough","line-through")}),new P("http://www.w3.org/ns/ttml#styling textOutline",function(S,l,Y,C){l.style.textShadow=C==="none"?"":"rgba("+C.color[0].toString()+","+C.color[1].toString()+","+C.color[2].toString()+","+(C.color[3]/255).toString()+") 0px 0px "+C.thickness*S.h+"px"}),new P("http://www.w3.org/ns/ttml#styling unicodeBidi",function(S,l,Y,C){var O;O=C==="bidiOverride"?"bidi-override":C,l.style.unicodeBidi=O}),new P("http://www.w3.org/ns/ttml#styling visibility",function(S,l,Y,C){l.style.visibility=C}),new P("http://www.w3.org/ns/ttml#styling wrapOption",function(S,l,Y,C){C==="wrap"?Y.space==="preserve"?l.style.whiteSpace="pre-wrap":l.style.whiteSpace="normal":Y.space==="preserve"?l.style.whiteSpace="pre":l.style.whiteSpace="noWrap"}),new P("http://www.w3.org/ns/ttml#styling writingMode",function(S,l,Y,C){C==="lrtb"||C==="lr"||C==="rltb"||C==="rl"?l.style.writingMode="horizontal-tb":C==="tblr"?l.style.writingMode="vertical-lr":C!=="tbrl"&&C!=="tb"||(l.style.writingMode="vertical-rl")}),new P("http://www.w3.org/ns/ttml#styling zIndex",function(S,l,Y,C){l.style.zIndex=C}),new P("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(S,l,Y,C){if(S.imgResolver!==null&&C!==null){var O=document.createElement("img"),q=S.imgResolver(C,O);q&&(O.src=q),O.height=S.regionH,O.width=S.regionW,l.appendChild(O)}}),new P("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(S,l,Y,C){S.displayForcedOnlyMode&&C===!1&&(l.style.visibility="hidden")})],W={};for(var H in j)W[j[H].qname]=j[H]})(o===void 0?this.imscHTML={}:o,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles)},{19:19,20:20}],17:[function(t,d,o){(function(u,p,y){function c(A,b,D,P,R,j,W,H){if(b<W.begin||b>=W.end)return null;var S="regionID"in W&&W.regionID!==""?W.regionID:j;if(R!==null&&S!==D.id&&(!("contents"in W)||"contents"in W&&W.contents.length===0||S!==""))return null;var l=new m(W);for(var Y in W.sets)b<W.sets[Y].begin||b>=W.sets[Y].end||(l.styleAttrs[W.sets[Y].qname]=W.sets[Y].value);var C={};for(var O in l.styleAttrs)if(C[O]=!0,O===y.byName.writingMode.qname&&!(y.byName.direction.qname in l.styleAttrs)){var q=l.styleAttrs[O];q==="lrtb"||q==="lr"?l.styleAttrs[y.byName.direction.qname]="ltr":q!=="rltb"&&q!=="rl"||(l.styleAttrs[y.byName.direction.qname]="rtl")}if(R!==null)for(var Q in y.all){var pe=y.all[Q];if(pe.qname===y.byName.textDecoration.qname){var re=R.styleAttrs[pe.qname],ue=l.styleAttrs[pe.qname],ee=[];ue===void 0?ee=re:ue.indexOf("none")===-1?((ue.indexOf("noUnderline")===-1&&re.indexOf("underline")!==-1||ue.indexOf("underline")!==-1)&&ee.push("underline"),(ue.indexOf("noLineThrough")===-1&&re.indexOf("lineThrough")!==-1||ue.indexOf("lineThrough")!==-1)&&ee.push("lineThrough"),(ue.indexOf("noOverline")===-1&&re.indexOf("overline")!==-1||ue.indexOf("overline")!==-1)&&ee.push("overline")):ee.push("none"),l.styleAttrs[pe.qname]=ee}else pe.inherit&&pe.qname in R.styleAttrs&&!(pe.qname in l.styleAttrs)&&(l.styleAttrs[pe.qname]=R.styleAttrs[pe.qname])}for(var be in y.all){var ie=y.all[be];ie.qname in l.styleAttrs||(l.kind==="region"||ie.inherit===!1&&ie.initial!==null)&&(l.styleAttrs[ie.qname]=ie.parse(ie.initial),C[ie.qname]=!0)}for(var Te in y.all){var ve=y.all[Te];if(ve.qname in C&&ve.compute!==null){var fe=ve.compute(A,R,l,l.styleAttrs[ve.qname]);fe!==null?l.styleAttrs[ve.qname]=fe:w(H,"Style '"+ve.qname+"' on element '"+l.kind+"' cannot be computed")}}if(l.styleAttrs[y.byName.display.qname]==="none")return null;var Ee;R===null?Ee=P===null?[]:[P]:"contents"in W&&(Ee=W.contents);for(var Se in Ee){var V=c(A,b,D,P,l,S,Ee[Se]);V!==null&&l.contents.push(V.element)}for(var de in l.styleAttrs)y.byQName[de].applies.indexOf(l.kind)===-1&&delete l.styleAttrs[de];if(l.kind==="span"&&l.text&&l.space==="default"){var Ae=l.text.replace(/\s+/g," ");l.text=Ae}if(l.kind==="p"){var De=[];_(l,De);for(var ae=0,me="after_br",Ce=0;;)if(me==="after_br")ae>=De.length||De[ae].kind==="br"?(me="before_br",Ce=ae,ae--):(De[ae].space!=="preserve"&&(De[ae].text=De[ae].text.replace(/^\s+/g,"")),De[ae].text.length>0?(me="looking_br",ae++):De.splice(ae,1));else if(me==="before_br")if(ae<0||De[ae].kind==="br"){if(me="after_br",(ae=Ce+1)>=De.length)break}else if(De[ae].space!=="preserve"&&(De[ae].text=De[ae].text.replace(/\s+$/g,"")),De[ae].text.length>0){if(me="after_br",(ae=Ce+1)>=De.length)break}else De.splice(ae,1),ae--;else ae>=De.length||De[ae].kind==="br"?(me="before_br",Ce=ae,ae--):ae++;v(l)}return l.kind==="div"&&y.byName.backgroundImage.qname in l.styleAttrs||l.kind==="br"||"contents"in l&&l.contents.length>0||l.kind==="span"&&l.text!==null||l.kind==="region"&&l.styleAttrs[y.byName.showBackground.qname]==="always"?{region_id:S,element:l}:null}function _(A,b){if("contents"in A)for(var D in A.contents)_(A.contents[D],b);else b.push(A)}function v(A){if(A.kind==="br")return!1;if("text"in A)return A.text.length===0;if("contents"in A){for(var b=A.contents.length;b--;)v(A.contents[b])&&A.contents.splice(b,1);return A.contents.length===0}}function E(A){this.contents=[],this.aspectRatio=A.aspectRatio}function m(A){this.kind=A.kind||"region",A.id&&(this.id=A.id),this.styleAttrs={};for(var b in A.styleAttrs)this.styleAttrs[b]=A.styleAttrs[b];"text"in A?this.text=A.text:A.kind!=="br"&&(this.contents=[]),"space"in A&&(this.space=A.space)}function w(A,b){if(A&&A.error&&A.error(b))throw b}u.generateISD=function(A,b,D){var P=new E(A);for(var R in A.head.layout.regions){var j=c(A,b,A.head.layout.regions[R],A.body,null,"",A.head.layout.regions[R],D);j!==null&&P.contents.push(j.element)}return P}})(o===void 0?this.imscISD={}:o,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles)},{19:19,20:20}],18:[function(t,d,o){o.generateISD=t(17).generateISD,o.fromXML=t(15).fromXML,o.renderHTML=t(16).render},{15:15,16:16,17:17}],19:[function(t,d,o){(function(u){u.ns_tt="http://www.w3.org/ns/ttml",u.ns_tts="http://www.w3.org/ns/ttml#styling",u.ns_ttp="http://www.w3.org/ns/ttml#parameter",u.ns_xml="http://www.w3.org/XML/1998/namespace",u.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",u.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",u.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",u.ns_ebutts="urn:ebu:tt:style"})(o===void 0?this.imscNames={}:o)},{}],20:[function(t,d,o){(function(u,p,y){function c(E,m,w,A,b,D,P,R){this.name=m,this.ns=E,this.qname=E+" "+m,this.inherit=b,this.animatable=D,this.initial=w,this.applies=A,this.parse=P,this.compute=R}u.all=[new c(p.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,y.parseColor,null),new c(p.ns_tts,"color","white",["span"],!0,!0,y.parseColor,null),new c(p.ns_tts,"direction","ltr",["p","span"],!0,!0,function(E){return E},null),new c(p.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(E){return E},null),new c(p.ns_tts,"displayAlign","before",["region"],!1,!0,function(E){return E},null),new c(p.ns_tts,"extent","auto",["tt","region"],!1,!0,function(E){if(E==="auto")return E;var m=E.split(" ");if(m.length!==2)return null;var w=y.parseLength(m[0]),A=y.parseLength(m[1]);return A&&w?{h:A,w}:null},function(E,m,w,A){var b,D;if(A==="auto")b=1;else if(A.h.unit==="%")b=A.h.value/100;else{if(A.h.unit!=="px")return null;b=A.h.value/E.pxDimensions.h}if(A==="auto")D=1;else if(A.w.unit==="%")D=A.w.value/100;else{if(A.w.unit!=="px")return null;D=A.w.value/E.pxDimensions.w}return{h:b,w:D}}),new c(p.ns_tts,"fontFamily","default",["span"],!0,!0,function(E){var m=E.split(","),w=[];for(var A in m)m[A].charAt(0)!=="'"&&m[A].charAt(0)!=='"'&&m[A]==="default"?w.push("monospaceSerif"):w.push(m[A]);return w},null),new c(p.ns_tts,"fontSize","1c",["span"],!0,!0,y.parseLength,function(E,m,w,A){var b;if(A.unit==="%")b=m!==null?m.styleAttrs[u.byName.fontSize.qname]*A.value/100:A.value/100/E.cellResolution.h;else if(A.unit==="em")b=m!==null?m.styleAttrs[u.byName.fontSize.qname]*A.value:A.value/E.cellResolution.h;else if(A.unit==="c")b=A.value/E.cellResolution.h;else{if(A.unit!=="px")return null;b=A.value/E.pxDimensions.h}return b}),new c(p.ns_tts,"fontStyle","normal",["span"],!0,!0,function(E){return E},null),new c(p.ns_tts,"fontWeight","normal",["span"],!0,!0,function(E){return E},null),new c(p.ns_tts,"lineHeight","normal",["p"],!0,!0,function(E){return E==="normal"?E:y.parseLength(E)},function(E,m,w,A){var b;if(A==="normal")b=A;else if(A.unit==="%")b=w.styleAttrs[u.byName.fontSize.qname]*A.value/100;else if(A.unit==="em")b=w.styleAttrs[u.byName.fontSize.qname]*A.value;else if(A.unit==="c")b=A.value/E.cellResolution.h;else{if(A.unit!=="px")return null;b=A.value/E.pxDimensions.h}return b}),new c(p.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new c(p.ns_tts,"origin","auto",["region"],!1,!0,function(E){if(E==="auto")return E;var m=E.split(" ");if(m.length!==2)return null;var w=y.parseLength(m[0]),A=y.parseLength(m[1]);return A&&w?{h:A,w}:null},function(E,m,w,A){var b,D;if(A==="auto")b=0;else if(A.h.unit==="%")b=A.h.value/100;else{if(A.h.unit!=="px")return null;b=A.h.value/E.pxDimensions.h}if(A==="auto")D=0;else if(A.w.unit==="%")D=A.w.value/100;else{if(A.w.unit!=="px")return null;D=A.w.value/E.pxDimensions.w}return{h:b,w:D}}),new c(p.ns_tts,"overflow","hidden",["region"],!1,!0,function(E){return E},null),new c(p.ns_tts,"padding","0px",["region"],!1,!0,function(E){var m=E.split(" ");if(m.length>4)return null;var w=[];for(var A in m){var b=y.parseLength(m[A]);if(!b)return null;w.push(b)}return w},function(E,m,w,A){var b;if(A.length===1)b=[A[0],A[0],A[0],A[0]];else if(A.length===2)b=[A[0],A[1],A[0],A[1]];else if(A.length===3)b=[A[0],A[1],A[2],A[1]];else{if(A.length!==4)return null;b=[A[0],A[1],A[2],A[3]]}var D=w.styleAttrs[u.byName.writingMode.qname];if(D==="lrtb"||D==="lr")b=[b[0],b[3],b[2],b[1]];else if(D==="rltb"||D==="rl")b=[b[0],b[1],b[2],b[3]];else if(D==="tblr")b=[b[3],b[0],b[1],b[2]];else{if(D!=="tbrl"&&D!=="tb")return null;b=[b[3],b[2],b[1],b[0]]}var P=[];for(var R in b)if(b[R].value===0)P[R]=0;else if(b[R].unit==="%")P[R]=R==="0"||R==="2"?w.styleAttrs[u.byName.extent.qname].h*b[R].value/100:w.styleAttrs[u.byName.extent.qname].w*b[R].value/100;else if(b[R].unit==="em")P[R]=w.styleAttrs[u.byName.fontSize.qname]*b[R].value;else if(b[R].unit==="c")P[R]=b[R].value/E.cellResolution.h;else{if(b[R].unit!=="px")return null;P[R]=b[R].value/E.pxDimensions.h}return P}),new c(p.ns_tts,"showBackground","always",["region"],!1,!0,function(E){return E},null),new c(p.ns_tts,"textAlign","start",["p"],!0,!0,function(E){return E},function(E,m,w,A){return A==="left"?"start":A==="right"?"end":A}),new c(p.ns_tts,"textDecoration","none",["span"],!0,!0,function(E){return E.split(" ")},null),new c(p.ns_tts,"textOutline","none",["span"],!0,!0,function(E){if(E==="none")return E;var m={},w=E.split(" ");if(w.length===0||w.length>2)return null;var A=y.parseColor(w[0]);if(m.color=A,A!==null&&w.shift(),w.length!==1)return null;var b=y.parseLength(w[0]);return b?(m.thickness=b,m):null},function(E,m,w,A){if(A==="none")return A;var b={};if(A.color===null?b.color=w.styleAttrs[u.byName.color.qname]:b.color=A.color,A.thickness.unit==="%")b.thickness=w.styleAttrs[u.byName.fontSize.qname]*A.thickness.value/100;else if(A.thickness.unit==="em")b.thickness=w.styleAttrs[u.byName.fontSize.qname]*A.thickness.value;else if(A.thickness.unit==="c")b.thickness=A.thickness.value/E.cellResolution.h;else{if(A.thickness.unit!=="px")return null;b.thickness=A.thickness.value/E.pxDimensions.h}return b}),new c(p.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(E){return E},null),new c(p.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(E){return E},null),new c(p.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(E){return E},null),new c(p.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(E){return E},null),new c(p.ns_tts,"zIndex","auto",["region"],!1,!0,function(E){var m;return E==="auto"?m=E:(m=parseInt(E),isNaN(m)&&(m=null)),m},null),new c(p.ns_ebutts,"linePadding","0c",["p"],!0,!1,y.parseLength,function(E,m,w,A){return A.unit==="c"?A.value/E.cellResolution.h:null}),new c(p.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(E){return E},null),new c(p.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(E){return E},null),new c(p.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(E){return E==="true"},null)],u.byQName={};for(var _ in u.all)u.byQName[u.all[_].qname]=u.all[_];u.byName={};for(var v in u.all)u.byName[u.all[v].name]=u.all[v]})(o===void 0?this.imscStyles={}:o,typeof imscNames=="undefined"?t(19):imscNames,typeof imscUtils=="undefined"?t(21):imscUtils)},{19:19,21:21}],21:[function(t,d,o){(function(u){var p=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,y=/rgb\((\d+),(\d+),(\d+)\)/,c=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,_={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};u.parseColor=function(E){var m,w=null;return E in _?w=_[E]:(m=p.exec(E))!==null?w=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),m[4]!==void 0?parseInt(m[4],16):255]:(m=y.exec(E))!==null?w=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:(m=c.exec(E))!==null&&(w=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),w};var v=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;u.parseLength=function(E){var m,w=null;return(m=v.exec(E))!==null&&(w={value:parseFloat(m[1]),unit:m[2]}),w}})(o===void 0?this.imscUtils={}:o)},{}],22:[function(t,d,o){typeof Object.create=="function"?d.exports=function(u,p){u.super_=p,u.prototype=Object.create(p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})}:d.exports=function(u,p){u.super_=p;var y=function(){};y.prototype=p.prototype,u.prototype=new y,u.prototype.constructor=u}},{}],23:[function(t,d,o){function u(y){return!!y.constructor&&typeof y.constructor.isBuffer=="function"&&y.constructor.isBuffer(y)}function p(y){return typeof y.readFloatLE=="function"&&typeof y.slice=="function"&&u(y.slice(0,0))}d.exports=function(y){return y!=null&&(u(y)||p(y)||!!y._isBuffer)}},{}],24:[function(t,d,o){var u={}.toString;d.exports=Array.isArray||function(p){return u.call(p)=="[object Array]"}},{}],25:[function(t,d,o){(function(u){"use strict";function p(y,c,_,v){if(typeof y!="function")throw new TypeError('"callback" argument must be a function');var E,m,w=arguments.length;switch(w){case 0:case 1:return u.nextTick(y);case 2:return u.nextTick(function(){y.call(null,c)});case 3:return u.nextTick(function(){y.call(null,c,_)});case 4:return u.nextTick(function(){y.call(null,c,_,v)});default:for(E=new Array(w-1),m=0;m<E.length;)E[m++]=arguments[m];return u.nextTick(function(){y.apply(null,E)})}}!u.version||u.version.indexOf("v0.")===0||u.version.indexOf("v1.")===0&&u.version.indexOf("v1.8.")!==0?d.exports=p:d.exports=u.nextTick}).call(this,t(26))},{26:26}],26:[function(t,d,o){function u(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}function y(W){if(w===setTimeout)return setTimeout(W,0);if((w===u||!w)&&setTimeout)return w=setTimeout,setTimeout(W,0);try{return w(W,0)}catch{try{return w.call(null,W,0)}catch{return w.call(this,W,0)}}}function c(W){if(A===clearTimeout)return clearTimeout(W);if((A===p||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(W);try{return A(W)}catch{try{return A.call(null,W)}catch{return A.call(this,W)}}}function _(){R&&D&&(R=!1,D.length?P=D.concat(P):j=-1,P.length&&v())}function v(){if(!R){var W=y(_);R=!0;for(var H=P.length;H;){for(D=P,P=[];++j<H;)D&&D[j].run();j=-1,H=P.length}D=null,R=!1,c(W)}}function E(W,H){this.fun=W,this.array=H}function m(){}var w,A,b=d.exports={};(function(){try{w=typeof setTimeout=="function"?setTimeout:u}catch{w=u}try{A=typeof clearTimeout=="function"?clearTimeout:p}catch{A=p}})();var D,P=[],R=!1,j=-1;b.nextTick=function(W){var H=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)H[S-1]=arguments[S];P.push(new E(W,H)),P.length!==1||R||y(v)},E.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=m,b.addListener=m,b.once=m,b.off=m,b.removeListener=m,b.removeAllListeners=m,b.emit=m,b.prependListener=m,b.prependOnceListener=m,b.listeners=function(W){return[]},b.binding=function(W){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(W){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},{}],27:[function(t,d,o){d.exports=t(28)},{28:28}],28:[function(t,d,o){"use strict";function u(D){if(!(this instanceof u))return new u(D);E.call(this,D),m.call(this,D),D&&D.readable===!1&&(this.readable=!1),D&&D.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,D&&D.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||c(y,this)}function y(D){D.end()}var c=t(25),_=Object.keys||function(D){var P=[];for(var R in D)P.push(R);return P};d.exports=u;var v=t(11);v.inherits=t(22);var E=t(30),m=t(32);v.inherits(u,E);for(var w=_(m.prototype),A=0;A<w.length;A++){var b=w[A];u.prototype[b]||(u.prototype[b]=m.prototype[b])}Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(D){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}),u.prototype._destroy=function(D,P){this.push(null),this.end(),c(P,D)}},{11:11,22:22,25:25,30:30,32:32}],29:[function(t,d,o){"use strict";function u(c){if(!(this instanceof u))return new u(c);p.call(this,c)}d.exports=u;var p=t(31),y=t(11);y.inherits=t(22),y.inherits(u,p),u.prototype._transform=function(c,_,v){v(null,c)}},{11:11,22:22,31:31}],30:[function(t,d,o){(function(u,p){"use strict";function y(N){return V.from(N)}function c(N){return V.isBuffer(N)||N instanceof de}function _(N,Z,L){if(typeof N.prependListener=="function")return N.prependListener(Z,L);N._events&&N._events[Z]?fe(N._events[Z])?N._events[Z].unshift(L):N._events[Z]=[L,N._events[Z]]:N.on(Z,L)}function v(N,Z){ve=ve||t(28),N=N||{},this.objectMode=!!N.objectMode,Z instanceof ve&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var L=N.highWaterMark,F=this.objectMode?16:16384;this.highWaterMark=L||L===0?L:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ce,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(me||(me=t(44).StringDecoder),this.decoder=new me(N.encoding),this.encoding=N.encoding)}function E(N){if(ve=ve||t(28),!(this instanceof E))return new E(N);this._readableState=new v(N,this),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),Se.call(this)}function m(N,Z,L,F,ne){var K=N._readableState;if(Z===null)K.reading=!1,R(N,K);else{var he;ne||(he=A(K,Z)),he?N.emit("error",he):K.objectMode||Z&&Z.length>0?(typeof Z=="string"||K.objectMode||Object.getPrototypeOf(Z)===V.prototype||(Z=y(Z)),F?K.endEmitted?N.emit("error",new Error("stream.unshift() after end event")):w(N,K,Z,!0):K.ended?N.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!L?(Z=K.decoder.write(Z),K.objectMode||Z.length!==0?w(N,K,Z,!1):H(N,K)):w(N,K,Z,!1))):F||(K.reading=!1)}return b(K)}function w(N,Z,L,F){Z.flowing&&Z.length===0&&!Z.sync?(N.emit("data",L),N.read(0)):(Z.length+=Z.objectMode?1:L.length,F?Z.buffer.unshift(L):Z.buffer.push(L),Z.needReadable&&j(N)),H(N,Z)}function A(N,Z){var L;return c(Z)||typeof Z=="string"||Z===void 0||N.objectMode||(L=new TypeError("Invalid non-string/buffer chunk")),L}function b(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}function D(N){return N>=Pe?N=Pe:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function P(N,Z){return N<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:N!==N?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(N>Z.highWaterMark&&(Z.highWaterMark=D(N)),N<=Z.length?N:Z.ended?Z.length:(Z.needReadable=!0,0))}function R(N,Z){if(!Z.ended){if(Z.decoder){var L=Z.decoder.end();L&&L.length&&(Z.buffer.push(L),Z.length+=Z.objectMode?1:L.length)}Z.ended=!0,j(N)}}function j(N){var Z=N._readableState;Z.needReadable=!1,Z.emittedReadable||(ae("emitReadable",Z.flowing),Z.emittedReadable=!0,Z.sync?Te(W,N):W(N))}function W(N){ae("emit readable"),N.emit("readable"),q(N)}function H(N,Z){Z.readingMore||(Z.readingMore=!0,Te(S,N,Z))}function S(N,Z){for(var L=Z.length;!Z.reading&&!Z.flowing&&!Z.ended&&Z.length<Z.highWaterMark&&(ae("maybeReadMore read 0"),N.read(0),L!==Z.length);)L=Z.length;Z.readingMore=!1}function l(N){return function(){var Z=N._readableState;ae("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&Ee(N,"data")&&(Z.flowing=!0,q(N))}}function Y(N){ae("readable nexttick read 0"),N.read(0)}function C(N,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,Te(O,N,Z))}function O(N,Z){Z.reading||(ae("resume read 0"),N.read(0)),Z.resumeScheduled=!1,Z.awaitDrain=0,N.emit("resume"),q(N),Z.flowing&&!Z.reading&&N.read(0)}function q(N){var Z=N._readableState;for(ae("flow",Z.flowing);Z.flowing&&N.read()!==null;);}function Q(N,Z){if(Z.length===0)return null;var L;return Z.objectMode?L=Z.buffer.shift():!N||N>=Z.length?(L=Z.decoder?Z.buffer.join(""):Z.buffer.length===1?Z.buffer.head.data:Z.buffer.concat(Z.length),Z.buffer.clear()):L=pe(N,Z.buffer,Z.decoder),L}function pe(N,Z,L){var F;return N<Z.head.data.length?(F=Z.head.data.slice(0,N),Z.head.data=Z.head.data.slice(N)):F=N===Z.head.data.length?Z.shift():L?re(N,Z):ue(N,Z),F}function re(N,Z){var L=Z.head,F=1,ne=L.data;for(N-=ne.length;L=L.next;){var K=L.data,he=N>K.length?K.length:N;if(he===K.length?ne+=K:ne+=K.slice(0,N),(N-=he)==0){he===K.length?(++F,L.next?Z.head=L.next:Z.head=Z.tail=null):(Z.head=L,L.data=K.slice(he));break}++F}return Z.length-=F,ne}function ue(N,Z){var L=V.allocUnsafe(N),F=Z.head,ne=1;for(F.data.copy(L),N-=F.data.length;F=F.next;){var K=F.data,he=N>K.length?K.length:N;if(K.copy(L,L.length-N,0,he),(N-=he)==0){he===K.length?(++ne,F.next?Z.head=F.next:Z.head=Z.tail=null):(Z.head=F,F.data=K.slice(he));break}++ne}return Z.length-=ne,L}function ee(N){var Z=N._readableState;if(Z.length>0)throw new Error('"endReadable()" called on non-empty stream');Z.endEmitted||(Z.ended=!0,Te(be,Z,N))}function be(N,Z){N.endEmitted||N.length!==0||(N.endEmitted=!0,Z.readable=!1,Z.emit("end"))}function ie(N,Z){for(var L=0,F=N.length;L<F;L++)if(N[L]===Z)return L;return-1}var Te=t(25);d.exports=E;var ve,fe=t(24);E.ReadableState=v;var Ee=(t(12).EventEmitter,function(N,Z){return N.listeners(Z).length}),Se=t(35),V=t(41).Buffer,de=p.Uint8Array||function(){},Ae=t(11);Ae.inherits=t(22);var De=t(7),ae=void 0;ae=De&&De.debuglog?De.debuglog("stream"):function(){};var me,Ce=t(33),xe=t(34);Ae.inherits(E,Se);var ce=["error","close","destroy","pause","resume"];Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),E.prototype.destroy=xe.destroy,E.prototype._undestroy=xe.undestroy,E.prototype._destroy=function(N,Z){this.push(null),Z(N)},E.prototype.push=function(N,Z){var L,F=this._readableState;return F.objectMode?L=!0:typeof N=="string"&&(Z=Z||F.defaultEncoding,Z!==F.encoding&&(N=V.from(N,Z),Z=""),L=!0),m(this,N,Z,!1,L)},E.prototype.unshift=function(N){return m(this,N,null,!0,!1)},E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(N){return me||(me=t(44).StringDecoder),this._readableState.decoder=new me(N),this._readableState.encoding=N,this};var Pe=8388608;E.prototype.read=function(N){ae("read",N),N=parseInt(N,10);var Z=this._readableState,L=N;if(N!==0&&(Z.emittedReadable=!1),N===0&&Z.needReadable&&(Z.length>=Z.highWaterMark||Z.ended))return ae("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?ee(this):j(this),null;if((N=P(N,Z))===0&&Z.ended)return Z.length===0&&ee(this),null;var F=Z.needReadable;ae("need readable",F),(Z.length===0||Z.length-N<Z.highWaterMark)&&(F=!0,ae("length less than watermark",F)),Z.ended||Z.reading?(F=!1,ae("reading or ended",F)):F&&(ae("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(N=P(L,Z)));var ne;return ne=N>0?Q(N,Z):null,ne===null?(Z.needReadable=!0,N=0):Z.length-=N,Z.length===0&&(Z.ended||(Z.needReadable=!0),L!==N&&Z.ended&&ee(this)),ne!==null&&this.emit("data",ne),ne},E.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(N,Z){function L(Ye,Xe){ae("onunpipe"),Ye===U&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,ne())}function F(){ae("onend"),N.end()}function ne(){ae("cleanup"),N.removeListener("close",we),N.removeListener("finish",h),N.removeListener("drain",We),N.removeListener("error",he),N.removeListener("unpipe",L),U.removeListener("end",F),U.removeListener("end",x),U.removeListener("data",K),Fe=!0,!z.awaitDrain||N._writableState&&!N._writableState.needDrain||We()}function K(Ye){ae("ondata"),qe=!1,N.write(Ye)!==!1||qe||((z.pipesCount===1&&z.pipes===N||z.pipesCount>1&&ie(z.pipes,N)!==-1)&&!Fe&&(ae("false write response, pause",U._readableState.awaitDrain),U._readableState.awaitDrain++,qe=!0),U.pause())}function he(Ye){ae("onerror",Ye),x(),N.removeListener("error",he),Ee(N,"error")===0&&N.emit("error",Ye)}function we(){N.removeListener("finish",h),x()}function h(){ae("onfinish"),N.removeListener("close",we),x()}function x(){ae("unpipe"),U.unpipe(N)}var U=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=N;break;case 1:z.pipes=[z.pipes,N];break;default:z.pipes.push(N)}z.pipesCount+=1,ae("pipe count=%d opts=%j",z.pipesCount,Z);var J=(!Z||Z.end!==!1)&&N!==u.stdout&&N!==u.stderr,ye=J?F:x;z.endEmitted?Te(ye):U.once("end",ye),N.on("unpipe",L);var We=l(U);N.on("drain",We);var Fe=!1,qe=!1;return U.on("data",K),_(N,"error",he),N.once("close",we),N.once("finish",h),N.emit("pipe",U),z.flowing||(ae("pipe resume"),U.resume()),N},E.prototype.unpipe=function(N){var Z=this._readableState,L={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return N&&N!==Z.pipes?this:(N||(N=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,N&&N.emit("unpipe",this,L),this);if(!N){var F=Z.pipes,ne=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var K=0;K<ne;K++)F[K].emit("unpipe",this,L);return this}var he=ie(Z.pipes,N);return he===-1?this:(Z.pipes.splice(he,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),N.emit("unpipe",this,L),this)},E.prototype.on=function(N,Z){var L=Se.prototype.on.call(this,N,Z);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var F=this._readableState;F.endEmitted||F.readableListening||(F.readableListening=F.needReadable=!0,F.emittedReadable=!1,F.reading?F.length&&j(this):Te(Y,this))}return L},E.prototype.addListener=E.prototype.on,E.prototype.resume=function(){var N=this._readableState;return N.flowing||(ae("resume"),N.flowing=!0,C(this,N)),this},E.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(N){var Z=this._readableState,L=!1,F=this;N.on("end",function(){if(ae("wrapped end"),Z.decoder&&!Z.ended){var he=Z.decoder.end();he&&he.length&&F.push(he)}F.push(null)}),N.on("data",function(he){ae("wrapped data"),Z.decoder&&(he=Z.decoder.write(he)),(!Z.objectMode||he!=null)&&(Z.objectMode||he&&he.length)&&(F.push(he)||(L=!0,N.pause()))});for(var ne in N)this[ne]===void 0&&typeof N[ne]=="function"&&(this[ne]=function(he){return function(){return N[he].apply(N,arguments)}}(ne));for(var K=0;K<ce.length;K++)N.on(ce[K],F.emit.bind(F,ce[K]));return F._read=function(he){ae("wrapped _read",he),L&&(L=!1,N.resume())},F},E._fromList=Q}).call(this,t(26),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{11:11,12:12,22:22,24:24,25:25,26:26,28:28,33:33,34:34,35:35,41:41,44:44,7:7}],31:[function(t,d,o){"use strict";function u(E){this.afterTransform=function(m,w){return p(E,m,w)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function p(E,m,w){var A=E._transformState;A.transforming=!1;var b=A.writecb;if(!b)return E.emit("error",new Error("write callback called multiple times"));A.writechunk=null,A.writecb=null,w!=null&&E.push(w),b(m);var D=E._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&E._read(D.highWaterMark)}function y(E){if(!(this instanceof y))return new y(E);_.call(this,E),this._transformState=new u(this);var m=this;this._readableState.needReadable=!0,this._readableState.sync=!1,E&&(typeof E.transform=="function"&&(this._transform=E.transform),typeof E.flush=="function"&&(this._flush=E.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(w,A){c(m,w,A)}):c(m)})}function c(E,m,w){if(m)return E.emit("error",m);w!=null&&E.push(w);var A=E._writableState,b=E._transformState;if(A.length)throw new Error("Calling transform done when ws.length != 0");if(b.transforming)throw new Error("Calling transform done when still transforming");return E.push(null)}d.exports=y;var _=t(28),v=t(11);v.inherits=t(22),v.inherits(y,_),y.prototype.push=function(E,m){return this._transformState.needTransform=!1,_.prototype.push.call(this,E,m)},y.prototype._transform=function(E,m,w){throw new Error("_transform() is not implemented")},y.prototype._write=function(E,m,w){var A=this._transformState;if(A.writecb=w,A.writechunk=E,A.writeencoding=m,!A.transforming){var b=this._readableState;(A.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},y.prototype._read=function(E){var m=this._transformState;m.writechunk!==null&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},y.prototype._destroy=function(E,m){var w=this;_.prototype._destroy.call(this,E,function(A){m(A),w.emit("close")})}},{11:11,22:22,28:28}],32:[function(t,d,o){(function(u,p){"use strict";function y(V){var de=this;this.next=null,this.entry=null,this.finish=function(){pe(de,V)}}function c(V){return ve.from(V)}function _(V){return ve.isBuffer(V)||V instanceof fe}function v(){}function E(V,de){ue=ue||t(28),V=V||{},this.objectMode=!!V.objectMode,de instanceof ue&&(this.objectMode=this.objectMode||!!V.writableObjectMode);var Ae=V.highWaterMark,De=this.objectMode?16:16384;this.highWaterMark=Ae||Ae===0?Ae:De,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ae=V.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){W(de,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new y(this)}function m(V){if(ue=ue||t(28),!(Se.call(m,this)||this instanceof ue))return new m(V);this._writableState=new E(V,this),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),Te.call(this)}function w(V,de){var Ae=new Error("write after end");V.emit("error",Ae),re(de,Ae)}function A(V,de,Ae,De){var ae=!0,me=!1;return Ae===null?me=new TypeError("May not write null values to stream"):typeof Ae=="string"||Ae===void 0||de.objectMode||(me=new TypeError("Invalid non-string/buffer chunk")),me&&(V.emit("error",me),re(De,me),ae=!1),ae}function b(V,de,Ae){return V.objectMode||V.decodeStrings===!1||typeof de!="string"||(de=ve.from(de,Ae)),de}function D(V,de,Ae,De,ae,me){if(!Ae){var Ce=b(de,De,ae);De!==Ce&&(Ae=!0,ae="buffer",De=Ce)}var xe=de.objectMode?1:De.length;de.length+=xe;var ce=de.length<de.highWaterMark;if(ce||(de.needDrain=!0),de.writing||de.corked){var Pe=de.lastBufferedRequest;de.lastBufferedRequest={chunk:De,encoding:ae,isBuf:Ae,callback:me,next:null},Pe?Pe.next=de.lastBufferedRequest:de.bufferedRequest=de.lastBufferedRequest,de.bufferedRequestCount+=1}else P(V,de,!1,xe,De,ae,me);return ce}function P(V,de,Ae,De,ae,me,Ce){de.writelen=De,de.writecb=Ce,de.writing=!0,de.sync=!0,Ae?V._writev(ae,de.onwrite):V._write(ae,me,de.onwrite),de.sync=!1}function R(V,de,Ae,De,ae){--de.pendingcb,Ae?(re(ae,De),re(q,V,de),V._writableState.errorEmitted=!0,V.emit("error",De)):(ae(De),V._writableState.errorEmitted=!0,V.emit("error",De),q(V,de))}function j(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function W(V,de){var Ae=V._writableState,De=Ae.sync,ae=Ae.writecb;if(j(Ae),de)R(V,Ae,De,de,ae);else{var me=Y(Ae);me||Ae.corked||Ae.bufferProcessing||!Ae.bufferedRequest||l(V,Ae),De?ee(H,V,Ae,me,ae):H(V,Ae,me,ae)}}function H(V,de,Ae,De){Ae||S(V,de),de.pendingcb--,De(),q(V,de)}function S(V,de){de.length===0&&de.needDrain&&(de.needDrain=!1,V.emit("drain"))}function l(V,de){de.bufferProcessing=!0;var Ae=de.bufferedRequest;if(V._writev&&Ae&&Ae.next){var De=de.bufferedRequestCount,ae=new Array(De),me=de.corkedRequestsFree;me.entry=Ae;for(var Ce=0,xe=!0;Ae;)ae[Ce]=Ae,Ae.isBuf||(xe=!1),Ae=Ae.next,Ce+=1;ae.allBuffers=xe,P(V,de,!0,de.length,ae,"",me.finish),de.pendingcb++,de.lastBufferedRequest=null,me.next?(de.corkedRequestsFree=me.next,me.next=null):de.corkedRequestsFree=new y(de)}else{for(;Ae;){var ce=Ae.chunk,Pe=Ae.encoding,N=Ae.callback;if(P(V,de,!1,de.objectMode?1:ce.length,ce,Pe,N),Ae=Ae.next,de.writing)break}Ae===null&&(de.lastBufferedRequest=null)}de.bufferedRequestCount=0,de.bufferedRequest=Ae,de.bufferProcessing=!1}function Y(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function C(V,de){V._final(function(Ae){de.pendingcb--,Ae&&V.emit("error",Ae),de.prefinished=!0,V.emit("prefinish"),q(V,de)})}function O(V,de){de.prefinished||de.finalCalled||(typeof V._final=="function"?(de.pendingcb++,de.finalCalled=!0,re(C,V,de)):(de.prefinished=!0,V.emit("prefinish")))}function q(V,de){var Ae=Y(de);return Ae&&(O(V,de),de.pendingcb===0&&(de.finished=!0,V.emit("finish"))),Ae}function Q(V,de,Ae){de.ending=!0,q(V,de),Ae&&(de.finished?re(Ae):V.once("finish",Ae)),de.ended=!0,V.writable=!1}function pe(V,de,Ae){var De=V.entry;for(V.entry=null;De;){var ae=De.callback;de.pendingcb--,ae(Ae),De=De.next}de.corkedRequestsFree?de.corkedRequestsFree.next=V:de.corkedRequestsFree=V}var re=t(25);d.exports=m;var ue,ee=!u.browser&&["v0.10","v0.9."].indexOf(u.version.slice(0,5))>-1?setImmediate:re;m.WritableState=E;var be=t(11);be.inherits=t(22);var ie={deprecate:t(45)},Te=t(35),ve=t(41).Buffer,fe=p.Uint8Array||function(){},Ee=t(34);be.inherits(m,Te),E.prototype.getBuffer=function(){for(var V=this.bufferedRequest,de=[];V;)de.push(V),V=V.next;return de},function(){try{Object.defineProperty(E.prototype,"buffer",{get:ie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Se;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Se=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(V){return!!Se.call(this,V)||V&&V._writableState instanceof E}})):Se=function(V){return V instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(V,de,Ae){var De=this._writableState,ae=!1,me=_(V)&&!De.objectMode;return me&&!ve.isBuffer(V)&&(V=c(V)),typeof de=="function"&&(Ae=de,de=null),me?de="buffer":de||(de=De.defaultEncoding),typeof Ae!="function"&&(Ae=v),De.ended?w(this,Ae):(me||A(this,De,V,Ae))&&(De.pendingcb++,ae=D(this,De,me,V,de,Ae)),ae},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,V.writing||V.corked||V.finished||V.bufferProcessing||!V.bufferedRequest||l(this,V))},m.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this},m.prototype._write=function(V,de,Ae){Ae(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(V,de,Ae){var De=this._writableState;typeof V=="function"?(Ae=V,V=null,de=null):typeof de=="function"&&(Ae=de,de=null),V!=null&&this.write(V,de),De.corked&&(De.corked=1,this.uncork()),De.ending||De.finished||Q(this,De,Ae)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),m.prototype.destroy=Ee.destroy,m.prototype._undestroy=Ee.undestroy,m.prototype._destroy=function(V,de){this.end(),de(V)}}).call(this,t(26),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{11:11,22:22,25:25,26:26,28:28,34:34,35:35,41:41,45:45}],33:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}function p(c,_,v){c.copy(_,v)}var y=t(41).Buffer;d.exports=function(){function c(){u(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(_){var v={data:_,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length},c.prototype.unshift=function(_){var v={data:_,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length},c.prototype.shift=function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(_){if(this.length===0)return"";for(var v=this.head,E=""+v.data;v=v.next;)E+=_+v.data;return E},c.prototype.concat=function(_){if(this.length===0)return y.alloc(0);if(this.length===1)return this.head.data;for(var v=y.allocUnsafe(_>>>0),E=this.head,m=0;E;)p(E.data,v,m),m+=E.data.length,E=E.next;return v},c}()},{41:41}],34:[function(t,d,o){"use strict";function u(_,v){var E=this,m=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;if(m||w)return void(v?v(_):!_||this._writableState&&this._writableState.errorEmitted||c(y,this,_));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(A){!v&&A?(c(y,E,A),E._writableState&&(E._writableState.errorEmitted=!0)):v&&v(A)})}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function y(_,v){_.emit("error",v)}var c=t(25);d.exports={destroy:u,undestroy:p}},{25:25}],35:[function(t,d,o){d.exports=t(12).EventEmitter},{12:12}],36:[function(t,d,o){d.exports=t(37).PassThrough},{37:37}],37:[function(t,d,o){o=d.exports=t(30),o.Stream=o,o.Readable=o,o.Writable=t(32),o.Duplex=t(28),o.Transform=t(31),o.PassThrough=t(29)},{28:28,29:29,30:30,31:31,32:32}],38:[function(t,d,o){d.exports=t(37).Transform},{37:37}],39:[function(t,d,o){d.exports=t(32)},{32:32}],40:[function(t,d,o){var u=o.decimalAdjust=function(p,y,c){return c===void 0||+c==0?Math[p](y):(y=+y,c=+c,isNaN(y)||typeof c!="number"||c%1!=0?NaN:(y=y.toString().split("e"),y=Math[p](+(y[0]+"e"+(y[1]?+y[1]-c:-c))),y=y.toString().split("e"),+(y[0]+"e"+(y[1]?+y[1]+c:c))))};d.exports={round10:function(p,y){return u("round",p,y)},floor10:function(p,y){return u("floor",p,y)},ceil10:function(p,y){return u("ceil",p,y)}},d.exports.polyfill=function(){Math.round10||(Math.round10=d.exports.round10),Math.floor10||(Math.floor10=d.exports.floor10),Math.ceil10||(Math.ceil10=d.exports.ceil10)}},{}],41:[function(t,d,o){function u(_,v){for(var E in _)v[E]=_[E]}function p(_,v,E){return c(_,v,E)}var y=t(9),c=y.Buffer;c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?d.exports=y:(u(y,o),o.Buffer=p),u(c,p),p.from=function(_,v,E){if(typeof _=="number")throw new TypeError("Argument must not be a number");return c(_,v,E)},p.alloc=function(_,v,E){if(typeof _!="number")throw new TypeError("Argument must be a number");var m=c(_);return v!==void 0?typeof E=="string"?m.fill(v,E):m.fill(v):m.fill(0),m},p.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return c(_)},p.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(_)}},{9:9}],42:[function(t,d,o){(function(u){(function(p){function y(L,F){if(!(this instanceof y))return new y(L,F);var ne=this;_(ne),ne.q=ne.c="",ne.bufferCheckPosition=p.MAX_BUFFER_LENGTH,ne.opt=F||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!L,ne.noscript=!(!L&&!ne.opt.noscript),ne.state=N.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(p.XML_ENTITIES):Object.create(p.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(me)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),P(ne,"onready")}function c(L){for(var F=Math.max(p.MAX_BUFFER_LENGTH,10),ne=0,K=0,he=be.length;K<he;K++){var we=L[be[K]].length;if(we>F)switch(be[K]){case"textNode":j(L);break;case"cdata":R(L,"oncdata",L.cdata),L.cdata="";break;case"script":R(L,"onscript",L.script),L.script="";break;default:H(L,"Max buffer length exceeded: "+be[K])}ne=Math.max(ne,we)}var h=p.MAX_BUFFER_LENGTH-ne;L.bufferCheckPosition=h+L.position}function _(L){for(var F=0,ne=be.length;F<ne;F++)L[be[F]]=""}function v(L){j(L),L.cdata!==""&&(R(L,"oncdata",L.cdata),L.cdata=""),L.script!==""&&(R(L,"onscript",L.script),L.script="")}function E(L,F){return new m(L,F)}function m(L,F){if(!(this instanceof m))return new m(L,F);ie.apply(this),this._parser=new y(L,F),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(K){ne.emit("error",K),ne._parser.error=null},this._decoder=null,Te.forEach(function(K){Object.defineProperty(ne,"on"+K,{get:function(){return ne._parser["on"+K]},set:function(he){if(!he)return ne.removeAllListeners(K),ne._parser["on"+K]=he,he;ne.on(K,he)},enumerable:!0,configurable:!1})})}function w(L){return L.split("").reduce(function(F,ne){return F[ne]=!0,F},{})}function A(L){return Object.prototype.toString.call(L)==="[object RegExp]"}function b(L,F){return A(L)?!!F.match(L):L[F]}function D(L,F){return!b(L,F)}function P(L,F,ne){L[F]&&L[F](ne)}function R(L,F,ne){L.textNode&&j(L),P(L,F,ne)}function j(L){L.textNode=W(L.opt,L.textNode),L.textNode&&P(L,"ontext",L.textNode),L.textNode=""}function W(L,F){return L.trim&&(F=F.trim()),L.normalize&&(F=F.replace(/\s+/g," ")),F}function H(L,F){return j(L),L.trackPosition&&(F+=`
Line: `+L.line+`
Column: `+L.column+`
Char: `+L.c),F=new Error(F),L.error=F,P(L,"onerror",F),L}function S(L){return L.sawRoot&&!L.closedRoot&&l(L,"Unclosed root tag"),L.state!==N.BEGIN&&L.state!==N.BEGIN_WHITESPACE&&L.state!==N.TEXT&&H(L,"Unexpected end"),j(L),L.c="",L.closed=!0,P(L,"onend"),y.call(L,L.strict,L.opt),L}function l(L,F){if(typeof L!="object"||!(L instanceof y))throw new Error("bad call to strictFail");L.strict&&H(L,F)}function Y(L){L.strict||(L.tagName=L.tagName[L.looseCase]());var F=L.tags[L.tags.length-1]||L,ne=L.tag={name:L.tagName,attributes:{}};L.opt.xmlns&&(ne.ns=F.ns),L.attribList.length=0,R(L,"onopentagstart",ne)}function C(L,F){var ne=L.indexOf(":"),K=ne<0?["",L]:L.split(":"),he=K[0],we=K[1];return F&&L==="xmlns"&&(he="xmlns",we=""),{prefix:he,local:we}}function O(L){if(L.strict||(L.attribName=L.attribName[L.looseCase]()),L.attribList.indexOf(L.attribName)!==-1||L.tag.attributes.hasOwnProperty(L.attribName))return void(L.attribName=L.attribValue="");if(L.opt.xmlns){var F=C(L.attribName,!0),ne=F.prefix,K=F.local;if(ne==="xmlns")if(K==="xml"&&L.attribValue!==De)l(L,"xml: prefix must be bound to "+De+`
Actual: `+L.attribValue);else if(K==="xmlns"&&L.attribValue!==ae)l(L,"xmlns: prefix must be bound to "+ae+`
Actual: `+L.attribValue);else{var he=L.tag,we=L.tags[L.tags.length-1]||L;he.ns===we.ns&&(he.ns=Object.create(we.ns)),he.ns[K]=L.attribValue}L.attribList.push([L.attribName,L.attribValue])}else L.tag.attributes[L.attribName]=L.attribValue,R(L,"onattribute",{name:L.attribName,value:L.attribValue});L.attribName=L.attribValue=""}function q(L,F){if(L.opt.xmlns){var ne=L.tag,K=C(L.tagName);ne.prefix=K.prefix,ne.local=K.local,ne.uri=ne.ns[K.prefix]||"",ne.prefix&&!ne.uri&&(l(L,"Unbound namespace prefix: "+JSON.stringify(L.tagName)),ne.uri=K.prefix);var he=L.tags[L.tags.length-1]||L;ne.ns&&he.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(Ye){R(L,"onopennamespace",{prefix:Ye,uri:ne.ns[Ye]})});for(var we=0,h=L.attribList.length;we<h;we++){var x=L.attribList[we],U=x[0],z=x[1],J=C(U,!0),ye=J.prefix,We=J.local,Fe=ye===""?"":ne.ns[ye]||"",qe={name:U,value:z,prefix:ye,local:We,uri:Fe};ye&&ye!=="xmlns"&&!Fe&&(l(L,"Unbound namespace prefix: "+JSON.stringify(ye)),qe.uri=ye),L.tag.attributes[U]=qe,R(L,"onattribute",qe)}L.attribList.length=0}L.tag.isSelfClosing=!!F,L.sawRoot=!0,L.tags.push(L.tag),R(L,"onopentag",L.tag),F||(L.noscript||L.tagName.toLowerCase()!=="script"?L.state=N.TEXT:L.state=N.SCRIPT,L.tag=null,L.tagName=""),L.attribName=L.attribValue="",L.attribList.length=0}function Q(L){if(!L.tagName)return l(L,"Weird empty close tag."),L.textNode+="</>",void(L.state=N.TEXT);if(L.script){if(L.tagName!=="script")return L.script+="</"+L.tagName+">",L.tagName="",void(L.state=N.SCRIPT);R(L,"onscript",L.script),L.script=""}var F=L.tags.length,ne=L.tagName;L.strict||(ne=ne[L.looseCase]());for(var K=ne;F--&&L.tags[F].name!==K;)l(L,"Unexpected close tag");if(F<0)return l(L,"Unmatched closing tag: "+L.tagName),L.textNode+="</"+L.tagName+">",void(L.state=N.TEXT);L.tagName=ne;for(var he=L.tags.length;he-- >F;){var we=L.tag=L.tags.pop();L.tagName=L.tag.name,R(L,"onclosetag",L.tagName);var h={};for(var x in we.ns)h[x]=we.ns[x];var U=L.tags[L.tags.length-1]||L;L.opt.xmlns&&we.ns!==U.ns&&Object.keys(we.ns).forEach(function(z){var J=we.ns[z];R(L,"onclosenamespace",{prefix:z,uri:J})})}F===0&&(L.closedRoot=!0),L.tagName=L.attribValue=L.attribName="",L.attribList.length=0,L.state=N.TEXT}function pe(L){var F,ne=L.entity,K=ne.toLowerCase(),he="";return L.ENTITIES[ne]?L.ENTITIES[ne]:L.ENTITIES[K]?L.ENTITIES[K]:(ne=K,ne.charAt(0)==="#"&&(ne.charAt(1)==="x"?(ne=ne.slice(2),F=parseInt(ne,16),he=F.toString(16)):(ne=ne.slice(1),F=parseInt(ne,10),he=F.toString(10))),ne=ne.replace(/^0+/,""),he.toLowerCase()!==ne?(l(L,"Invalid character entity"),"&"+L.entity+";"):String.fromCodePoint(F))}function re(L,F){F==="<"?(L.state=N.OPEN_WAKA,L.startTagPosition=L.position):D(ve,F)&&(l(L,"Non-whitespace before first tag."),L.textNode=F,L.state=N.TEXT)}function ue(L,F){var ne="";return F<L.length&&(ne=L.charAt(F)),ne}function ee(L){var F=this;if(this.error)throw this.error;if(F.closed)return H(F,"Cannot write after close. Assign an onready handler.");if(L===null)return S(F);typeof L=="object"&&(L=L.toString());for(var ne=0,K="";K=ue(L,ne++),F.c=K,!!K;)switch(F.trackPosition&&(F.position++,K===`
`?(F.line++,F.column=0):F.column++),F.state){case N.BEGIN:if(F.state=N.BEGIN_WHITESPACE,K==="\uFEFF")continue;re(F,K);continue;case N.BEGIN_WHITESPACE:re(F,K);continue;case N.TEXT:if(F.sawRoot&&!F.closedRoot){for(var he=ne-1;K&&K!=="<"&&K!=="&";)(K=ue(L,ne++))&&F.trackPosition&&(F.position++,K===`
`?(F.line++,F.column=0):F.column++);F.textNode+=L.substring(he,ne-1)}K!=="<"||F.sawRoot&&F.closedRoot&&!F.strict?(!D(ve,K)||F.sawRoot&&!F.closedRoot||l(F,"Text data outside of root node."),K==="&"?F.state=N.TEXT_ENTITY:F.textNode+=K):(F.state=N.OPEN_WAKA,F.startTagPosition=F.position);continue;case N.SCRIPT:K==="<"?F.state=N.SCRIPT_ENDING:F.script+=K;continue;case N.SCRIPT_ENDING:K==="/"?F.state=N.CLOSE_TAG:(F.script+="<"+K,F.state=N.SCRIPT);continue;case N.OPEN_WAKA:if(K==="!")F.state=N.SGML_DECL,F.sgmlDecl="";else if(!b(ve,K))if(b(Ce,K))F.state=N.OPEN_TAG,F.tagName=K;else if(K==="/")F.state=N.CLOSE_TAG,F.tagName="";else if(K==="?")F.state=N.PROC_INST,F.procInstName=F.procInstBody="";else{if(l(F,"Unencoded <"),F.startTagPosition+1<F.position){var we=F.position-F.startTagPosition;K=new Array(we).join(" ")+K}F.textNode+="<"+K,F.state=N.TEXT}continue;case N.SGML_DECL:(F.sgmlDecl+K).toUpperCase()===de?(R(F,"onopencdata"),F.state=N.CDATA,F.sgmlDecl="",F.cdata=""):F.sgmlDecl+K==="--"?(F.state=N.COMMENT,F.comment="",F.sgmlDecl=""):(F.sgmlDecl+K).toUpperCase()===Ae?(F.state=N.DOCTYPE,(F.doctype||F.sawRoot)&&l(F,"Inappropriately located doctype declaration"),F.doctype="",F.sgmlDecl=""):K===">"?(R(F,"onsgmldeclaration",F.sgmlDecl),F.sgmlDecl="",F.state=N.TEXT):(b(Se,K)&&(F.state=N.SGML_DECL_QUOTED),F.sgmlDecl+=K);continue;case N.SGML_DECL_QUOTED:K===F.q&&(F.state=N.SGML_DECL,F.q=""),F.sgmlDecl+=K;continue;case N.DOCTYPE:K===">"?(F.state=N.TEXT,R(F,"ondoctype",F.doctype),F.doctype=!0):(F.doctype+=K,K==="["?F.state=N.DOCTYPE_DTD:b(Se,K)&&(F.state=N.DOCTYPE_QUOTED,F.q=K));continue;case N.DOCTYPE_QUOTED:F.doctype+=K,K===F.q&&(F.q="",F.state=N.DOCTYPE);continue;case N.DOCTYPE_DTD:F.doctype+=K,K==="]"?F.state=N.DOCTYPE:b(Se,K)&&(F.state=N.DOCTYPE_DTD_QUOTED,F.q=K);continue;case N.DOCTYPE_DTD_QUOTED:F.doctype+=K,K===F.q&&(F.state=N.DOCTYPE_DTD,F.q="");continue;case N.COMMENT:K==="-"?F.state=N.COMMENT_ENDING:F.comment+=K;continue;case N.COMMENT_ENDING:K==="-"?(F.state=N.COMMENT_ENDED,F.comment=W(F.opt,F.comment),F.comment&&R(F,"oncomment",F.comment),F.comment=""):(F.comment+="-"+K,F.state=N.COMMENT);continue;case N.COMMENT_ENDED:K!==">"?(l(F,"Malformed comment"),F.comment+="--"+K,F.state=N.COMMENT):F.state=N.TEXT;continue;case N.CDATA:K==="]"?F.state=N.CDATA_ENDING:F.cdata+=K;continue;case N.CDATA_ENDING:K==="]"?F.state=N.CDATA_ENDING_2:(F.cdata+="]"+K,F.state=N.CDATA);continue;case N.CDATA_ENDING_2:K===">"?(F.cdata&&R(F,"oncdata",F.cdata),R(F,"onclosecdata"),F.cdata="",F.state=N.TEXT):K==="]"?F.cdata+="]":(F.cdata+="]]"+K,F.state=N.CDATA);continue;case N.PROC_INST:K==="?"?F.state=N.PROC_INST_ENDING:b(ve,K)?F.state=N.PROC_INST_BODY:F.procInstName+=K;continue;case N.PROC_INST_BODY:if(!F.procInstBody&&b(ve,K))continue;K==="?"?F.state=N.PROC_INST_ENDING:F.procInstBody+=K;continue;case N.PROC_INST_ENDING:K===">"?(R(F,"onprocessinginstruction",{name:F.procInstName,body:F.procInstBody}),F.procInstName=F.procInstBody="",F.state=N.TEXT):(F.procInstBody+="?"+K,F.state=N.PROC_INST_BODY);continue;case N.OPEN_TAG:b(xe,K)?F.tagName+=K:(Y(F),K===">"?q(F):K==="/"?F.state=N.OPEN_TAG_SLASH:(D(ve,K)&&l(F,"Invalid character in tag name"),F.state=N.ATTRIB));continue;case N.OPEN_TAG_SLASH:K===">"?(q(F,!0),Q(F)):(l(F,"Forward-slash in opening tag not followed by >"),F.state=N.ATTRIB);continue;case N.ATTRIB:if(b(ve,K))continue;K===">"?q(F):K==="/"?F.state=N.OPEN_TAG_SLASH:b(Ce,K)?(F.attribName=K,F.attribValue="",F.state=N.ATTRIB_NAME):l(F,"Invalid attribute name");continue;case N.ATTRIB_NAME:K==="="?F.state=N.ATTRIB_VALUE:K===">"?(l(F,"Attribute without value"),F.attribValue=F.attribName,O(F),q(F)):b(ve,K)?F.state=N.ATTRIB_NAME_SAW_WHITE:b(xe,K)?F.attribName+=K:l(F,"Invalid attribute name");continue;case N.ATTRIB_NAME_SAW_WHITE:if(K==="=")F.state=N.ATTRIB_VALUE;else{if(b(ve,K))continue;l(F,"Attribute without value"),F.tag.attributes[F.attribName]="",F.attribValue="",R(F,"onattribute",{name:F.attribName,value:""}),F.attribName="",K===">"?q(F):b(Ce,K)?(F.attribName=K,F.state=N.ATTRIB_NAME):(l(F,"Invalid attribute name"),F.state=N.ATTRIB)}continue;case N.ATTRIB_VALUE:if(b(ve,K))continue;b(Se,K)?(F.q=K,F.state=N.ATTRIB_VALUE_QUOTED):(l(F,"Unquoted attribute value"),F.state=N.ATTRIB_VALUE_UNQUOTED,F.attribValue=K);continue;case N.ATTRIB_VALUE_QUOTED:if(K!==F.q){K==="&"?F.state=N.ATTRIB_VALUE_ENTITY_Q:F.attribValue+=K;continue}O(F),F.q="",F.state=N.ATTRIB_VALUE_CLOSED;continue;case N.ATTRIB_VALUE_CLOSED:b(ve,K)?F.state=N.ATTRIB:K===">"?q(F):K==="/"?F.state=N.OPEN_TAG_SLASH:b(Ce,K)?(l(F,"No whitespace between attributes"),F.attribName=K,F.attribValue="",F.state=N.ATTRIB_NAME):l(F,"Invalid attribute name");continue;case N.ATTRIB_VALUE_UNQUOTED:if(D(V,K)){K==="&"?F.state=N.ATTRIB_VALUE_ENTITY_U:F.attribValue+=K;continue}O(F),K===">"?q(F):F.state=N.ATTRIB;continue;case N.CLOSE_TAG:if(F.tagName)K===">"?Q(F):b(xe,K)?F.tagName+=K:F.script?(F.script+="</"+F.tagName,F.tagName="",F.state=N.SCRIPT):(D(ve,K)&&l(F,"Invalid tagname in closing tag"),F.state=N.CLOSE_TAG_SAW_WHITE);else{if(b(ve,K))continue;D(Ce,K)?F.script?(F.script+="</"+K,F.state=N.SCRIPT):l(F,"Invalid tagname in closing tag."):F.tagName=K}continue;case N.CLOSE_TAG_SAW_WHITE:if(b(ve,K))continue;K===">"?Q(F):l(F,"Invalid characters in closing tag");continue;case N.TEXT_ENTITY:case N.ATTRIB_VALUE_ENTITY_Q:case N.ATTRIB_VALUE_ENTITY_U:var h,x;switch(F.state){case N.TEXT_ENTITY:h=N.TEXT,x="textNode";break;case N.ATTRIB_VALUE_ENTITY_Q:h=N.ATTRIB_VALUE_QUOTED,x="attribValue";break;case N.ATTRIB_VALUE_ENTITY_U:h=N.ATTRIB_VALUE_UNQUOTED,x="attribValue"}K===";"?(F[x]+=pe(F),F.entity="",F.state=h):b(F.entity.length?Pe:ce,K)?F.entity+=K:(l(F,"Invalid character in entity name"),F[x]+="&"+F.entity+K,F.entity="",F.state=h);continue;default:throw new Error(F,"Unknown state: "+F.state)}return F.position>=F.bufferCheckPosition&&c(F),F}p.parser=function(L,F){return new y(L,F)},p.SAXParser=y,p.SAXStream=m,p.createStream=E,p.MAX_BUFFER_LENGTH=65536;var be=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];p.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(L){function F(){}return F.prototype=L,new F}),Object.keys||(Object.keys=function(L){var F=[];for(var ne in L)L.hasOwnProperty(ne)&&F.push(ne);return F}),y.prototype={end:function(){S(this)},write:ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){v(this)}};var ie;try{ie=t(43).Stream}catch{ie=function(){}}var Te=p.EVENTS.filter(function(L){return L!=="error"&&L!=="end"});m.prototype=Object.create(ie.prototype,{constructor:{value:m}}),m.prototype.write=function(L){if(typeof u=="function"&&typeof u.isBuffer=="function"&&u.isBuffer(L)){if(!this._decoder){var F=t(8).StringDecoder;this._decoder=new F("utf8")}L=this._decoder.write(L)}return this._parser.write(L.toString()),this.emit("data",L),!0},m.prototype.end=function(L){return L&&L.length&&this.write(L),this._parser.end(),!0},m.prototype.on=function(L,F){var ne=this;return ne._parser["on"+L]||Te.indexOf(L)===-1||(ne._parser["on"+L]=function(){var K=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);K.splice(0,0,L),ne.emit.apply(ne,K)}),ie.prototype.on.call(ne,L,F)};var ve=`\r
	 `,fe="0124356789",Ee="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Se=`'"`,V=ve+">",de="[CDATA[",Ae="DOCTYPE",De="http://www.w3.org/XML/1998/namespace",ae="http://www.w3.org/2000/xmlns/",me={xml:De,xmlns:ae};ve=w(ve),fe=w(fe),Ee=w(Ee);var Ce=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,xe=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,ce=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Pe=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;Se=w(Se),V=w(V);var N=0;p.STATE={BEGIN:N++,BEGIN_WHITESPACE:N++,TEXT:N++,TEXT_ENTITY:N++,OPEN_WAKA:N++,SGML_DECL:N++,SGML_DECL_QUOTED:N++,DOCTYPE:N++,DOCTYPE_QUOTED:N++,DOCTYPE_DTD:N++,DOCTYPE_DTD_QUOTED:N++,COMMENT_STARTING:N++,COMMENT:N++,COMMENT_ENDING:N++,COMMENT_ENDED:N++,CDATA:N++,CDATA_ENDING:N++,CDATA_ENDING_2:N++,PROC_INST:N++,PROC_INST_BODY:N++,PROC_INST_ENDING:N++,OPEN_TAG:N++,OPEN_TAG_SLASH:N++,ATTRIB:N++,ATTRIB_NAME:N++,ATTRIB_NAME_SAW_WHITE:N++,ATTRIB_VALUE:N++,ATTRIB_VALUE_QUOTED:N++,ATTRIB_VALUE_CLOSED:N++,ATTRIB_VALUE_UNQUOTED:N++,ATTRIB_VALUE_ENTITY_Q:N++,ATTRIB_VALUE_ENTITY_U:N++,CLOSE_TAG:N++,CLOSE_TAG_SAW_WHITE:N++,SCRIPT:N++,SCRIPT_ENDING:N++},p.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(p.ENTITIES).forEach(function(L){var F=p.ENTITIES[L],ne=typeof F=="number"?String.fromCharCode(F):F;p.ENTITIES[L]=ne});for(var Z in p.STATE)p.STATE[p.STATE[Z]]=Z;N=p.STATE,String.fromCodePoint||function(){var L=String.fromCharCode,F=Math.floor,ne=function(){var K,he,we=16384,h=[],x=-1,U=arguments.length;if(!U)return"";for(var z="";++x<U;){var J=Number(arguments[x]);if(!isFinite(J)||J<0||J>1114111||F(J)!==J)throw RangeError("Invalid code point: "+J);J<=65535?h.push(J):(J-=65536,K=55296+(J>>10),he=J%1024+56320,h.push(K,he)),(x+1===U||h.length>we)&&(z+=L.apply(null,h),h.length=0)}return z};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(o===void 0?this.sax={}:o)}).call(this,t(9).Buffer)},{43:43,8:8,9:9}],43:[function(t,d,o){function u(){p.call(this)}d.exports=u;var p=t(12).EventEmitter;t(22)(u,p),u.Readable=t(37),u.Writable=t(39),u.Duplex=t(27),u.Transform=t(38),u.PassThrough=t(36),u.Stream=u,u.prototype.pipe=function(y,c){function _(P){y.writable&&y.write(P)===!1&&b.pause&&b.pause()}function v(){b.readable&&b.resume&&b.resume()}function E(){D||(D=!0,y.end())}function m(){D||(D=!0,typeof y.destroy=="function"&&y.destroy())}function w(P){if(A(),p.listenerCount(this,"error")===0)throw P}function A(){b.removeListener("data",_),y.removeListener("drain",v),b.removeListener("end",E),b.removeListener("close",m),b.removeListener("error",w),y.removeListener("error",w),b.removeListener("end",A),b.removeListener("close",A),y.removeListener("close",A)}var b=this;b.on("data",_),y.on("drain",v),y._isStdio||c&&c.end===!1||(b.on("end",E),b.on("close",m));var D=!1;return b.on("error",w),y.on("error",w),b.on("end",A),b.on("close",A),y.on("close",A),y.emit("pipe",b),y}},{12:12,22:22,27:27,36:36,37:37,38:38,39:39}],44:[function(t,d,o){"use strict";function u(S){if(!S)return"utf8";for(var l;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(l)return;S=(""+S).toLowerCase(),l=!0}}function p(S){var l=u(S);if(typeof l!="string"&&(W.isEncoding===H||!H(S)))throw new Error("Unknown encoding: "+S);return l||S}function y(S){this.encoding=p(S);var l;switch(this.encoding){case"utf16le":this.text=A,this.end=b,l=4;break;case"utf8":this.fillLast=E,l=4;break;case"base64":this.text=D,this.end=P,l=3;break;default:return this.write=R,void(this.end=j)}this.lastNeed=0,this.lastTotal=0,this.lastChar=W.allocUnsafe(l)}function c(S){return S<=127?0:S>>5==6?2:S>>4==14?3:S>>3==30?4:-1}function _(S,l,Y){var C=l.length-1;if(C<Y)return 0;var O=c(l[C]);return O>=0?(O>0&&(S.lastNeed=O-1),O):--C<Y?0:(O=c(l[C]))>=0?(O>0&&(S.lastNeed=O-2),O):--C<Y?0:(O=c(l[C]),O>=0?(O>0&&(O===2?O=0:S.lastNeed=O-3),O):0)}function v(S,l,Y){if((192&l[0])!=128)return S.lastNeed=0,"\uFFFD".repeat(Y);if(S.lastNeed>1&&l.length>1){if((192&l[1])!=128)return S.lastNeed=1,"\uFFFD".repeat(Y+1);if(S.lastNeed>2&&l.length>2&&(192&l[2])!=128)return S.lastNeed=2,"\uFFFD".repeat(Y+2)}}function E(S){var l=this.lastTotal-this.lastNeed,Y=v(this,S,l);return Y!==void 0?Y:this.lastNeed<=S.length?(S.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(S.copy(this.lastChar,l,0,S.length),void(this.lastNeed-=S.length))}function m(S,l){var Y=_(this,S,l);if(!this.lastNeed)return S.toString("utf8",l);this.lastTotal=Y;var C=S.length-(Y-this.lastNeed);return S.copy(this.lastChar,0,C),S.toString("utf8",l,C)}function w(S){var l=S&&S.length?this.write(S):"";return this.lastNeed?l+"\uFFFD".repeat(this.lastTotal-this.lastNeed):l}function A(S,l){if((S.length-l)%2==0){var Y=S.toString("utf16le",l);if(Y){var C=Y.charCodeAt(Y.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],Y.slice(0,-1)}return Y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",l,S.length-1)}function b(S){var l=S&&S.length?this.write(S):"";if(this.lastNeed){var Y=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,Y)}return l}function D(S,l){var Y=(S.length-l)%3;return Y===0?S.toString("base64",l):(this.lastNeed=3-Y,this.lastTotal=3,Y===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",l,S.length-Y))}function P(S){var l=S&&S.length?this.write(S):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function R(S){return S.toString(this.encoding)}function j(S){return S&&S.length?this.write(S):""}var W=t(41).Buffer,H=W.isEncoding||function(S){switch((S=""+S)&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};o.StringDecoder=y,y.prototype.write=function(S){if(S.length===0)return"";var l,Y;if(this.lastNeed){if((l=this.fillLast(S))===void 0)return"";Y=this.lastNeed,this.lastNeed=0}else Y=0;return Y<S.length?l?l+this.text(S,Y):this.text(S,Y):l||""},y.prototype.end=w,y.prototype.text=m,y.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length}},{41:41}],45:[function(t,d,o){(function(u){function p(c,_){function v(){if(!E){if(y("throwDeprecation"))throw new Error(_);y("traceDeprecation")?console.trace(_):console.warn(_),E=!0}return c.apply(this,arguments)}if(y("noDeprecation"))return c;var E=!1;return v}function y(c){try{if(!u.localStorage)return!1}catch{return!1}var _=u.localStorage[c];return _!=null&&String(_).toLowerCase()==="true"}d.exports=p}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],46:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(){S=!0,l=!0,Y=!1,C=new Date().getTime()}function A(O){l=O}function b(O){Y=O}function D(O){S=O}function P(){return S}function R(){var O="",q=null;l&&(q=new Date().getTime(),O+="["+(q-C)+"]"),Y&&this&&this.getClassName&&(O+="["+this.getClassName()+"]",this.getType&&(O+="["+this.getType()+"]")),O.length>0&&(O+=" "),Array.apply(null,arguments).forEach(function(Q){O+=Q+" "}),S&&console.log(O),W.trigger(v.default.LOG,{message:O})}var j=this.context,W=(0,c.default)(j).getInstance(),H=void 0,S=void 0,l=void 0,Y=void 0,C=void 0;return H={log:R,setLogTimestampVisible:A,setCalleeNameVisible:b,setLogToBrowserConsole:D,getLogToBrowserConsole:P},w(),H}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(48),m=u(E);p.__dashjs_factory_name="Debug",o.default=m.default.getSingletonFactory(p),d.exports=o.default},{47:47,48:48,51:51}],47:[function(t,d,o){"use strict";function u(m){return m&&m.__esModule?m:{default:m}}function p(){function m(R,j,W){var H=arguments.length<=3||arguments[3]===void 0?_:arguments[3];if(!R)throw new Error("event type cannot be null or undefined");if(!j||typeof j!="function")throw new Error("listener must be a function: "+j);if(!(b(R,j,W)>=0)){P[R]=P[R]||[];var S={callback:j,scope:W,priority:H};P[R].some(function(l,Y){if(l&&H>l.priority)return P[R].splice(Y,0,S),!0})||P[R].push(S)}}function w(R,j,W){if(R&&j&&P[R]){var H=b(R,j,W);H<0||(P[R][H]=null)}}function A(R,j){if(R&&P[R]){if(j=j||{},j.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");j.type=R,P[R]=P[R].filter(function(W){return W}),P[R].forEach(function(W){return W&&W.callback.call(W.scope,j)})}}function b(R,j,W){var H=-1;return P[R]&&P[R].some(function(S,l){if(S&&S.callback===j&&(!W||W===S.scope))return H=l,!0}),H}function D(){P={}}var P={};return{on:m,off:w,trigger:A,reset:D}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=0,v=5e3;p.__dashjs_factory_name="EventBus";var E=c.default.getSingletonFactory(p);E.EVENT_PRIORITY_LOW=_,E.EVENT_PRIORITY_HIGH=v,c.default.updateSingletonFactory(p.__dashjs_factory_name,E),o.default=E,d.exports=o.default},{48:48}],48:[function(t,d,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var u=function(){function p(C,O,q,Q){var pe=j(Q);!pe[C]&&O&&(pe[C]={instance:O,override:q})}function y(C,O){for(var q in S){var Q=S[q];if(Q.context===C&&Q.name===O)return Q.instance}return null}function c(C,O,q){for(var Q in S){var pe=S[Q];if(pe.context===C&&pe.name===O)return void(S[Q].instance=q)}S.push({name:O,context:C,instance:q})}function _(C,O,q){for(var Q in q)if(q[Q].name===C)return void(q[Q].factory=O);q.push({name:C,factory:O})}function v(C,O){for(var q in O)if(O[q].name===C)return O[q].factory;return null}function E(C,O,q){for(var Q in q)if(q[Q].name===C)return void(q[Q].factory=O)}function m(C,O){E(C,O,Y)}function w(C){return v(C,Y)}function A(C){var O=v(C.__dashjs_factory_name,Y);return O||(O=function(q){return q===void 0&&(q={}),{create:function(){return R(C.__dashjs_factory_name,C.apply({context:q},arguments),q,arguments)}}},_(C.__dashjs_factory_name,O,Y)),O}function b(C,O){E(C,O,l)}function D(C){return v(C,l)}function P(C){var O=v(C.__dashjs_factory_name,l);return O||(O=function(q){var Q=void 0;return q===void 0&&(q={}),{getInstance:function(){return Q||(Q=y(q,C.__dashjs_factory_name)),Q||(Q=R(C.__dashjs_factory_name,C.apply({context:q},arguments),q,arguments),S.push({name:C.__dashjs_factory_name,context:q,instance:Q})),Q}}},_(C.__dashjs_factory_name,O,l)),O}function R(C,O,q,Q){O.getClassName=function(){return C};var pe=j(q),re=pe[C];if(re){var ue=re.instance;if(!re.override)return ue.apply({context:q,factory:W},Q);ue=ue.apply({context:q,factory:W,parent:O},Q);for(var ee in ue)O.hasOwnProperty(ee)&&(O[ee]=ue[ee])}return O}function j(C){var O=void 0;return H.forEach(function(q){q===C&&(O=q)}),O||(H.push(C),O=C),O}var W=void 0,H=[],S=[],l=[],Y=[];return W={extend:p,getSingletonInstance:y,setSingletonInstance:c,getSingletonFactory:P,getSingletonFactoryByName:D,updateSingletonFactory:b,getClassFactory:A,getClassFactoryByName:w,updateClassFactory:m}}();o.default=u,d.exports=o.default},{}],49:[function(t,d,o){"use strict";function u(){return p}Object.defineProperty(o,"__esModule",{value:!0}),o.getVersionString=u;var p="2.6.7"},{}],50:[function(t,d,o){"use strict";function u(m){return m&&m.__esModule?m:{default:m}}function p(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function y(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(m,w,A){for(var b=!0;b;){var D=m,P=w,R=A;b=!1,D===null&&(D=Function.prototype);var j=Object.getOwnPropertyDescriptor(D,P);if(j!==void 0){if("value"in j)return j.value;var W=j.get;return W===void 0?void 0:W.call(R)}var H=Object.getPrototypeOf(D);if(H===null)return;m=H,w=P,A=R,b=!0,j=H=void 0}},_=t(52),v=u(_),E=function(m){function w(){p(this,w),c(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return y(w,m),w}(v.default);o.default=E,d.exports=o.default},{52:52}],51:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function y(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(w,A,b){for(var D=!0;D;){var P=w,R=A,j=b;D=!1,P===null&&(P=Function.prototype);var W=Object.getOwnPropertyDescriptor(P,R);if(W!==void 0){if("value"in W)return W.value;var H=W.get;return H===void 0?void 0:H.call(j)}var S=Object.getPrototypeOf(P);if(S===null)return;w=S,A=R,b=j,D=!0,W=S=void 0}},_=t(50),v=u(_),E=function(w){function A(){p(this,A),c(Object.getPrototypeOf(A.prototype),"constructor",this).apply(this,arguments)}return y(A,w),A}(v.default),m=new E;o.default=m,d.exports=o.default},{50:50}],52:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function c(_,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,E){return v&&c(_.prototype,v),E&&c(_,E),_}}(),y=function(){function c(){u(this,c)}return p(c,[{key:"extend",value:function(_,v){if(_){var E=!!v&&v.override,m=!!v&&v.publicOnly;for(var w in _)!_.hasOwnProperty(w)||this[w]&&!E||m&&_[w].indexOf("public_")===-1||(this[w]=_[w])}}}]),c}();o.default=y,d.exports=o.default},{}],53:[function(t,d,o){"use strict";function u(l){return l&&l.__esModule?l:{default:l}}function p(){function l(){F()}function Y(h){h&&h.dashManifestModel&&(K=h.dashManifestModel)}function C(h,x){return x&&h?x.getRepresentationForQuality(h.quality):null}function O(h){return h&&h.streamInfo&&h.streamInfo.id!==void 0&&we[h.streamInfo.id]?we[h.streamInfo.id][h.index]:null}function q(h,x){for(var U=x.length,z=0;z<U;z++){var J=x[z];if(h.id===J.id)return J}return null}function Q(h){var x=new v.default,U=h.adaptation.period.mpd.manifest.Period_asArray[h.adaptation.period.index].AdaptationSet_asArray[h.adaptation.index],z=K.getRepresentationFor(h.index,U);return x.id=h.id,x.quality=h.index,x.bandwidth=K.getBandwidth(z),x.DVRWindow=h.segmentAvailabilityRange,x.fragmentDuration=h.segmentDuration||(h.segments&&h.segments.length>0?h.segments[0].duration:NaN),x.MSETimeOffset=h.MSETimeOffset,x.useCalculatedLiveEdgeTime=h.useCalculatedLiveEdgeTime,x.mediaInfo=pe(h.adaptation),x}function pe(h){var x=new m.default,U=h.period.mpd.manifest.Period_asArray[h.period.index].AdaptationSet_asArray[h.index],z=void 0;return x.id=h.id,x.index=h.index,x.type=h.type,x.streamInfo=ee(h.period),x.representationCount=K.getRepresentationCount(U),x.lang=K.getLanguageForAdaptation(U),z=K.getViewpointForAdaptation(U),x.viewpoint=z?z.value:void 0,x.accessibility=K.getAccessibilityForAdaptation(U).map(function(J){var ye=J.value,We=ye;return J.schemeIdUri&&J.schemeIdUri.search("cea-608")>=0&&S.default!==void 0&&(We=ye?"cea-608:"+ye:"cea-608",x.embeddedCaptions=!0),We}),x.audioChannelConfiguration=K.getAudioChannelConfigurationForAdaptation(U).map(function(J){return J.value}),x.roles=K.getRolesForAdaptation(U).map(function(J){return J.value}),x.codec=K.getCodec(U),x.mimeType=K.getMimeType(U),x.contentProtection=K.getContentProtectionData(U),x.bitrateList=K.getBitrateListForAdaptation(U),x.contentProtection&&x.contentProtection.forEach(function(J){J.KID=K.getKID(J)}),x.isText=K.getIsTextTrack(x.mimeType),x}function re(h,x,U){h.id=x,h.index=100+parseInt(x.substring(2,3)),h.type=c.default.EMBEDDED_TEXT,h.codec="cea-608-in-SEI",h.isText=!0,h.isEmbedded=!0,h.lang=x+" "+U,h.roles=["caption"]}function ue(h){h.type=c.default.IMAGE}function ee(h){var x=new A.default;return x.id=h.id,x.index=h.index,x.start=h.start,x.duration=h.duration,x.manifestInfo=be(h.mpd),x.isLast=h.mpd.manifest.Period_asArray.length===1||Math.abs(x.start+x.duration-x.manifestInfo.duration)<1,x}function be(h){var x=new D.default;return x.DVRWindowSize=h.timeShiftBufferDepth,x.loadedTime=h.manifest.loadedTime,x.availableFrom=h.availabilityStartTime,x.minBufferTime=h.manifest.minBufferTime,x.maxFragmentDuration=h.maxSegmentDuration,x.duration=K.getDuration(h.manifest),x.isDynamic=K.getIsDynamic(h.manifest),x}function ie(h,x){if(he.length===0)return null;var U=he[0].mpd.manifest,z=K.getAdaptationForType(U,h.index,x,h);if(!z)return null;var J=q(h,he),ye=J.id,We=K.getIndexForAdaptation(z,U,h.index);return we[ye]=we[ye]||K.getAdaptationsForPeriod(J),pe(we[ye][We])}function Te(h,x,U){var z=he,J=U,ye=[],We=void 0,Fe=void 0,qe=void 0,Ye=void 0,Xe=void 0,ht=void 0;if(J){ve();var It=K.getMpd(J);z=K.getRegularPeriods(It)}else{if(!(he.length>0))return ye;J=he[0].mpd.manifest}var Ke=q(h,z),pt=Ke.id,ct=K.getAdaptationsForType(J,h.index,x!==c.default.EMBEDDED_TEXT?x:c.default.VIDEO);if(!ct)return ye;for(we[pt]=we[pt]||K.getAdaptationsForPeriod(Ke),Ye=0,ht=ct.length;Ye<ht;Ye++)if(We=ct[Ye],qe=K.getIndexForAdaptation(We,J,h.index),Fe=pe(we[pt][qe]),x===c.default.EMBEDDED_TEXT){var nt=Fe.accessibility.length;for(Xe=0;Xe<nt;Xe++)if(Fe){var Lt=Fe.accessibility[Xe];if(Lt.indexOf("cea-608:")===0){var Ut=Lt.substring(8),gt=Ut.split(";");if(gt[0].substring(0,2)==="CC")for(Xe=0;Xe<gt.length;Xe++)Fe||(Fe=pe.call(this,we[pt][qe])),re(Fe,gt[Xe].substring(0,3),gt[Xe].substring(4)),ye.push(Fe),Fe=null;else for(Xe=0;Xe<gt.length;Xe++)Fe||(Fe=pe.call(this,we[pt][qe])),re(Fe,"CC"+(Xe+1),gt[Xe]),ye.push(Fe),Fe=null}else Lt.indexOf("cea-608")===0&&(re(Fe,c.default.CC1,"eng"),ye.push(Fe),Fe=null)}}else x===c.default.IMAGE?(ue(Fe),ye.push(Fe),Fe=null):Fe&&ye.push(Fe);return ye}function ve(){if(!K||!K.hasOwnProperty("getMpd")||!K.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function fe(h){if(!h)return null;ve();var x=K.getMpd(h);he=K.getRegularPeriods(x),we={}}function Ee(h){var x=[],U=he;if(h){ve();var z=K.getMpd(h);U=K.getRegularPeriods(z)}for(var J=0;J<U.length;J++)x.push(ee(U[J]));return x}function Se(h){if(!(h&&h.hasOwnProperty("getRepresentationController")&&h.hasOwnProperty("getIndexHandler")&&h.hasOwnProperty("getMediaInfo")&&h.hasOwnProperty("getType")&&h.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function V(h){if(!h||!h.hasOwnProperty("getRepresentationForQuality")||!h.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function de(h){if(h===null||isNaN(h)||h%1!=0)throw new Error("quality argument is not an integer")}function Ae(h,x){var U=void 0,z=void 0,J=void 0;return Se(h),de(x),U=h.getRepresentationController(),J=h.getIndexHandler(),z=U?U.getRepresentationForQuality(x):null,J?J.getInitRequest(z):null}function De(h,x){var U=void 0,z=void 0,J=void 0;return Se(h),U=h.getRepresentationController(),z=C(x,U),J=h.getIndexHandler(),J?J.getNextSegmentRequest(z):null}function ae(h,x,U,z){var J=void 0,ye=void 0,We=void 0;return Se(h),J=h.getRepresentationController(),ye=C(x,J),We=h.getIndexHandler(),We?We.getSegmentRequestForTime(ye,U,z):null}function me(h,x,U){var z=void 0,J=void 0,ye=void 0;return Se(h),z=h.getRepresentationController(),J=C(x,z),ye=h.getIndexHandler(),ye?ye.generateSegmentRequestForTime(J,U):null}function Ce(h){Se(h);var x=h.getIndexHandler();return x?x.getCurrentTime():NaN}function xe(h,x){Se(h);var U=h.getIndexHandler();U&&U.setCurrentTime(x)}function ce(h){Se(h);var x=q(h.getStreamInfo(),he),U=h.getMediaInfo(),z=O(U),J=h.getType(),ye=void 0,We=void 0;ye=U?U.id:null,he.length>0&&(We=ye?K.getAdaptationForId(ye,he[0].mpd.manifest,x.index):K.getAdaptationForIndex(U.index,he[0].mpd.manifest,x.index),h.getRepresentationController().updateData(We,z,J))}function Pe(h,x){V(h),de(x);var U=h.getRepresentationForQuality(x);return U?Q(U):null}function N(h){V(h);var x=h.getCurrentRepresentation();return x?Q(x):null}function Z(h,x,U){if(!h||!x)return null;var z=new R.default,J=h.scheme_id_uri,ye=h.value,We=h.timescale,Fe=h.presentation_time_delta,qe=h.event_duration,Ye=h.id,Xe=h.message_data,ht=U*We+Fe;return x[J]?(z.eventStream=x[J],z.eventStream.value=ye,z.eventStream.timescale=We,z.duration=qe,z.id=Ye,z.presentationTime=ht,z.messageData=Xe,z.presentationTimeDelta=Fe,z):null}function L(h,x){var U=[];if(he.length===0)return U;var z=he[0].mpd.manifest;return h instanceof A.default?U=K.getEventsForPeriod(q(h,he)):h instanceof m.default?U=K.getEventStreamForAdaptationSet(z,O(h)):h instanceof v.default&&(U=K.getEventStreamForRepresentation(z,C(h,x.getRepresentationController()))),U}function F(){he=[],we={}}var ne=void 0,K=void 0,he=void 0,we=void 0;return ne={convertDataToRepresentationInfo:Q,getDataForMedia:O,getStreamsInfo:Ee,getMediaInfoForType:ie,getAllMediaInfoForType:Te,getCurrentRepresentationInfo:N,getRepresentationInfoForQuality:Pe,updateData:ce,getInitRequest:Ae,getNextFragmentRequest:De,getFragmentRequestForTime:ae,generateFragmentRequestForTime:me,getIndexHandlerTime:Ce,setIndexHandlerTime:xe,getEventsFor:L,getEvent:Z,setConfig:Y,updatePeriods:fe,reset:F},l(),ne}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(168),v=u(_),E=t(166),m=u(E),w=t(169),A=u(w),b=t(165),D=u(b),P=t(80),R=u(P),j=t(48),W=u(j),H=t(2),S=u(H);p.__dashjs_factory_name="DashAdapter",o.default=W.default.getSingletonFactory(p),d.exports=o.default},{165:165,166:166,168:168,169:169,2:2,48:48,80:80,98:98}],54:[function(t,d,o){"use strict";function u(fe){return fe&&fe.__esModule?fe:{default:fe}}function p(fe){function Ee(){ct=(0,l.default)(J).getInstance().log.bind(pt),me(),Fe=Se(fe.mimeType)?(0,ie.default)(J).getInstance():(0,ee.default)(J).getInstance(),Fe.setConfig({baseURLController:Ke,metricsModel:Xe,mediaPlayerModel:ht,errHandler:It}),ye.on(P.default.INITIALIZATION_LOADED,U,pt),ye.on(P.default.SEGMENTS_LOADED,z,pt)}function Se(Ze){return Ze.split("/")[1].toLowerCase()==="webm"}function V(Ze){Tt=Ze;var et=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;Fe.initialize(),st=(0,re.default)(J).create(fe,et)}function de(){return Tt}function Ae(Ze){Ut=Ze}function De(){return Ut}function ae(){return gt}function me(){nt=-1,Ut=0,gt=NaN,Lt=null,Tt=null,st=null}function Ce(){me(),ye.off(P.default.INITIALIZATION_LOADED,U,pt),ye.off(P.default.SEGMENTS_LOADED,z,pt)}function xe(Ze,et,At){var wt=Ke.resolve(At.path),lt=void 0,ut=void 0;return wt&&et!==wt.url&&We.isRelative(et)?(lt=wt.url,ut=wt.serviceLocation,et&&(lt=We.resolve(et,lt))):lt=et,!We.isRelative(lt)&&(Ze.url=lt,Ze.serviceLocation=ut,!0)}function ce(Ze,et){var At=new m.default,wt=Ze.adaptation.period,lt=wt.start,ut=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(At.mediaType=et,At.type=b.HTTPRequest.INIT_SEGMENT_TYPE,At.range=Ze.range,At.availabilityStartTime=qe.calcAvailabilityStartTimeFromPresentationTime(lt,wt.mpd,ut),At.availabilityEndTime=qe.calcAvailabilityEndTimeFromPresentationTime(lt+wt.duration,wt.mpd,ut),At.quality=Ze.index,At.mediaInfo=Tt?Tt.getMediaInfo():null,At.representationId=Ze.id,xe(At,Ze.initialization,Ze))return At}function Pe(Ze){var et=Tt?Tt.getType():null;return Ze?ce(Ze,et):null}function N(Ze){var et=!1,At=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(At||nt!==Ze.availableSegmentsNumber){var wt=(0,Q.getSegmentByIndex)(nt,Ze);if(wt){var lt=parseFloat((wt.presentationStartTime-Ze.adaptation.period.start).toFixed(5)),ut=Ze.adaptation.period.duration;ct(Ze.segmentInfoType+": "+lt+" / "+ut),et=(Ze.segmentInfoType!==v.default.SEGMENT_TIMELINE||!At)&&lt>=ut}else ct("isMediaFinished - no segment found")}else et=!0;return et}function Z(Ze){st.getSegments(Ze,Lt,nt,L)}function L(Ze,et){var At=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(Ze.segments=et,et&&et.length>0&&(gt=isNaN(gt)?et[0].presentationStartTime:Math.min(et[0].presentationStartTime,gt),At&&isNaN(qe.getExpectedLiveEdge()))){var wt=et[et.length-1],lt=wt.presentationStartTime,ut=Xe.getMetricsFor(c.default.STREAM);qe.setExpectedLiveEdge(lt),Xe.updateManifestUpdateInfo(Ye.getCurrentManifestUpdate(ut),{presentationStartTime:lt})}}function F(Ze){if(!Ze)throw new Error("no representation");Ze.segments=null,Z(Ze)}function ne(Ze,et){var At=q.default.hasInitialization(Ze),wt=q.default.hasSegments(Ze),lt=Tt?Tt.getType():null,ut=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null,bt=void 0;if(Ze.segmentDuration||Ze.segments||F(Ze),Ze.segmentAvailabilityRange=null,Ze.segmentAvailabilityRange=qe.calcSegmentAvailabilityRange(Ze,ut),Ze.segmentAvailabilityRange.end<Ze.segmentAvailabilityRange.start&&!Ze.useCalculatedLiveEdgeTime)return bt=new A.default(Te,"no segments are available yet",{availabilityDelay:Ze.segmentAvailabilityRange.start-Ze.segmentAvailabilityRange.end}),void ye.trigger(P.default.REPRESENTATION_UPDATED,{sender:this,representation:Ze,error:bt});et||(nt=-1),Ze.segmentDuration&&F(Ze),At||Fe.loadInitialization(Ze),wt||Fe.loadSegments(Ze,lt,Ze.indexRange),At&&wt&&ye.trigger(P.default.REPRESENTATION_UPDATED,{sender:this,representation:Ze})}function K(Ze,et,At){var wt=et.segments,lt=wt?wt.length:null,ut=-1,bt=void 0,Ft=void 0,Rt=void 0,se=void 0,Be=void 0;if(wt&&lt>0){for(At=At??ht.getSegmentOverlapToleranceTime(),Be=0;Be<lt;Be++)if(Ft=wt[Be],Rt=Ft.presentationStartTime,se=Ft.duration,bt=At??se/2,Ze+bt>=Rt&&Ze-bt<Rt+se){ut=Ft.availabilityIdx;break}}return ut}function he(Ze){if(Ze==null)return null;var et=new m.default,At=Ze.representation,wt=At.adaptation.period.mpd.manifest.Period_asArray[At.adaptation.period.index].AdaptationSet_asArray[At.adaptation.index].Representation_asArray[At.index].bandwidth,lt=Ze.media,ut=Tt?Tt.getType():null;return lt=(0,Q.replaceTokenForTemplate)(lt,"Number",Ze.replacementNumber),lt=(0,Q.replaceTokenForTemplate)(lt,"Time",Ze.replacementTime),lt=(0,Q.replaceTokenForTemplate)(lt,"Bandwidth",wt),lt=(0,Q.replaceIDForTemplate)(lt,At.id),lt=(0,Q.unescapeDollarsInTemplate)(lt),et.mediaType=ut,et.type=b.HTTPRequest.MEDIA_SEGMENT_TYPE,et.range=Ze.mediaRange,et.startTime=Ze.presentationStartTime,et.duration=Ze.duration,et.timescale=At.timescale,et.availabilityStartTime=Ze.availabilityStartTime,et.availabilityEndTime=Ze.availabilityEndTime,et.wallStartTime=Ze.wallStartTime,et.quality=At.index,et.index=Ze.availabilityIdx,et.mediaInfo=Tt.getMediaInfo(),et.adaptationIndex=At.adaptation.index,et.representationId=At.id,xe(et,lt,At)?et:void 0}function we(Ze,et,At){var wt=void 0,lt=void 0,ut=void 0,bt=Tt?Tt.getType():null,Ft=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null,Rt=nt,se=!!At&&At.keepIdx,Be=At?At.timeThreshold:null,e=!(!At||!At.ignoreIsFinished);return Ze?(Lt!==et&&(Lt=et,ct("Getting the request for "+bt+" time : "+et)),Z(Ze),nt=K(et,Ze,Be),nt<0&&(Z(Ze),nt=K(et,Ze,Be)),nt>0&&ct("Index for "+bt+" time "+et+" is "+nt),ut=!e&&N(Ze),ut?(wt=new m.default,wt.action=m.default.ACTION_COMPLETE,wt.index=nt,wt.mediaType=bt,wt.mediaInfo=Tt.getMediaInfo(),ct("Signal complete in getSegmentRequestForTime -",bt)):(lt=(0,Q.getSegmentByIndex)(nt,Ze),wt=he(lt)),se&&Rt>=0&&(nt=Ze.segmentInfoType===v.default.SEGMENT_TIMELINE&&Ft?nt:Rt),wt):null}function h(Ze,et){var At=(Ze.segmentAvailabilityRange.end-Ze.segmentAvailabilityRange.start)/2;return Ze.segments=null,Ze.segmentAvailabilityRange={start:et-At,end:et+At},we(Ze,et,{keepIdx:!1,ignoreIsFinished:!0})}function x(Ze){var et=void 0,At=void 0,wt=void 0,lt=Tt?Tt.getType():null,ut=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;return Ze&&nt!==-1?(Lt=null,nt++,ct("Getting the next request at index: "+nt+", type: "+lt),!(0,Q.getSegmentByIndex)(nt,Ze)&&ut?(ct("No segment found at index: "+nt+". Wait for next loop"),Z(Ze),nt--,null):(wt=N(Ze),wt?(et=new m.default,et.action=m.default.ACTION_COMPLETE,et.index=nt,et.mediaType=lt,et.mediaInfo=Tt.getMediaInfo(),ct("Signal complete -",lt)):(Z(Ze),At=(0,Q.getSegmentByIndex)(nt,Ze),et=he(At),!At&&ut&&nt--),et)):null}function U(Ze){var et=Ze.representation;et.segments&&ye.trigger(P.default.REPRESENTATION_UPDATED,{sender:this,representation:et})}function z(Ze){var et=Tt?Tt.getType():null,At=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(!Ze.error&&et===Ze.mediaType){var wt=Ze.segments,lt=Ze.representation,ut=[],bt=0,Ft=void 0,Rt=void 0,se=void 0,Be=void 0;for(Ft=0,Rt=wt.length;Ft<Rt;Ft++)se=wt[Ft],Be=(0,Q.getTimeBasedSegment)(qe,At,lt,se.startTime,se.duration,se.timescale,se.media,se.mediaRange,bt),ut.push(Be),Be=null,bt++;lt.segmentAvailabilityRange={start:ut[0].presentationStartTime,end:ut[Rt-1].presentationStartTime},lt.availableSegmentsNumber=Rt,L(lt,ut),q.default.hasInitialization(lt)&&ye.trigger(P.default.REPRESENTATION_UPDATED,{sender:this,representation:lt})}}fe=fe||{};var J=this.context,ye=(0,j.default)(J).getInstance(),We=(0,C.default)(J).getInstance(),Fe=void 0,qe=fe.timelineConverter,Ye=fe.dashMetrics,Xe=fe.metricsModel,ht=fe.mediaPlayerModel,It=fe.errHandler,Ke=fe.baseURLController,pt=void 0,ct=void 0,nt=void 0,Lt=void 0,Ut=void 0,gt=void 0,Tt=void 0,st=void 0;return pt={initialize:V,getStreamProcessor:de,getInitRequest:Pe,getSegmentRequestForTime:we,getNextSegmentRequest:x,generateSegmentRequestForTime:h,updateRepresentation:ne,updateSegmentList:F,setCurrentTime:Ae,getCurrentTime:De,getEarliestTime:ae,reset:Ce},Ee(),pt}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(58),v=u(_),E=t(162),m=u(E),w=t(160),A=u(w),b=t(179),D=t(51),P=u(D),R=t(47),j=u(R),W=t(48),H=u(W),S=t(46),l=u(S),Y=t(155),C=u(Y),O=t(84),q=u(O),Q=t(74),pe=t(73),re=u(pe),ue=t(56),ee=u(ue),be=t(57),ie=u(be),Te=1;p.__dashjs_factory_name="DashHandler";var ve=H.default.getClassFactory(p);ve.SEGMENTS_UNAVAILABLE_ERROR_CODE=Te,H.default.updateClassFactory(p.__dashjs_factory_name,ve),o.default=ve,d.exports=o.default},{155:155,160:160,162:162,179:179,46:46,47:47,48:48,51:51,56:56,57:57,58:58,73:73,74:74,84:84,98:98}],55:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(w){function A(fe,Ee){var Se=void 0;return Se=ee(ve.getValue().Period_asArray[Ee],fe),Se===null?null:Se.bandwidth}function b(fe,Ee){return ue(ve.getValue().Period_asArray[Ee],fe)}function D(fe,Ee){return ie(ve.getValue().Period_asArray[Ee],fe)}function P(fe){return l(fe,E.default.TRACK_SWITCH)}function R(fe){return l(fe,E.default.BUFFER_LEVEL)}function j(fe){var Ee=R(fe);return Ee?(0,m.round10)(Ee.level/1e3,-3):0}function W(fe){return fe?fe.RequestsQueue:null}function H(fe){if(!fe)return null;var Ee=fe.HttpList,Se=null,V=void 0,de=void 0;if(!Ee||Ee.length<=0)return null;for(V=Ee.length,de=V-1;de>=0;){if(Ee[de].responsecode){Se=Ee[de];break}de--}return Se}function S(fe){return fe&&fe.HttpList?fe.HttpList:[]}function l(fe,Ee){if(!fe)return null;var Se=fe[Ee];if(!Se)return null;var V=Se.length;return V<=0?null:Se[V-1]}function Y(fe){return l(fe,E.default.DROPPED_FRAMES)}function C(fe){return l(fe,E.default.SCHEDULING_INFO)}function O(fe){return l(fe,E.default.MANIFEST_UPDATE)}function q(fe){return l(fe,E.default.DVR_INFO)}function Q(fe,Ee){var Se={},V=void 0,de=void 0,Ae=void 0;for(V=S(fe),Ae=V.length-1;Ae>=0;Ae--)if(de=V[Ae],de.type===y.HTTPRequest.MPD_TYPE){Se=re(de._responseHeaders);break}return Se[Ee]===void 0?null:Se[Ee]}function pe(fe,Ee){var Se={},V=H(fe);return V&&(Se=re(V._responseHeaders)),Se[Ee]===void 0?null:Se[Ee]}function re(fe){var Ee={};if(!fe)return Ee;for(var Se=fe.trim().split(`\r
`),V=0,de=Se.length;V<de;V++){var Ae=Se[V],De=Ae.indexOf(": ");De>0&&(Ee[Ae.substring(0,De)]=Ae.substring(De+2))}return Ee}function ue(fe,Ee){var Se=ee(fe,Ee,!0);return Se!==null?Se:-1}function ee(fe,Ee,Se){var V=void 0,de=void 0,Ae=void 0,De=void 0,ae=void 0,me=void 0;if(fe){for(de=fe.AdaptationSet_asArray,ae=0;ae<de.length;ae+=1)for(V=de[ae],De=V.Representation_asArray,me=0;me<De.length;me+=1)if(Ae=De[me],Ee===Ae.id)return Se?me:Ae}return null}function be(fe,Ee){return Te.getIsTypeOf(fe,Ee)}function ie(fe,Ee){var Se=void 0,V=void 0,de=void 0,Ae=void 0;if(!fe||!Ee)return-1;for(V=fe.AdaptationSet_asArray,Ae=0;Ae<V.length;Ae+=1)if(Se=V[Ae],de=Se.Representation_asArray,be(Se,Ee))return de.length;return-1}w=w||{};var Te=w.dashManifestModel,ve=w.manifestModel;return{getBandwidthForRepresentation:A,getIndexForRepresentation:b,getMaxIndexForBufferType:D,getCurrentRepresentationSwitch:P,getLatestBufferLevelVO:R,getCurrentBufferLevel:j,getCurrentHttpRequest:H,getHttpRequests:S,getCurrentDroppedFrames:Y,getCurrentSchedulingInfo:C,getCurrentDVRInfo:q,getCurrentManifestUpdate:O,getLatestFragmentRequestHeaderValueByID:pe,getLatestMPDRequestHeaderValueByID:Q,getRequestsQueue:W}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(179),c=t(48),_=u(c),v=t(99),E=u(v),m=t(40);p.__dashjs_factory_name="DashMetrics",o.default=_.default.getSingletonFactory(p),d.exports=o.default},{179:179,40:40,48:48,99:99}],56:[function(t,d,o){"use strict";function u(Q){return Q&&Q.__esModule?Q:{default:Q}}function p(){function Q(){Ae=(0,R.default)(Ee).getInstance(),De=(0,c.default)(Ee).getInstance(),Ce=(0,q.default)(Ee).create({errHandler:de,metricsModel:ae,mediaPlayerModel:me,requestModifier:De})}function pe(ce){ce.baseURLController&&(xe=ce.baseURLController),ce.metricsModel&&(ae=ce.metricsModel),ce.mediaPlayerModel&&(me=ce.mediaPlayerModel),ce.errHandler&&(de=ce.errHandler)}function re(){if(!xe||!xe.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function ue(ce,Pe){re();var N=null,Z=null,L=xe.resolve(ce.path),F=Pe||{init:!0,url:L?L.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};Se("Start searching for initialization.");var ne=ve(F),K=function(we){F.bytesLoaded=F.range.end,Z=Ae.parse(we),N=Te(Z),N?(ce.range=N,V.trigger(A.default.INITIALIZATION_LOADED,{representation:ce})):(F.range.end=F.bytesLoaded+F.bytesToLoad,ue(ce,F))},he=function(){V.trigger(A.default.INITIALIZATION_LOADED,{representation:ce})};Ce.load({request:ne,success:K,error:he}),Se("Perform init search: "+F.url)}function ee(ce,Pe,N,Z,L){if(re(),N&&(N.start===void 0||N.end===void 0)){var F=N?N.toString().split("-"):null;N=F?{start:parseFloat(F[0]),end:parseFloat(F[1])}:null}L=L||fe;var ne=null,K=null,he=!!N,we=xe.resolve(ce.path),h={init:!1,url:we?we.url:void 0,range:he?N:{start:0,end:1500},searching:!he,bytesLoaded:Z?Z.bytesLoaded:0,bytesToLoad:1500},x=ve(h),U=function(J){var ye=h.bytesToLoad,We=J.byteLength;if(h.bytesLoaded=h.range.end-h.range.start,ne=Ae.parse(J),(K=ne.getBox("sidx"))&&K.isComplete){var Fe=K.references,qe=void 0,Ye=void 0;Fe!=null&&Fe.length>0&&(qe=Fe[0].reference_type===1),qe?function(){Se("Initiate multiple SIDX load."),h.range.end=h.range.start+K.size;var ht=void 0,It=void 0,Ke=void 0,pt=void 0,ct=void 0,nt=[],Lt=0,Ut=(K.offset||h.range.start)+K.size,gt=function(Tt){Tt?(nt=nt.concat(Tt),++Lt>=It&&L(nt,ce,Pe)):L(null,ce,Pe)};for(ht=0,It=Fe.length;ht<It;ht++)Ke=Ut,pt=Ut+Fe[ht].referenced_size-1,Ut+=Fe[ht].referenced_size,ct={start:Ke,end:pt},ee(ce,null,ct,h,gt)}():(Se("Parsing segments from SIDX."),Ye=ie(K,h),L(Ye,ce,Pe))}else{if(K)h.range.start=K.offset||h.range.start,h.range.end=h.range.start+(K.size||ye);else{if(We<h.bytesLoaded)return void L(null,ce,Pe);var Xe=ne.getLastBox();Xe&&Xe.size?(h.range.start=Xe.offset+Xe.size,h.range.end=h.range.start+ye):h.range.end+=ye}ee(ce,Pe,h.range,h,L)}},z=function(){L(null,ce,Pe)};Ce.load({request:x,success:U,error:z}),Se("Perform SIDX load: "+h.url)}function be(){Ce.abort(),Ce=null,de=null,Ae=null,De=null}function ie(ce,Pe){for(var N=ce.references,Z=N.length,L=ce.timescale,F=ce.earliest_presentation_time,ne=Pe.range.start+ce.offset+ce.first_offset+ce.size,K=[],he=void 0,we=void 0,h=void 0,x=void 0,U=0;U<Z;U++)h=N[U].subsegment_duration,x=N[U].referenced_size,he=new v.default,he.duration=h,he.startTime=F,he.timescale=L,we=ne+x-1,he.mediaRange=ne+"-"+we,K.push(he),F+=h,ne+=x;return K}function Te(ce){var Pe=ce.getBox("ftyp"),N=ce.getBox("moov"),Z=null,L=void 0,F=void 0;return Se("Searching for initialization."),N&&N.isComplete&&(L=Pe?Pe.offset:N.offset,F=N.offset+N.size-1,Z=L+"-"+F,Se("Found the initialization.  Range: "+Z)),Z}function ve(ce){if(ce.url){var Pe=new C.default;return Pe.type=ce.init?l.HTTPRequest.INIT_SEGMENT_TYPE:l.HTTPRequest.MEDIA_SEGMENT_TYPE,Pe.url=ce.url,Pe.range=ce.range.start+"-"+ce.range.end,Pe}}function fe(ce,Pe,N){ce?V.trigger(A.default.SEGMENTS_LOADED,{segments:ce,representation:Pe,mediaType:N}):V.trigger(A.default.SEGMENTS_LOADED,{segments:null,representation:Pe,mediaType:N,error:new m.default(null,"error loading segments",null)})}var Ee=this.context,Se=(0,S.default)(Ee).getInstance().log,V=(0,D.default)(Ee).getInstance(),de=void 0,Ae=void 0,De=void 0,ae=void 0,me=void 0,Ce=void 0,xe=void 0;return{setConfig:pe,initialize:Q,loadInitialization:ue,loadSegments:ee,reset:be}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(153),c=u(y),_=t(85),v=u(_),E=t(160),m=u(E),w=t(51),A=u(w),b=t(47),D=u(b),P=t(143),R=u(P),j=t(48),W=u(j),H=t(46),S=u(H),l=t(179),Y=t(162),C=u(Y),O=t(96),q=u(O);p.__dashjs_factory_name="SegmentBaseLoader",o.default=W.default.getSingletonFactory(p),d.exports=o.default},{143:143,153:153,160:160,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],57:[function(t,d,o){"use strict";function u(O){return O&&O.__esModule?O:{default:O}}function p(){function O(){Ae={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}function q(){ae=(0,R.default)(Ee).getInstance(),xe=(0,C.default)(Ee).create({errHandler:De,metricsModel:me,mediaPlayerModel:Ce,requestModifier:ae})}function Q(Pe){if(!(Pe.baseURLController&&Pe.metricsModel&&Pe.mediaPlayerModel&&Pe.errHandler))throw new Error("Missing config parameter(s)");ce=Pe.baseURLController,me=Pe.metricsModel,Ce=Pe.mediaPlayerModel,De=Pe.errHandler}function pe(Pe){var N=[],Z=void 0,L=void 0,F=(0,m.default)(Ee).create({data:Pe});for(F.consumeTagAndSize(Ae.Segment.Cues);F.moreData()&&F.consumeTagAndSize(Ae.Segment.Cues.CuePoint,!0);){for(Z={},Z.CueTime=F.parseTag(Ae.Segment.Cues.CuePoint.CueTime),Z.CueTracks=[];F.moreData()&&F.consumeTag(Ae.Segment.Cues.CuePoint.CueTrackPositions,!0);){var ne=F.getMatroskaCodedNum(),K=F.getPos();if(L={},L.Track=F.parseTag(Ae.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),L.Track===0)throw new Error("Cue track cannot be 0");L.ClusterPosition=F.parseTag(Ae.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Z.CueTracks.push(L),F.setPos(K+ne)}if(Z.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");N.push(Z)}if(N.length===0)throw new Error("mandatory cuepoint not found");return N}function re(Pe,N,Z,L){var F=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,h=void 0,x=void 0,U=void 0;for(ne=pe(Pe),K=[],we=0,h=ne.length;we<h;we+=1)he=new W.default,F=0,F=we<ne.length-1?ne[we+1].CueTime-ne[we].CueTime:L-ne[we].CueTime,he.duration=F,he.startTime=ne[we].CueTime,he.timescale=1e3,x=ne[we].CueTracks[0].ClusterPosition+N,U=we<ne.length-1?ne[we+1].CueTracks[0].ClusterPosition+N-1:Z-1,he.mediaRange=x+"-"+U,K.push(he);return Se("Parsed cues: "+K.length+" cues."),K}function ue(Pe,N,Z,L){var F=(0,m.default)(Ee).create({data:Pe}),ne=void 0,K=void 0,he=Z.split("-"),we=null,h={url:N,range:{start:parseFloat(he[0]),end:parseFloat(he[1])},request:we},x=void 0,U=void 0;for(Se("Parse EBML header: "+h.url),F.skipOverElement(Ae.EBML),F.consumeTag(Ae.Segment),x=F.getMatroskaCodedNum(),x+=F.getPos(),U=F.getPos();F.moreData()&&!F.consumeTagAndSize(Ae.Segment.Info,!0);)if(!(F.skipOverElement(Ae.Segment.SeekHead,!0)||F.skipOverElement(Ae.Segment.Tracks,!0)||F.skipOverElement(Ae.Segment.Cues,!0)||F.skipOverElement(Ae.Void,!0)))throw new Error("no valid top level element found");for(;ne===void 0;){var z=F.getMatroskaCodedNum(!0),J=F.getMatroskaCodedNum();switch(z){case Ae.Segment.Info.Duration.tag:ne=F[Ae.Segment.Info.Duration.parse](J);break;default:F.setPos(F.getPos()+J)}}we=ve(h);var ye=function(Fe){K=re(Fe,U,x,ne),L(K)},We=function(){Se("Download Error: Cues "+h.url),L(null)};xe.load({request:we,success:ye,error:We}),Se("Perform cues load: "+h.url+" bytes="+h.range.start+"-"+h.range.end)}function ee(){if(!ce||!ce.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function be(Pe,N){ee();var Z=null,L=ce.resolve(Pe.path),F=L?L.url:void 0,ne=Pe.range.split("-"),K=N||{range:{start:parseFloat(ne[0]),end:parseFloat(ne[1])},request:Z,url:F,init:!0};Se("Start loading initialization."),Z=ve(K);var he=function(){V.trigger(c.default.INITIALIZATION_LOADED,{representation:Pe})},we=function(){V.trigger(c.default.INITIALIZATION_LOADED,{representation:Pe})};xe.load({request:Z,success:he,error:we}),Se("Perform init load: "+K.url)}function ie(Pe,N,Z,L){ee();var F=null,ne=ce.resolve(Pe.path),K=ne?ne.url:void 0,he=8192,we={bytesLoaded:0,bytesToLoad:he,range:{start:0,end:he},request:F,url:K,init:!1};L=L||Te,F=ve(we),Se("Parsing ebml header");var h=function(U){ue(U,K,Z,function(z){L(z,Pe,N)})},x=function(){L(null,Pe,N)};xe.load({request:F,success:h,error:x})}function Te(Pe,N,Z){Pe?V.trigger(c.default.SEGMENTS_LOADED,{segments:Pe,representation:N,mediaType:Z}):V.trigger(c.default.SEGMENTS_LOADED,{segments:null,representation:N,mediaType:Z,error:new Error(null,"error loading segments",null)})}function ve(Pe){var N=new l.default;return N.type=Pe.init?H.HTTPRequest.INIT_SEGMENT_TYPE:H.HTTPRequest.MEDIA_SEGMENT_TYPE,N.url=Pe.url,N.range=Pe.range.start+"-"+Pe.range.end,N}function fe(){De=null,ae=null,Se=null}var Ee=this.context,Se=(0,D.default)(Ee).getInstance().log,V=(0,v.default)(Ee).getInstance(),de=void 0,Ae=void 0,De=void 0,ae=void 0,me=void 0,Ce=void 0,xe=void 0,ce=void 0;return de={setConfig:Q,initialize:q,loadInitialization:be,loadSegments:ie,reset:fe},O(),de}Object.defineProperty(o,"__esModule",{value:!0});var y=t(51),c=u(y),_=t(47),v=u(_),E=t(147),m=u(E),w=t(48),A=u(w),b=t(46),D=u(b),P=t(153),R=u(P),j=t(85),W=u(j),H=t(179),S=t(162),l=u(S),Y=t(96),C=u(Y);p.__dashjs_factory_name="WebmSegmentBaseLoader",o.default=A.default.getSingletonFactory(p),d.exports=o.default},{147:147,153:153,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],58:[function(t,d,o){"use strict";function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function _(v,E){for(var m=0;m<E.length;m++){var w=E[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,E,m){return E&&_(v.prototype,E),m&&_(v,m),v}}(),y=function(){function _(){u(this,_),this.init()}return p(_,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),_}(),c=new y;o.default=c,d.exports=o.default},{}],59:[function(t,d,o){"use strict";function u(H){return H&&H.__esModule?H:{default:H}}function p(){function H(){pe(),ce.on(D.default.QUALITY_CHANGE_REQUESTED,ae,Pe),ce.on(D.default.REPRESENTATION_UPDATED,de,Pe),ce.on(D.default.WALLCLOCK_TIME_UPDATED,Ae,Pe),ce.on(D.default.BUFFER_LEVEL_UPDATED,De,Pe),ce.on(D.default.MANIFEST_VALIDITY_CHANGED,me,Pe)}function S(Fe){Fe.abrController&&(K=Fe.abrController),Fe.domStorage&&(x=Fe.domStorage),Fe.metricsModel&&(h=Fe.metricsModel),Fe.dashMetrics&&(J=Fe.dashMetrics),Fe.dashManifestModel&&(z=Fe.dashManifestModel),Fe.playbackController&&(we=Fe.playbackController),Fe.timelineConverter&&(U=Fe.timelineConverter),Fe.manifestModel&&(We=Fe.manifestModel),Fe.streamProcessor&&(ye=Fe.streamProcessor)}function l(){he=ye.getIndexHandler()}function Y(){return ye}function C(){return N}function O(){return Z}function q(){return L}function Q(){return ne}function pe(){N=null,Z=-1,L=!0,F=[],K=null,we=null,h=null,x=null,U=null,z=null,J=null}function re(){ce.off(D.default.QUALITY_CHANGE_REQUESTED,ae,Pe),ce.off(D.default.REPRESENTATION_UPDATED,de,Pe),ce.off(D.default.WALLCLOCK_TIME_UPDATED,Ae,Pe),ce.off(D.default.BUFFER_LEVEL_UPDATED,De,Pe),ce.off(D.default.MANIFEST_VALIDITY_CHANGED,me,Pe),pe()}function ue(Fe,qe,Ye){var Xe=ye.getStreamInfo(),ht=K.getTopQualityIndexFor(Ye,Xe.id),It=K.getMinAllowedIndexFor(Ye),Ke=void 0,pt=void 0,ct=null;if(L=!0,ce.trigger(D.default.DATA_UPDATE_STARTED,{sender:this}),F=fe(qe),N!==null&&N.id==Fe.id||Ye===c.default.FRAGMENTED_TEXT?Ke=K.getQualityFor(Ye,Xe):(pt=K.getThroughputHistory().getAverageThroughput(Ye),ct=pt||K.getInitialBitrateFor(Ye,Xe),Ke=K.getQualityForBitrate(ye.getMediaInfo(),ct)),It!==void 0&&Ke<It&&(Ke=It),Ke>ht&&(Ke=ht),ne=ie(Ke),N=Fe,Ye!==c.default.VIDEO&&Ye!==c.default.AUDIO&&Ye!==c.default.FRAGMENTED_TEXT)return L=!1,void ce.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:N,currentRepresentation:ne});for(var nt=0;nt<F.length;nt++)he.updateRepresentation(F[nt],!0)}function ee(){var Fe=new Date,qe=Q(),Ye=1e3*we.getTime();h.addRepresentationSwitch(qe.adaptation.type,Fe,Ye,qe.id)}function be(){var Fe=ye.getStreamInfo(),qe=Fe?Fe.manifestInfo:null,Ye=qe?qe.isDynamic:null,Xe=U.calcSegmentAvailabilityRange(ne,Ye);h.addDVRInfo(ye.getType(),we.getTime(),qe,Xe)}function ie(Fe){return F[Fe]}function Te(Fe){return F.indexOf(Fe)}function ve(){for(var Fe=0,qe=F.length;Fe<qe;Fe++){var Ye=F[Fe].segmentInfoType;if(F[Fe].segmentAvailabilityRange===null||!W.default.hasInitialization(F[Fe])||(Ye===v.default.SEGMENT_BASE||Ye===v.default.BASE_URL)&&!F[Fe].segments)return!1}return!0}function fe(Fe){return Z=z.getIndexForAdaptation(N,Fe.period.mpd.manifest,Fe.period.index),z.getRepresentationsForAdaptation(Fe)}function Ee(Fe){for(var qe=void 0,Ye=0,Xe=F.length;Ye<Xe;Ye++)qe=F[Ye],qe.segmentAvailabilityRange=U.calcSegmentAvailabilityRange(qe,Fe)}function Se(){F.forEach(function(Fe){Fe.segmentAvailabilityRange=null})}function V(Fe){var qe=Fe,Ye=function(){if(!q()){L=!0,ce.trigger(D.default.DATA_UPDATE_STARTED,{sender:Pe}),Se();for(var Xe=0;Xe<F.length;Xe++)he.updateRepresentation(F[Xe],!0)}};L=!1,ce.trigger(D.default.AST_IN_FUTURE,{delay:qe}),setTimeout(Ye,qe)}function de(Fe){if(Fe.sender.getStreamProcessor()===ye&&q()){var qe=Fe.representation,Ye=h.getMetricsFor(c.default.STREAM),Xe=h.getMetricsFor(Q().adaptation.type),ht=J.getCurrentManifestUpdate(Ye),It=!1,Ke=0,pt=void 0,ct=void 0,nt=void 0;if(qe.adaptation.period.mpd.manifest.type===v.default.DYNAMIC&&!qe.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var Lt=qe.segmentAvailabilityRange.end-qe.segmentAvailabilityRange.start;Ke=1e3*(we.computeLiveDelay(ne.segmentDuration,ye.getStreamInfo().manifestInfo.DVRWindowSize)-Lt)}if(Ke>0)return be(),V(Ke),ct=new m.default(Ce,"Segments update failed",null),void ce.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:N,currentRepresentation:ne,error:ct});if(ht){for(var Ut=0;Ut<ht.representationInfo.length;Ut++)if(pt=ht.representationInfo[Ut],pt.index===qe.index&&pt.mediaType===ye.getType()){It=!0;break}It||h.addManifestUpdateRepresentationInfo(ht,qe.id,qe.index,qe.adaptation.period.index,ye.getType(),qe.presentationTimeOffset,qe.startNumber,qe.segmentInfoType)}ve()&&(L=!1,K.setPlaybackQuality(ye.getType(),ye.getStreamInfo(),Te(ne)),h.updateManifestUpdateInfo(ht,{latency:ne.segmentAvailabilityRange.end-we.getTime()}),nt=J.getCurrentRepresentationSwitch(Xe),nt||ee(),ce.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:N,currentRepresentation:ne}))}}function Ae(Fe){Fe.isDynamic&&Ee(Fe.isDynamic)}function De(Fe){Fe.sender.getStreamProcessor()===ye&&(We.getValue().doNotUpdateDVRWindowOnBufferUpdated||be())}function ae(Fe){if(Fe.mediaType===ye.getType()&&ye.getStreamInfo().id===Fe.streamInfo.id&&Fe.oldQuality!==Fe.newQuality){ne=ie(Fe.newQuality);var qe=K.getThroughputHistory().getAverageThroughput(Fe.mediaType);isNaN(qe)||x.setSavedBitrateSettings(Fe.mediaType,qe),ee()}}function me(Fe){if(Fe.newDuration){var qe=Q();qe&&qe.adaptation.period&&(qe.adaptation.period.duration=Fe.newDuration)}}var Ce=1,xe=this.context,ce=(0,A.default)(xe).getInstance(),Pe=void 0,N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,h=void 0,x=void 0,U=void 0,z=void 0,J=void 0,ye=void 0,We=void 0;return Pe={initialize:l,setConfig:S,getData:C,getDataIndex:O,isUpdating:q,updateData:ue,getStreamProcessor:Y,getCurrentRepresentation:Q,getRepresentationForQuality:ie,reset:re},H(),Pe}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(58),v=u(_),E=t(160),m=u(E),w=t(47),A=u(w),b=t(51),D=u(b),P=t(48),R=u(P),j=t(84),W=u(j);p.__dashjs_factory_name="RepresentationController",o.default=R.default.getClassFactory(p),d.exports=o.default},{160:160,47:47,48:48,51:51,58:58,84:84,98:98}],60:[function(t,d,o){"use strict";function u(be){return be&&be.__esModule?be:{default:be}}function p(be){function ie(se,Be){var e=void 0,i=void 0,n=void 0,r=void 0,g=void 0,I=void 0,B=!1,G=!1;if(!se)throw new Error("adaptation is not defined");if(!Be)throw new Error("type is not defined");if(se.hasOwnProperty("ContentComponent_asArray")&&(r=se.ContentComponent_asArray),g=Be!==c.default.TEXT?new RegExp(Be):new RegExp("(vtt|ttml)"),se.Representation_asArray&&se.Representation_asArray.length&&se.Representation_asArray.length>0&&se.Representation_asArray[0].hasOwnProperty(v.default.CODECS)&&(I=se.Representation_asArray[0].codecs,I.search(c.default.STPP)===0||I.search(c.default.WVTT)===0))return Be===c.default.FRAGMENTED_TEXT;if(r){if(r.length>1)return Be===c.default.MUXED;r[0]&&r[0].contentType===Be&&(B=!0,G=!0)}if(se.hasOwnProperty(v.default.MIME_TYPE)&&(B=g.test(se.mimeType),G=!0),!G)for(e=0,i=se.Representation_asArray&&se.Representation_asArray.length?se.Representation_asArray.length:0;!G&&e<i;)n=se.Representation_asArray[e],n.hasOwnProperty(v.default.MIME_TYPE)&&(B=g.test(n.mimeType),G=!0),e++;return B}function Te(se){return ie(se,c.default.AUDIO)}function ve(se){return ie(se,c.default.VIDEO)}function fe(se){return ie(se,c.default.FRAGMENTED_TEXT)}function Ee(se){return ie(se,c.default.TEXT)}function Se(se){return ie(se,c.default.MUXED)}function V(se){return ie(se,c.default.IMAGE)}function de(se){return se==="text/vtt"||se==="application/ttml+xml"}function Ae(se){var Be="";return se&&se.hasOwnProperty(v.default.LANG)&&(Be=se.lang.replace(/[^A-Za-z0-9-]/g,"")),Be}function De(se){return se&&se.hasOwnProperty(v.default.VIEWPOINT)?se.Viewpoint:null}function ae(se){return se&&se.hasOwnProperty(v.default.ROLE_ASARRAY)?se.Role_asArray:[]}function me(se){return se&&se.hasOwnProperty(v.default.ACCESSIBILITY_ASARRAY)?se.Accessibility_asArray:[]}function Ce(se){return se&&se.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?se.AudioChannelConfiguration_asArray:[]}function xe(se){return ae(se).filter(function(Be){return Be.value===v.default.MAIN})[0]}function ce(){return function(se,Be){return se.bandwidth-Be.bandwidth}}function Pe(se){return se&&se.Representation_asArray!==void 0&&se.Representation_asArray!==null&&se.Representation_asArray.sort(ce()),se}function N(se,Be,e){var i=Be&&Be.Period_asArray&&Rt(e)&&Be.Period_asArray[e]?Be.Period_asArray[e].AdaptationSet_asArray:[],n=void 0,r=void 0;for(n=0,r=i.length;n<r;n++)if(i[n].hasOwnProperty(v.default.ID)&&i[n].id===se)return i[n];return null}function Z(se,Be,e){var i=Be&&Be.Period_asArray&&Rt(e)&&Be.Period_asArray[e]?Be.Period_asArray[e].AdaptationSet_asArray:null;return i&&Rt(se)?i[se]:null}function L(se,Be,e){var i=Be&&Be.Period_asArray&&Rt(e)&&Be.Period_asArray[e]?Be.Period_asArray[e].AdaptationSet_asArray:[],n=i.length;if(se)for(var r=0;r<n;r++){var g=(0,Q.default)(At).getInstance();if(g.areEqual(i[r],se))return r}return-1}function F(se,Be,e){var i=se&&se.Period_asArray&&Rt(Be)&&se.Period_asArray[Be]?se.Period_asArray[Be].AdaptationSet_asArray:[],n=void 0,r=void 0,g=[];for(n=0,r=i.length;n<r;n++)ie(i[n],e)&&g.push(Pe(i[n]));return g}function ne(se,Be,e,i){var n=F(se,Be,e);if(!n||n.length===0)return null;if(n.length>1&&i){for(var r=lt.getCurrentTrackFor(e,i),g=bt.getAllMediaInfoForType(i,e),I=0,B=n.length;I<B;I++)if(r&&lt.isTracksEqual(r,g[I]))return n[I];for(var I=0,B=n.length;I<B;I++)if(xe(n[I]))return n[I]}return n[0]}function K(se,Be,e){if(se&&se.Representation_asArray&&se.Representation_asArray.length>0){var i=Rt(Be)&&Be>=0&&Be<se.Representation_asArray.length?se.Representation_asArray[Be]:se.Representation_asArray[0],n=i.mimeType+';codecs="'+i.codecs+'"';return e&&i.width!==void 0&&(n+=';width="'+i.width+'";height="'+i.height+'"'),n}return null}function he(se){return se&&se.Representation_asArray&&se.Representation_asArray.length>0?se.Representation_asArray[0].mimeType:null}function we(se){return se&&se.hasOwnProperty(v.default.CENC_DEFAULT_KID)?se[v.default.CENC_DEFAULT_KID]:null}function h(se){return se&&se.hasOwnProperty(v.default.CONTENTPROTECTION_ASARRAY)&&se.ContentProtection_asArray.length!==0?se.ContentProtection_asArray:null}function x(se){var Be=!1;return se&&se.hasOwnProperty("type")&&(Be=se.type===v.default.DYNAMIC),Be}function U(se,Be){var e=!1;return se&&se.profiles&&se.profiles.length>0&&(e=se.profiles.indexOf(Be)!==-1),e}function z(se){return U(se,Ft)}function J(se){return se&&se.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)?se.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function ye(se){return se&&se.bandwidth?se.bandwidth:NaN}function We(se){var Be=arguments.length<=1||arguments[1]===void 0?0:arguments[1],e=NaN;return se&&se.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(e=se.minimumUpdatePeriod),isNaN(e)?e:Math.max(e-Be,1)}function Fe(se){return se&&se.Representation_asArray&&se.Representation_asArray.length?se.Representation_asArray.length:0}function qe(se){return se&&se.Representation_asArray&&se.Representation_asArray.length?Pe(se).Representation_asArray.map(function(Be){return{bandwidth:Be.bandwidth,width:Be.width||0,height:Be.height||0,scanType:Be.scanType||null}}):null}function Ye(se){return se&&se.EssentialProperty_asArray&&se.EssentialProperty_asArray.length?se.EssentialProperty_asArray.map(function(Be){return{schemeIdUri:Be.schemeIdUri,value:Be.value}}):null}function Xe(se,Be){return Be&&Be.Representation_asArray&&Be.Representation_asArray.length>0&&Rt(se)?Be.Representation_asArray[se]:null}function ht(se){var Be=[],e=void 0,i=void 0,n=void 0,r=void 0,g=void 0,I=void 0,B=void 0;if(se&&se.period&&Rt(se.period.index)){var G=se.period.mpd.manifest.Period_asArray[se.period.index];G&&G.AdaptationSet_asArray&&Rt(se.index)&&(r=Pe(G.AdaptationSet_asArray[se.index]))}if(r&&r.Representation_asArray)for(I=0;r&&I<r.Representation_asArray.length;I++)g=r.Representation_asArray[I],e=new m.default,e.index=I,e.adaptation=se,g.hasOwnProperty(v.default.ID)&&(e.id=g.id),g.hasOwnProperty(v.default.CODECS)&&(e.codecs=g.codecs),g.hasOwnProperty(v.default.CODEC_PRIVATE_DATA)&&(e.codecPrivateData=g.codecPrivateData),g.hasOwnProperty(v.default.BANDWITH)&&(e.bandwidth=g.bandwidth),g.hasOwnProperty(v.default.WIDTH)&&(e.width=g.width),g.hasOwnProperty(v.default.HEIGHT)&&(e.height=g.height),g.hasOwnProperty(v.default.SCAN_TYPE)&&(e.scanType=g.scanType),g.hasOwnProperty(v.default.MAX_PLAYOUT_RATE)&&(e.maxPlayoutRate=g.maxPlayoutRate),g.hasOwnProperty(v.default.SEGMENT_BASE)?(n=g.SegmentBase,e.segmentInfoType=v.default.SEGMENT_BASE):g.hasOwnProperty(v.default.SEGMENT_LIST)?(n=g.SegmentList,n.hasOwnProperty(v.default.SEGMENT_TIMELINE)?(e.segmentInfoType=v.default.SEGMENT_TIMELINE,B=n.SegmentTimeline.S_asArray[n.SegmentTimeline.S_asArray.length-1],(!B.hasOwnProperty("r")||B.r>=0)&&(e.useCalculatedLiveEdgeTime=!0)):(e.segmentInfoType=v.default.SEGMENT_LIST,e.useCalculatedLiveEdgeTime=!0)):g.hasOwnProperty(v.default.SEGMENT_TEMPLATE)?(n=g.SegmentTemplate,n.hasOwnProperty(v.default.SEGMENT_TIMELINE)?(e.segmentInfoType=v.default.SEGMENT_TIMELINE,B=n.SegmentTimeline.S_asArray[n.SegmentTimeline.S_asArray.length-1],(!B.hasOwnProperty("r")||B.r>=0)&&(e.useCalculatedLiveEdgeTime=!0)):e.segmentInfoType=v.default.SEGMENT_TEMPLATE,n.hasOwnProperty(v.default.INITIALIZATION_MINUS)&&(e.initialization=n.initialization.split("$Bandwidth$").join(g.bandwidth).split("$RepresentationID$").join(g.id))):e.segmentInfoType=v.default.BASE_URL,e.essentialProperties=Ye(g),n&&(n.hasOwnProperty(v.default.INITIALIZATION)?(i=n.Initialization,i.hasOwnProperty(v.default.SOURCE_URL)?e.initialization=i.sourceURL:i.hasOwnProperty(v.default.RANGE)&&(e.range=i.range)):g.hasOwnProperty(v.default.MIME_TYPE)&&de(g.mimeType)&&(e.range=0),n.hasOwnProperty(v.default.TIMESCALE)&&(e.timescale=n.timescale),n.hasOwnProperty(v.default.DURATION)&&(e.segmentDuration=n.duration/e.timescale),n.hasOwnProperty(v.default.MEDIA)&&(e.media=n.media),n.hasOwnProperty(v.default.START_NUMBER)&&(e.startNumber=n.startNumber),n.hasOwnProperty(v.default.INDEX_RANGE)&&(e.indexRange=n.indexRange),n.hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(e.presentationTimeOffset=n.presentationTimeOffset/e.timescale)),e.MSETimeOffset=ut.calcMSETimeOffset(e),e.path=[se.period.index,se.index,I],Be.push(e);return Be}function It(se){var Be=se&&Rt(se.index)?se.mpd.manifest.Period_asArray[se.index]:null,e=[],i=void 0,n=void 0,r=void 0;if(Be&&Be.AdaptationSet_asArray)for(r=0;r<Be.AdaptationSet_asArray.length;r++)n=Be.AdaptationSet_asArray[r],i=new A.default,n.hasOwnProperty(v.default.ID)&&(i.id=n.id),i.index=r,i.period=se,Se(n)?i.type=c.default.MUXED:Te(n)?i.type=c.default.AUDIO:ve(n)?i.type=c.default.VIDEO:fe(n)?i.type=c.default.FRAGMENTED_TEXT:V(n)?i.type=c.default.IMAGE:i.type=c.default.TEXT,e.push(i);return e}function Ke(se){var Be=!!se&&x(se.manifest),e=[],i=null,n=null,r=null,g=null,I=void 0,B=void 0;for(B=0,I=se&&se.manifest&&se.manifest.Period_asArray?se.manifest.Period_asArray.length:0;B<I;B++)n=se.manifest.Period_asArray[B],n.hasOwnProperty(v.default.START)?(g=new D.default,g.start=n.start):i!==null&&n.hasOwnProperty(v.default.DURATION)&&r!==null?(g=new D.default,g.start=parseFloat((r.start+r.duration).toFixed(5)),g.duration=n.duration):B!==0||Be||(g=new D.default,g.start=0),r!==null&&isNaN(r.duration)&&(r.duration=parseFloat((g.start-r.start).toFixed(5))),g!==null&&(g.id=pt(n,B)),g!==null&&n.hasOwnProperty(v.default.DURATION)&&(g.duration=n.duration),g!==null&&(g.index=B,g.mpd=se,e.push(g),i=n,r=g),n=null,g=null;return e.length===0||r!==null&&isNaN(r.duration)&&(r.duration=parseFloat((nt(r)-r.start).toFixed(5))),e}function pt(se,Be){if(!se)throw new Error("Period cannot be null or undefined");var e=D.default.DEFAULT_ID+"_"+Be;return se.hasOwnProperty(v.default.ID)&&se.id.length>0&&se.id!=="__proto__"&&(e=se.id),e}function ct(se){var Be=new R.default;return se&&(Be.manifest=se,se.hasOwnProperty(v.default.AVAILABILITY_START_TIME)?Be.availabilityStartTime=new Date(se.availabilityStartTime.getTime()):Be.availabilityStartTime=new Date(se.loadedTime.getTime()),se.hasOwnProperty(v.default.AVAILABILITY_END_TIME)&&(Be.availabilityEndTime=new Date(se.availabilityEndTime.getTime())),se.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(Be.minimumUpdatePeriod=se.minimumUpdatePeriod),se.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)&&(Be.mediaPresentationDuration=se.mediaPresentationDuration),se.hasOwnProperty(c.default.SUGGESTED_PRESENTATION_DELAY)&&(Be.suggestedPresentationDelay=se.suggestedPresentationDelay),se.hasOwnProperty(v.default.TIMESHIFT_BUFFER_DEPTH)&&(Be.timeShiftBufferDepth=se.timeShiftBufferDepth),se.hasOwnProperty(v.default.MAX_SEGMENT_DURATION)&&(Be.maxSegmentDuration=se.maxSegmentDuration)),Be}function nt(se){var Be=x(se.mpd.manifest),e=void 0;if(se.mpd.manifest.mediaPresentationDuration)e=se.mpd.manifest.mediaPresentationDuration;else if(se.duration)e=se.duration;else{if(!Be)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");e=Number.POSITIVE_INFINITY}return e}function Lt(se){var Be=se&&se.mpd&&se.mpd.manifest?se.mpd.manifest:null,e=Be?Be.Period_asArray:null,i=e&&se&&Rt(se.index)?e[se.index].EventStream_asArray:null,n=[],r=void 0,g=void 0;if(i)for(r=0;r<i.length;r++){var I=new O.default;if(I.period=se,I.timescale=1,!i[r].hasOwnProperty(c.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(I.schemeIdUri=i[r].schemeIdUri,i[r].hasOwnProperty(v.default.TIMESCALE)&&(I.timescale=i[r].timescale),i[r].hasOwnProperty(v.default.VALUE)&&(I.value=i[r].value),g=0;g<i[r].Event_asArray.length;g++){var B=new S.default;B.presentationTime=0,B.eventStream=I,i[r].Event_asArray[g].hasOwnProperty(v.default.PRESENTATION_TIME)&&(B.presentationTime=i[r].Event_asArray[g].presentationTime),i[r].Event_asArray[g].hasOwnProperty(v.default.DURATION)&&(B.duration=i[r].Event_asArray[g].duration),i[r].Event_asArray[g].hasOwnProperty(v.default.ID)&&(B.id=i[r].Event_asArray[g].id),n.push(B)}}return n}function Ut(se,Be){var e=[],i=void 0;if(!se)return e;for(i=0;i<se.length;i++){var n=new O.default;if(n.timescale=1,n.representation=Be,!se[i].hasOwnProperty(c.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");n.schemeIdUri=se[i].schemeIdUri,se[i].hasOwnProperty(v.default.TIMESCALE)&&(n.timescale=se[i].timescale),se[i].hasOwnProperty(v.default.VALUE)&&(n.value=se[i].value),e.push(n)}return e}function gt(se,Be){var e=void 0,i=void 0,n=void 0;return se&&se.Period_asArray&&Be&&Be.period&&Rt(Be.period.index)&&(i=se.Period_asArray[Be.period.index])&&i.AdaptationSet_asArray&&Rt(Be.index)&&(n=i.AdaptationSet_asArray[Be.index])&&(e=n.InbandEventStream_asArray),Ut(e,null)}function Tt(se,Be){var e=void 0,i=void 0,n=void 0,r=void 0;return se&&se.Period_asArray&&Be&&Be.adaptation&&Be.adaptation.period&&Rt(Be.adaptation.period.index)&&(i=se.Period_asArray[Be.adaptation.period.index])&&i.AdaptationSet_asArray&&Rt(Be.adaptation.index)&&(n=i.AdaptationSet_asArray[Be.adaptation.index])&&n.Representation_asArray&&Rt(Be.index)&&(r=n.Representation_asArray[Be.index])&&(e=r.InbandEventStream_asArray),Ut(e,Be)}function st(se){var Be=x(se),e=!!se&&se.hasOwnProperty(v.default.AVAILABILITY_START_TIME),i=se?se.UTCTiming_asArray:null,n=[];return(Be||e)&&i&&i.forEach(function(r){var g=new W.default;r.hasOwnProperty(c.default.SCHEME_ID_URI)&&(g.schemeIdUri=r.schemeIdUri,r.hasOwnProperty(v.default.VALUE)&&(g.value=r.value.toString(),n.push(g)))}),n}function Ze(se){var Be=[],e=se.BaseURL_asArray||[se.baseUri],i=!1;return e.some(function(n){if(n){var r=new Y.default,g=n.__text||n;return wt.isRelative(g)&&(i=!0,se.baseUri&&(g=wt.resolve(g,se.baseUri))),r.url=g,n.hasOwnProperty(v.default.SERVICE_LOCATION)&&n.serviceLocation.length?r.serviceLocation=n.serviceLocation:r.serviceLocation=g,n.hasOwnProperty(v.default.DVB_PRIORITY)&&(r.dvb_priority=n[v.default.DVB_PRIORITY]),n.hasOwnProperty(v.default.DVB_WEIGHT)&&(r.dvb_weight=n[v.default.DVB_WEIGHT]),Be.push(r),i}}),Be}function et(se){if(se&&se.hasOwnProperty(c.default.LOCATION))return se.Location=se.Location_asArray[0],se.Location}be=be||{};var At=this.context,wt=(0,re.default)(At).getInstance(),lt=be.mediaController,ut=be.timelineConverter,bt=be.adapter,Ft="urn:dvb:dash:profile:dvb-dash:2014",Rt=Number.isInteger||function(se){return typeof se=="number"&&isFinite(se)&&Math.floor(se)===se};return{getIsTypeOf:ie,getIsAudio:Te,getIsVideo:ve,getIsText:Ee,getIsMuxed:Se,getIsTextTrack:de,getIsFragmentedText:fe,getIsImage:V,getIsMain:xe,getLanguageForAdaptation:Ae,getViewpointForAdaptation:De,getRolesForAdaptation:ae,getAccessibilityForAdaptation:me,getAudioChannelConfigurationForAdaptation:Ce,getAdaptationForIndex:Z,getIndexForAdaptation:L,getAdaptationForId:N,getAdaptationsForType:F,getAdaptationForType:ne,getCodec:K,getMimeType:he,getKID:we,getContentProtectionData:h,getIsDynamic:x,getIsDVB:z,getDuration:J,getBandwidth:ye,getManifestUpdatePeriod:We,getRepresentationCount:Fe,getBitrateListForAdaptation:qe,getRepresentationFor:Xe,getRepresentationsForAdaptation:ht,getAdaptationsForPeriod:It,getRegularPeriods:Ke,getMpd:ct,getEventsForPeriod:Lt,getEventStreamForAdaptationSet:gt,getEventStreamForRepresentation:Tt,getUTCTimingSources:st,getBaseURLsFromElement:Ze,getRepresentationSortFunction:ce,getLocation:et}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(58),v=u(_),E=t(84),m=u(E),w=t(78),A=u(w),b=t(83),D=u(b),P=t(82),R=u(P),j=t(86),W=u(j),H=t(80),S=u(H),l=t(79),Y=u(l),C=t(81),O=u(C),q=t(152),Q=u(q),pe=t(155),re=u(pe),ue=t(48),ee=u(ue);p.__dashjs_factory_name="DashManifestModel",o.default=ee.default.getSingletonFactory(p),d.exports=o.default},{152:152,155:155,48:48,58:58,78:78,79:79,80:80,81:81,82:82,83:83,84:84,86:86,98:98}],61:[function(t,d,o){"use strict";function u(q){return q&&q.__esModule?q:{default:q}}function p(q){function Q(){fe=[new R.default,new W.default,new S.default,new D.default],Ee=new A.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:fe}),Se=new m.default([new Y.default,new O.default])}function pe(){if(!Te||!Te.hasOwnProperty("manifestError"))throw new Error("Missing config parameter(s)")}function re(){return fe}function ue(){return Se}function ee(V){var de=void 0;pe();try{var Ae=window.performance.now();if(!(de=Ee.xml_str2json(V)))throw new Error("parser error");var De=window.performance.now();Se.run(de);var ae=window.performance.now();ie("Parsing complete: ( xml2json: "+(De-Ae).toPrecision(3)+"ms, objectiron: "+(ae-De).toPrecision(3)+"ms, total: "+((ae-Ae)/1e3).toPrecision(3)+"s)")}catch(me){return Te.manifestError("parsing the manifest failed","parse",V,me),null}return de}q=q||{};var be=this.context,ie=(0,v.default)(be).getInstance().log,Te=q.errorHandler,ve=void 0,fe=void 0,Ee=void 0,Se=void 0;return ve={parse:ee,getMatchers:re,getIron:ue},Q(),ve}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(46),v=u(_),E=t(3),m=u(E),w=t(4),A=u(w),b=t(70),D=u(b),P=t(68),R=u(P),j=t(67),W=u(j),H=t(69),S=u(H),l=t(64),Y=u(l),C=t(65),O=u(C);p.__dashjs_factory_name="DashParser",o.default=c.default.getClassFactory(p),d.exports=o.default},{3:3,4:4,46:46,48:48,64:64,65:65,67:67,68:68,69:69,70:70}],62:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function c(_,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,E){return v&&c(_.prototype,v),E&&c(_,E),_}}(),y=function(){function c(_,v){u(this,c);var E=function(m){return m&&m.length&&m.charAt(0)===m.charAt(0).toUpperCase()};this._name=_,this._merge=v!==void 0?v:E(_)}return p(c,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),c}();o.default=y,d.exports=o.default},{}],63:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function E(m,w){for(var A=0;A<w.length;A++){var b=w[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,w,A){return w&&E(m.prototype,w),A&&E(m,A),m}}(),c=t(62),_=u(c),v=function(){function E(m,w,A,b,D){var P=this;p(this,E),this._name=m||"",this._properties=[],this._children=A||[],this._isRoot=b||!1,this._isArray=D||!0,Array.isArray(w)&&w.forEach(function(R){P._properties.push(new _.default(R))})}return y(E,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),E}();o.default=v,d.exports=o.default},{62:62}],64:[function(t,d,o){"use strict";function u(A){return A&&A.__esModule?A:{default:A}}function p(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function y(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(A,b,D){for(var P=!0;P;){var R=A,j=b,W=D;P=!1,R===null&&(R=Function.prototype);var H=Object.getOwnPropertyDescriptor(R,j);if(H!==void 0){if("value"in H)return H.value;var S=H.get;return S===void 0?void 0:S.call(W)}var l=Object.getPrototypeOf(R);if(l===null)return;A=l,b=j,D=W,P=!0,H=l=void 0}},_=t(63),v=u(_),E=t(58),m=u(E),w=function(A){function b(){p(this,b);var D=[m.default.PROFILES,m.default.WIDTH,m.default.HEIGHT,m.default.SAR,m.default.FRAMERATE,m.default.AUDIO_SAMPLING_RATE,m.default.MIME_TYPE,m.default.SEGMENT_PROFILES,m.default.CODECS,m.default.MAXIMUM_SAP_PERIOD,m.default.START_WITH_SAP,m.default.MAX_PLAYOUT_RATE,m.default.CODING_DEPENDENCY,m.default.SCAN_TYPE,m.default.FRAME_PACKING,m.default.AUDIO_CHANNEL_CONFIGURATION,m.default.CONTENT_PROTECTION,m.default.ESSENTIAL_PROPERTY,m.default.SUPPLEMENTAL_PROPERTY,m.default.INBAND_EVENT_STREAM];c(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,m.default.ADAPTATION_SET,D,[new v.default(m.default.REPRESENTATION,D,[new v.default(m.default.SUB_REPRESENTATION,D)])])}return y(b,A),b}(v.default);o.default=w,d.exports=o.default},{58:58,63:63}],65:[function(t,d,o){"use strict";function u(A){return A&&A.__esModule?A:{default:A}}function p(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function y(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(A,b,D){for(var P=!0;P;){var R=A,j=b,W=D;P=!1,R===null&&(R=Function.prototype);var H=Object.getOwnPropertyDescriptor(R,j);if(H!==void 0){if("value"in H)return H.value;var S=H.get;return S===void 0?void 0:S.call(W)}var l=Object.getPrototypeOf(R);if(l===null)return;A=l,b=j,D=W,P=!0,H=l=void 0}},_=t(63),v=u(_),E=t(58),m=u(E),w=function(A){function b(){p(this,b);var D=[m.default.SEGMENT_BASE,m.default.SEGMENT_TEMPLATE,m.default.SEGMENT_LIST];c(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,m.default.PERIOD,D,[new v.default(m.default.ADAPTATION_SET,D,[new v.default(m.default.REPRESENTATION,D)])])}return y(b,A),b}(v.default);o.default=w,d.exports=o.default},{58:58,63:63}],66:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function c(_,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,E){return v&&c(_.prototype,v),E&&c(_,E),_}}(),y=function(){function c(_,v){u(this,c),this._test=_,this._converter=v}return p(c,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),c}();o.default=y,d.exports=o.default},{}],67:[function(t,d,o){"use strict";function u(D){return D&&D.__esModule?D:{default:D}}function p(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")}function y(D,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);D.prototype=Object.create(P&&P.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(D,P):D.__proto__=P)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(D,P,R){for(var j=!0;j;){var W=D,H=P,S=R;j=!1,W===null&&(W=Function.prototype);var l=Object.getOwnPropertyDescriptor(W,H);if(l!==void 0){if("value"in l)return l.value;var Y=l.get;return Y===void 0?void 0:Y.call(S)}var C=Object.getPrototypeOf(W);if(C===null)return;D=C,P=H,R=S,j=!0,l=C=void 0}},_=t(66),v=u(_),E=60,m=60,w=1e3,A=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,b=function(D){function P(){p(this,P),c(Object.getPrototypeOf(P.prototype),"constructor",this).call(this,function(R){return A.test(R.value)},function(R){var j=A.exec(R),W=void 0;if(W=Date.UTC(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10),j[6]&&parseInt(j[6],10)||0,j[7]&&parseFloat(j[7])*w||0),j[9]&&j[10]){var H=parseInt(j[9],10)*m+parseInt(j[10],10);W+=(j[8]==="+"?-1:1)*H*E*w}return new Date(W)})}return y(P,D),P}(v.default);o.default=b,d.exports=o.default},{66:66}],68:[function(t,d,o){"use strict";function u(S){return S&&S.__esModule?S:{default:S}}function p(S,l){if(!(S instanceof l))throw new TypeError("Cannot call a class as a function")}function y(S,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);S.prototype=Object.create(l&&l.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(S,l):S.__proto__=l)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(S,l,Y){for(var C=!0;C;){var O=S,q=l,Q=Y;C=!1,O===null&&(O=Function.prototype);var pe=Object.getOwnPropertyDescriptor(O,q);if(pe!==void 0){if("value"in pe)return pe.value;var re=pe.get;return re===void 0?void 0:re.call(Q)}var ue=Object.getPrototypeOf(O);if(ue===null)return;S=ue,l=q,Y=Q,C=!0,pe=ue=void 0}},_=t(66),v=u(_),E=t(98),m=u(E),w=t(58),A=u(w),b=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,D=31536e3,P=2592e3,R=86400,j=3600,W=60,H=function(S){function l(){p(this,l),c(Object.getPrototypeOf(l.prototype),"constructor",this).call(this,function(Y){for(var C=[A.default.MIN_BUFFER_TIME,A.default.MEDIA_PRESENTATION_DURATION,A.default.MINIMUM_UPDATE_PERIOD,A.default.TIMESHIFT_BUFFER_DEPTH,A.default.MAX_SEGMENT_DURATION,A.default.MAX_SUBSEGMENT_DURATION,m.default.SUGGESTED_PRESENTATION_DELAY,A.default.START,m.default.START_TIME,A.default.DURATION],O=C.length,q=0;q<O;q++)if(Y.nodeName===C[q])return b.test(Y.value);return!1},function(Y){var C=b.exec(Y),O=parseFloat(C[2]||0)*D+parseFloat(C[4]||0)*P+parseFloat(C[6]||0)*R+parseFloat(C[8]||0)*j+parseFloat(C[10]||0)*W+parseFloat(C[12]||0);return C[1]!==void 0&&(O=-O),O})}return y(l,S),l}(v.default);o.default=H,d.exports=o.default},{58:58,66:66,98:98}],69:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function y(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(w,A,b){for(var D=!0;D;){var P=w,R=A,j=b;D=!1,P===null&&(P=Function.prototype);var W=Object.getOwnPropertyDescriptor(P,R);if(W!==void 0){if("value"in W)return W.value;var H=W.get;return H===void 0?void 0:H.call(j)}var S=Object.getPrototypeOf(P);if(S===null)return;w=S,A=R,b=j,D=!0,W=S=void 0}},_=t(66),v=u(_),E=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,m=function(w){function A(){p(this,A),c(Object.getPrototypeOf(A.prototype),"constructor",this).call(this,function(b){return E.test(b.value)},function(b){return parseFloat(b)})}return y(A,w),A}(v.default);o.default=m,d.exports=o.default},{66:66}],70:[function(t,d,o){"use strict";function u(b){return b&&b.__esModule?b:{default:b}}function p(b,D,P){return D in b?Object.defineProperty(b,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):b[D]=P,b}function y(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function c(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(b,D):b.__proto__=D)}Object.defineProperty(o,"__esModule",{value:!0});var _=function(b,D,P){for(var R=!0;R;){var j=b,W=D,H=P;R=!1,j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,W);if(S!==void 0){if("value"in S)return S.value;var l=S.get;return l===void 0?void 0:l.call(H)}var Y=Object.getPrototypeOf(j);if(Y===null)return;b=Y,D=W,P=H,R=!0,S=Y=void 0}},v=t(66),E=u(v),m=t(58),w=u(m),A=function(b){function D(){y(this,D),_(Object.getPrototypeOf(D.prototype),"constructor",this).call(this,function(P,R){var j,W=(j={},p(j,w.default.MPD,[w.default.ID,w.default.PROFILES]),p(j,w.default.PERIOD,[w.default.ID]),p(j,w.default.BASE_URL,[w.default.SERVICE_LOCATION,w.default.BYTE_RANGE]),p(j,w.default.SEGMENT_BASE,[w.default.INDEX_RANGE]),p(j,w.default.INITIALIZATION,[w.default.RANGE]),p(j,w.default.REPRESENTATION_INDEX,[w.default.RANGE]),p(j,w.default.SEGMENT_LIST,[w.default.INDEX_RANGE]),p(j,w.default.BITSTREAM_SWITCHING,[w.default.RANGE]),p(j,w.default.SEGMENT_URL,[w.default.MEDIA_RANGE,w.default.INDEX_RANGE]),p(j,w.default.SEGMENT_TEMPLATE,[w.default.INDEX_RANGE,w.default.MEDIA,w.default.INDEX,w.default.INITIALIZATION_MINUS,w.default.BITSTREAM_SWITCHING_MINUS]),p(j,w.default.ASSET_IDENTIFIER,[w.default.VALUE,w.default.ID]),p(j,w.default.EVENT_STREAM,[w.default.VALUE]),p(j,w.default.ADAPTATION_SET,[w.default.PROFILES,w.default.MIME_TYPE,w.default.SEGMENT_PROFILES,w.default.CODECS,w.default.CONTENT_TYPE]),p(j,w.default.FRAME_PACKING,[w.default.VALUE,w.default.ID]),p(j,w.default.AUDIO_CHANNEL_CONFIGURATION,[w.default.VALUE,w.default.ID]),p(j,w.default.CONTENT_PROTECTION,[w.default.VALUE,w.default.ID]),p(j,w.default.ESSENTIAL_PROPERTY,[w.default.VALUE,w.default.ID]),p(j,w.default.SUPPLEMENTAL_PROPERTY,[w.default.VALUE,w.default.ID]),p(j,w.default.INBAND_EVENT_STREAM,[w.default.VALUE,w.default.ID]),p(j,w.default.ACCESSIBILITY,[w.default.VALUE,w.default.ID]),p(j,w.default.ROLE,[w.default.VALUE,w.default.ID]),p(j,w.default.RATING,[w.default.VALUE,w.default.ID]),p(j,w.default.VIEWPOINT,[w.default.VALUE,w.default.ID]),p(j,w.default.CONTENT_COMPONENT,[w.default.CONTENT_TYPE]),p(j,w.default.REPRESENTATION,[w.default.ID,w.default.DEPENDENCY_ID,w.default.MEDIA_STREAM_STRUCTURE_ID]),p(j,w.default.SUBSET,[w.default.ID]),p(j,w.default.METRICS,[w.default.METRICS_MINUS]),p(j,w.default.REPORTING,[w.default.VALUE,w.default.ID]),j);if(W.hasOwnProperty(R)){var H=W[R];return H!==void 0&&H.indexOf(P.name)>=0}return!1},function(P){return String(P)})}return c(D,b),D}(E.default);o.default=A,d.exports=o.default},{58:58,66:66}],71:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(w){w&&w.boxParser&&(m=w.boxParser)}function v(w){if(!m)throw new Error("boxParser is undefined");if(!w)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var A=m.parse(w),b=A.getBoxes("moof"),D=A.getBoxes("mfhd"),P=void 0,R=void 0,j=void 0,W=void 0,H=void 0,S=void 0,l=void 0,Y=void 0,C=void 0,O=void 0,q=void 0,Q=void 0,pe=void 0,re=void 0,ue=void 0,ee=void 0,be=void 0;ee=A.getBoxes("moof").length,ue=D[D.length-1].sequence_number,j=0,S=[];var ie=-1,Te=-1;for(q=0;q<b.length;q++){var ve=b[q],fe=ve.getChildBoxes("traf");for(C=0;C<fe.length;C++){var Ee=fe[C],Se=Ee.getChildBox("tfhd"),V=Ee.getChildBox("tfdt");H=V.baseMediaDecodeTime;var de=Ee.getChildBoxes("trun"),Ae=Ee.getChildBoxes("subs");for(O=0;O<de.length;O++){var De=de[O];for(j=De.sample_count,re=(Se.base_data_offset||0)+(De.data_offset||0),Y=0;Y<j;Y++){l=De.samples[Y],P=l.sample_duration!==void 0?l.sample_duration:Se.default_sample_duration,W=l.sample_size!==void 0?l.sample_size:Se.default_sample_size,R=l.sample_composition_time_offset!==void 0?l.sample_composition_time_offset:0;var ae={dts:H,cts:H+R,duration:P,offset:ve.offset+re,size:W,subSizes:[W]};if(Ae)for(Q=0;Q<Ae.length;Q++){var me=Ae[Q];if(ie<me.entry_count&&Y>Te&&(ie++,Te+=me.entries[ie].sample_delta),Y==Te){ae.subSizes=[];var Ce=me.entries[ie];for(pe=0;pe<Ce.subsample_count;pe++)ae.subSizes.push(Ce.subsamples[pe].subsample_size)}}S.push(ae),re+=W,H+=P}}be=H-V.baseMediaDecodeTime}}return{sampleList:S,lastSequenceNumber:ue,totalDuration:be,numSequences:ee}}function E(w){if(!m)throw new Error("boxParser is undefined");var A=m.parse(w),b=A?A.getBox("mdhd"):void 0;return b?b.timescale:NaN}var m=void 0;return{getSamplesInfo:v,getMediaTimescaleFromMoov:E,setConfig:_}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="FragmentedTextBoxParser",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],72:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E,m){function w(b,D,P,R){var j=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList,W=j.SegmentURL_asArray.length,H=[],S=void 0,l=void 0,Y=void 0,C=void 0,O=void 0,q=void 0,Q=void 0;for(Q=b.startNumber,C=(0,_.decideSegmentListRangeForTemplate)(A,m,b,D,P,R),O=Math.max(C.start,0),q=Math.min(C.end,j.SegmentURL_asArray.length-1),S=O;S<=q;S++)Y=j.SegmentURL_asArray[S],l=(0,_.getIndexBasedSegment)(A,m,b,S),l.replacementTime=(Q+S-1)*b.segmentDuration,l.media=Y.media?Y.media:"",l.mediaRange=Y.mediaRange,l.index=Y.index,l.indexRange=Y.indexRange,H.push(l),l=null;return b.availableSegmentsNumber=W,H}E=E||{};var A=E.timelineConverter;return{getSegments:w}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(74);p.__dashjs_factory_name="ListSegmentsGetter";var v=c.default.getClassFactory(p);o.default=v,d.exports=o.default},{48:48,74:74}],73:[function(t,d,o){"use strict";function u(R){return R&&R.__esModule?R:{default:R}}function p(R,j){function W(){C=(0,m.default)(l).create(R,j),O=(0,A.default)(l).create(R,j),q=(0,D.default)(l).create(R,j)}function H(Q,pe,re,ue,ee){var be=void 0,ie=Q.segmentInfoType;ie!==c.default.SEGMENT_BASE&&ie!==c.default.BASE_URL&&S(Q,re)?(ie===c.default.SEGMENT_TIMELINE?be=C.getSegments(Q,pe,re,ee):ie===c.default.SEGMENT_TEMPLATE?be=O.getSegments(Q,pe,re,ee):ie===c.default.SEGMENT_LIST&&(be=q.getSegments(Q,pe,re,ee)),ue&&ue(Q,be)):be=Q.segments}function S(Q,pe){var re=Q.segments,ue=!1,ee=void 0,be=void 0;return re&&re.length!==0?(be=re[0].availabilityIdx,ee=re[re.length-1].availabilityIdx,ue=pe<be||pe>ee):ue=!0,ue}var l=this.context,Y=void 0,C=void 0,O=void 0,q=void 0;return Y={getSegments:H},W(),Y}Object.defineProperty(o,"__esModule",{value:!0});var y=t(58),c=u(y),_=t(48),v=u(_),E=t(77),m=u(E),w=t(75),A=u(w),b=t(72),D=u(b);p.__dashjs_factory_name="SegmentsGetter";var P=v.default.getClassFactory(p);o.default=P,d.exports=o.default},{48:48,58:58,72:72,75:75,77:77}],74:[function(t,d,o){"use strict";function u(P){return P&&P.__esModule?P:{default:P}}function p(P,R){for(;P.length<R;)P="0"+P;return P}function y(P,R){return P.representation.startNumber+R}function c(P){return P&&P.split("$$").join("$")}function _(P,R){if(!R||!P||P.indexOf("$RepresentationID$")===-1)return P;var j=R.toString();return P.split("$RepresentationID$").join(j)}function v(P,R,j){var W="%0",H=void 0,S=void 0,l=void 0,Y=void 0,C=void 0,O=void 0,q=R.length,Q=W.length;if(!P)return P;for(;;){if((H=P.indexOf("$"+R))<0||(S=P.indexOf("$",H+q))<0)return P;if((l=P.indexOf(W,H+q))>H&&l<S)switch(Y=P.charAt(S-1),C=parseInt(P.substring(l+Q,S-1),10),Y){case"d":case"i":case"u":O=p(j.toString(),C);break;case"x":O=p(j.toString(16),C);break;case"X":O=p(j.toString(16),C).toUpperCase();break;case"o":O=p(j.toString(8),C);break;default:return P}else O=j;P=P.substring(0,H)+O+P.substring(S+1)}}function E(P,R,j,W){var H=void 0,S=void 0,l=void 0,Y=void 0;return S=j.segmentDuration,isNaN(S)&&(S=j.adaptation.period.duration),l=parseFloat((j.adaptation.period.start+W*S).toFixed(5)),Y=parseFloat((l+S).toFixed(5)),H=new D.default,H.representation=j,H.duration=S,H.presentationStartTime=l,H.mediaStartTime=P.calcMediaTimeFromPresentationTime(H.presentationStartTime,j),H.availabilityStartTime=P.calcAvailabilityStartTimeFromPresentationTime(H.presentationStartTime,j.adaptation.period.mpd,R),H.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(Y,j.adaptation.period.mpd,R),H.wallStartTime=P.calcWallTimeForSegment(H,R),H.replacementNumber=y(H,W),H.availabilityIdx=W,H}function m(P,R,j,W,H,S,l,Y,C,O){var q=W/S,Q=Math.min(H/S,j.adaptation.period.mpd.maxSegmentDuration),pe=void 0,re=void 0,ue=void 0;return pe=P.calcPresentationTimeFromMediaTime(q,j),re=pe+Q,ue=new D.default,ue.representation=j,ue.duration=Q,ue.mediaStartTime=q,ue.presentationStartTime=pe,ue.availabilityStartTime=j.adaptation.period.mpd.manifest.loadedTime,ue.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(re,j.adaptation.period.mpd,R),ue.wallStartTime=P.calcWallTimeForSegment(ue,R),ue.replacementTime=O||W,ue.replacementNumber=y(ue,C),l=v(l,"Number",ue.replacementNumber),l=v(l,"Time",ue.replacementTime),ue.media=l,ue.mediaRange=Y,ue.availabilityIdx=C,ue}function w(P,R){if(!R||!R.segments)return null;var j=R.segments.length,W=void 0,H=void 0;if(P<j&&(W=R.segments[P])&&W.availabilityIdx===P)return W;for(H=0;H<j;H++)if((W=R.segments[H])&&W.availabilityIdx===P)return W;return null}function A(P,R,j,W,H,S){var l=j.segmentDuration,Y=j.adaptation.period.mpd.manifest.minBufferTime,C=j.segmentAvailabilityRange,O={start:P.calcPeriodRelativeTimeFromMpdRelativeTime(j,C.start),end:P.calcPeriodRelativeTimeFromMpdRelativeTime(j,C.end)},q=j.segments,Q=2*l,pe=S||Math.max(2*Y,10*l),re=NaN,ue=null,ee=void 0,be=void 0;return O.start=Math.max(O.start,0),R&&!P.isTimeSyncCompleted()?(ee=Math.floor(O.start/l),be=Math.floor(O.end/l),{start:ee,end:be}):(q&&q.length>0?(ue=w(H,j),re=ue?P.calcPeriodRelativeTimeFromMpdRelativeTime(j,ue.presentationStartTime):H>0?H*l:P.calcPeriodRelativeTimeFromMpdRelativeTime(j,W)):re=H>0?H*l:R?O.end:O.start,ee=Math.floor(Math.max(re-Q,O.start)/l),be=Math.floor(Math.min(ee+pe/l,O.end/l)),{start:ee,end:be})}Object.defineProperty(o,"__esModule",{value:!0}),o.unescapeDollarsInTemplate=c,o.replaceIDForTemplate=_,o.replaceTokenForTemplate=v,o.getIndexBasedSegment=E,o.getTimeBasedSegment=m,o.getSegmentByIndex=w,o.decideSegmentListRangeForTemplate=A;var b=t(85),D=u(b)},{85:85}],75:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E,m){function w(b,D,P,R){var j=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate,W=b.segmentDuration,H=b.segmentAvailabilityRange,S=[],l=null,Y=null,C=void 0,O=void 0,q=void 0,Q=void 0,pe=void 0;for(pe=b.startNumber,C=isNaN(W)&&!m?{start:pe,end:pe}:(0,_.decideSegmentListRangeForTemplate)(A,m,b,D,P,R),q=C.start,Q=C.end,O=q;O<=Q;O++)Y=(0,_.getIndexBasedSegment)(A,m,b,O),Y.replacementTime=(pe+O-1)*b.segmentDuration,l=j.media,l=(0,_.replaceTokenForTemplate)(l,"Number",Y.replacementNumber),l=(0,_.replaceTokenForTemplate)(l,"Time",Y.replacementTime),Y.media=l,S.push(Y),Y=null;return isNaN(W)?b.availableSegmentsNumber=1:b.availableSegmentsNumber=Math.ceil((H.end-H.start)/W),S}var A=E.timelineConverter;return{getSegments:w}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(74);p.__dashjs_factory_name="TemplateSegmentsGetter";var v=c.default.getClassFactory(p);o.default=v,d.exports=o.default},{48:48,74:74}],76:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(){ue(),ie.on(v.default.TIME_SYNCHRONIZATION_COMPLETED,pe,this)}function A(){return ve}function b(Ee){ve=Ee}function D(){return Te}function P(Ee){Te=Ee}function R(){return fe}function j(Ee){fe=Ee}function W(Ee,Se,V,de){return de?V&&Se.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(Se.availabilityStartTime.getTime()+1e3*(Ee+Se.timeShiftBufferDepth)):Se.availabilityEndTime:V?new Date(Se.availabilityStartTime.getTime()+1e3*(Ee-Te)):Se.availabilityStartTime}function H(Ee,Se,V){return W.call(this,Ee,Se,V)}function S(Ee,Se,V){return W.call(this,Ee,Se,V,!0)}function l(Ee,Se){return(Ee.getTime()-Se.mpd.availabilityStartTime.getTime()+1e3*Te)/1e3}function Y(Ee,Se){return Ee+(Se.adaptation.period.start-Se.presentationTimeOffset)}function C(Ee,Se){return Ee-Se.adaptation.period.start+Se.presentationTimeOffset}function O(Ee,Se){var V=void 0,de=void 0,Ae=void 0;return Se&&(V=Ee.representation.adaptation.period.mpd.suggestedPresentationDelay,de=Ee.presentationStartTime+V,Ae=new Date(Ee.availabilityStartTime.getTime()+1e3*de)),Ae}function q(Ee,Se){var V=Ee.adaptation.period,de={start:V.start,end:V.start+V.duration};if(!Se)return de;if(!ve&&Ee.segmentAvailabilityRange)return Ee.segmentAvailabilityRange;var Ae=Ee.segmentDuration||(Ee.segments&&Ee.segments.length?Ee.segments[Ee.segments.length-1].duration:0),De=l(new Date,V),ae=V.start+V.duration;return de.start=Math.max(De-V.mpd.timeShiftBufferDepth,V.start),de.end=De>=ae&&De-Ae<ae?ae-Ae:De-Ae,de}function Q(Ee,Se){return Se-Ee.adaptation.period.start}function pe(Ee){ve||Ee.offset!==void 0&&(P(Ee.offset/1e3),ve=!0)}function re(Ee){var Se=Ee.presentationTimeOffset;return Ee.adaptation.period.start-Se}function ue(){Te=0,ve=!1,fe=NaN}function ee(){ie.off(v.default.TIME_SYNCHRONIZATION_COMPLETED,pe,this),ue()}var be=this.context,ie=(0,c.default)(be).getInstance(),Te=void 0,ve=void 0,fe=void 0;return{initialize:w,isTimeSyncCompleted:A,setTimeSyncCompleted:b,getClientTimeOffset:D,setClientTimeOffset:P,getExpectedLiveEdge:R,setExpectedLiveEdge:j,calcAvailabilityStartTimeFromPresentationTime:H,calcAvailabilityEndTimeFromPresentationTime:S,calcPresentationTimeFromWallTime:l,calcPresentationTimeFromMediaTime:Y,calcPeriodRelativeTimeFromMpdRelativeTime:Q,calcMediaTimeFromPresentationTime:C,calcSegmentAvailabilityRange:q,calcWallTimeForSegment:O,calcMSETimeOffset:re,reset:ee}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(48),m=u(E);p.__dashjs_factory_name="TimelineConverter",o.default=m.default.getSingletonFactory(p),d.exports=o.default},{47:47,48:48,51:51}],77:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E,m){function w(){if(!(b&&b.hasOwnProperty("calcMediaTimeFromPresentationTime")&&b.hasOwnProperty("calcSegmentAvailabilityRange")&&b.hasOwnProperty("calcMediaTimeFromPresentationTime")))throw new Error("Missing config parameter(s)")}function A(D,P,R,j){if(w(),!D)throw new Error("no representation");P===void 0&&(P=null);var W=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,H=W.SegmentTimeline,S=W.SegmentURL_asArray,l=D.availableSegmentsNumber>0,Y=void 0;Y=j||(R>-1||P!==null?10:1/0);var C=0,O=0,q=-1,Q=[],pe=null,re=void 0,ue=void 0,ee=void 0,be=void 0,ie=void 0,Te=void 0,ve=void 0,fe=void 0,Ee=void 0,Se=void 0,V=void 0,de=function(De,ae){var me=W.media,Ce=De.mediaRange;return S&&(me=S[ae].media||"",Ce=S[ae].mediaRange),(0,_.getTimeBasedSegment)(b,m,D,C,De.d,V,me,Ce,q,De.tManifest)};for(V=D.timescale,re=H.S_asArray,Se=R,P!==null&&(pe=b.calcMediaTimeFromPresentationTime(P,D)),ee=0,be=re.length;ee<be;ee++){if(ue=re[ee],Te=0,ue.hasOwnProperty("r")&&(Te=ue.r),ue.hasOwnProperty("t")&&(C=ue.t,O=C/V),Te<0){if((fe=re[ee+1])&&fe.hasOwnProperty("t"))ve=fe.t/V;else{var Ae=D.segmentAvailabilityRange?D.segmentAvailabilityRange.end:b.calcSegmentAvailabilityRange(D,m).end;ve=b.calcMediaTimeFromPresentationTime(Ae,D),D.segmentDuration=ue.d/V}Te=Math.ceil((ve-O)/(ue.d/V))-1}if(Ee){if(l)break;q+=Te+1}else for(ie=0;ie<=Te;ie++)if(q++,Q.length>Y){if(Ee=!0,l)break}else pe!==null?O>=pe-ue.d/V*1.5&&Q.push(de(ue,q)):q>=Se&&Q.push(de(ue,q)),C+=ue.d,O=C/V}return l||(D.availableSegmentsNumber=q+1),Q}E=E||{};var b=E.timelineConverter;return{getSegments:A}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(74);p.__dashjs_factory_name="TimelineSegmentsGetter";var v=c.default.getClassFactory(p);o.default=v,d.exports=o.default},{48:48,74:74}],78:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.period=null,this.index=-1,this.type=null};o.default=p,d.exports=o.default},{}],79:[function(t,d,o){"use strict";function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=1,y=1,c=function _(v,E,m,w){u(this,_),this.url=v||"",this.serviceLocation=E||v||"",this.dvb_priority=m||p,this.dvb_weight=w||y};c.DEFAULT_DVB_PRIORITY=p,c.DEFAULT_DVB_WEIGHT=y,o.default=c,d.exports=o.default},{}],80:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};o.default=p,d.exports=o.default},{}],81:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};o.default=p,d.exports=o.default},{}],82:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};o.default=p,d.exports=o.default},{}],83:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};p.DEFAULT_ID="defaultId",o.default=p,d.exports=o.default},{}],84:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function E(m,w){for(var A=0;A<w.length;A++){var b=w[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,w,A){return w&&E(m.prototype,w),A&&E(m,A),m}}(),c=t(58),_=u(c),v=function(){function E(){p(this,E),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN}return y(E,null,[{key:"hasInitialization",value:function(m){return m.initialization!==null||m.range!==null}},{key:"hasSegments",value:function(m){return m.segmentInfoType!==_.default.BASE_URL&&m.segmentInfoType!==_.default.SEGMENT_BASE&&!m.indexRange}}]),E}();o.default=v,d.exports=o.default},{58:58}],85:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};o.default=p,d.exports=o.default},{}],86:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.schemeIdUri="",this.value=""};o.default=p,d.exports=o.default},{}],87:[function(t,d,o){"use strict";function u(l){return l&&l.__esModule?l:{default:l}}function p(l){function Y(){ee=(0,c.default)(pe).create({errHandler:l.errHandler,metricsModel:l.metricsModel,mediaPlayerModel:l.mediaPlayerModel,requestModifier:l.requestModifier})}function C(be){var ie=function(ve){re.trigger(D.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:be,exists:ve})};if(be){var Te=new v.default(be.url);ee.load({request:Te,success:function(){ie(!0)},error:function(){ie(!1)}})}else ie(!1)}function O(be){var ie=function(Te,ve){re.trigger(D.default.LOADING_COMPLETED,{request:be,response:Te||null,error:ve||null,sender:ue})};be?ee.load({request:be,progress:function(){re.trigger(D.default.LOADING_PROGRESS,{request:be})},success:function(Te){ie(Te)},error:function(Te,ve,fe){ie(void 0,new m.default(j,fe,ve))},abort:function(Te,ve){Te&&ve===0&&re.trigger(D.default.LOADING_ABANDONED,{request:Te,mediaType:Te.mediaType,sender:ue})}}):ie(void 0,new m.default(W,H))}function q(){ee&&ee.abort()}function Q(){ee&&(ee.abort(),ee=null)}l=l||{};var pe=this.context,re=(0,A.default)(pe).getInstance(),ue=void 0,ee=void 0;return ue={checkForExistence:C,load:O,abort:q,reset:Q},Y(),ue}Object.defineProperty(o,"__esModule",{value:!0});var y=t(96),c=u(y),_=t(163),v=u(_),E=t(160),m=u(E),w=t(47),A=u(w),b=t(51),D=u(b),P=t(48),R=u(P),j=1,W=2,H="request is null";p.__dashjs_factory_name="FragmentLoader";var S=R.default.getClassFactory(p);S.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=j,S.FRAGMENT_LOADER_ERROR_NULL_REQUEST=W,R.default.updateClassFactory(p.__dashjs_factory_name,S),o.default=S,d.exports=o.default},{160:160,163:163,47:47,48:48,51:51,96:96}],88:[function(t,d,o){"use strict";function u(ie){return ie&&ie.__esModule?ie:{default:ie}}function p(ie){function Te(){de.on(l.default.XLINK_READY,ve,me),Ce=(0,m.default)(V).create({errHandler:N,metricsModel:ie.metricsModel,mediaPlayerModel:ie.mediaPlayerModel,requestModifier:ie.requestModifier}),xe=(0,v.default)(V).create({errHandler:N,metricsModel:ie.metricsModel,mediaPlayerModel:ie.mediaPlayerModel,requestModifier:ie.requestModifier}),ce=null}function ve(Z){de.trigger(l.default.INTERNAL_MANIFEST_LOADED,{manifest:Z.manifest})}function fe(Z){var L=null;return Z.indexOf("SmoothStreamingMedia")>-1?(Pe?(L=Pe.createMssParser(),Pe.registerEvents()):N.manifestError("manifest type unsupported","createParser"),L):Z.indexOf("MPD")>-1?(0,q.default)(V).create({errorHandler:N}):L}function Ee(Z){var L=new D.default(Z,j.HTTPRequest.MPD_TYPE);Ce.load({request:L,success:function(F,ne,K){var he=void 0,we=void 0;if(K.responseURL&&K.responseURL!==Z?(we=Ae.parseBaseUrl(K.responseURL),he=K.responseURL):(Ae.isRelative(Z)&&(Z=Ae.resolve(Z,window.location.href)),we=Ae.parseBaseUrl(Z)),ce===null&&(ce=fe(F)),ce===null)return void de.trigger(l.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new R.default(re,"Failed detecting manifest type: "+Z)});xe.setMatchers(ce.getMatchers()),xe.setIron(ce.getIron());var h=ce.parse(F);h?(h.url=he||Z,h.originalUrl||(h.originalUrl=h.url),h.hasOwnProperty(c.default.LOCATION)&&(we=Ae.parseBaseUrl(h.Location_asArray[0]),ae("BaseURI set by Location to: "+we)),h.baseUri=we,h.loadedTime=new Date,xe.resolveManifestOnLoad(h)):de.trigger(l.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new R.default(re,ee)})},error:function(F,ne,K){de.trigger(l.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new R.default(ue,"Failed loading manifest: "+Z+", "+K)})}})}function Se(){de.off(l.default.XLINK_READY,ve,me),xe&&(xe.reset(),xe=null),Ce&&(Ce.abort(),Ce=null),Pe&&Pe.reset()}ie=ie||{};var V=this.context,de=(0,H.default)(V).getInstance(),Ae=(0,A.default)(V).getInstance(),De=(0,pe.default)(V).getInstance(),ae=De.log,me=void 0,Ce=void 0,xe=void 0,ce=void 0,Pe=ie.mssHandler,N=ie.errHandler;return me={load:Ee,reset:Se},Te(),me}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(112),v=u(_),E=t(96),m=u(E),w=t(155),A=u(w),b=t(170),D=u(b),P=t(160),R=u(P),j=t(179),W=t(47),H=u(W),S=t(51),l=u(S),Y=t(48),C=u(Y),O=t(61),q=u(O),Q=t(46),pe=u(Q),re=1,ue=2,ee="parsing failed";p.__dashjs_factory_name="ManifestLoader";var be=C.default.getClassFactory(p);be.MANIFEST_LOADER_ERROR_PARSING_FAILURE=re,be.MANIFEST_LOADER_ERROR_LOADING_FAILURE=ue,C.default.updateClassFactory(p.__dashjs_factory_name,be),o.default=be,d.exports=o.default},{112:112,155:155,160:160,170:170,179:179,46:46,47:47,48:48,51:51,61:61,96:96,98:98}],89:[function(t,d,o){"use strict";function u(b){return b&&b.__esModule?b:{default:b}}function p(){function b(V){V&&(V.manifestModel&&(fe=V.manifestModel),V.dashManifestModel&&(Ee=V.dashManifestModel),V.mediaPlayerModel&&(Se=V.mediaPlayerModel),V.manifestLoader&&(ve=V.manifestLoader))}function D(){R(),ue.on(v.default.STREAMS_COMPOSED,Q,this),ue.on(v.default.PLAYBACK_STARTED,O,this),ue.on(v.default.PLAYBACK_PAUSED,q,this),ue.on(v.default.INTERNAL_MANIFEST_LOADED,C,this)}function P(V){l(V)}function R(){ee=NaN,Te=!1,ie=!0,W()}function j(){ue.off(v.default.PLAYBACK_STARTED,O,this),ue.off(v.default.PLAYBACK_PAUSED,q,this),ue.off(v.default.STREAMS_COMPOSED,Q,this),ue.off(v.default.INTERNAL_MANIFEST_LOADED,C,this),R()}function W(){be!==null&&(clearInterval(be),be=null)}function H(){W(),isNaN(ee)||(re("Refresh manifest in "+ee+" seconds."),be=setTimeout(Y,1e3*ee))}function S(){Te=!0;var V=fe.getValue(),de=V.url,Ae=Ee.getLocation(V);Ae&&(de=Ae),ve.load(de)}function l(V){fe.setValue(V);var de=new Date,Ae=(de.getTime()-V.loadedTime.getTime())/1e3;ee=Ee.getManifestUpdatePeriod(V,Ae),ue.trigger(v.default.MANIFEST_UPDATED,{manifest:V}),re("Manifest has been refreshed at "+de+"["+de.getTime()/1e3+"] "),ie||H()}function Y(){ie&&!Se.getScheduleWhilePaused()||Te||S()}function C(V){V.error||l(V.manifest)}function O(){ie=!1,H()}function q(){ie=!0,W()}function Q(){Te=!1}var pe=this.context,re=(0,A.default)(pe).getInstance().log,ue=(0,c.default)(pe).getInstance(),ee=void 0,be=void 0,ie=void 0,Te=void 0,ve=void 0,fe=void 0,Ee=void 0,Se=void 0;return{initialize:D,setManifest:P,refreshManifest:S,setConfig:b,reset:j}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(48),m=u(E),w=t(46),A=u(w);p.__dashjs_factory_name="ManifestUpdater",o.default=m.default.getClassFactory(p),d.exports=o.default},{46:46,47:47,48:48,51:51}],90:[function(t,d,o){"use strict";function u(It){return It&&It.__esModule?It:{default:It}}function p(){function It(){Qi=!1,Pi=!1,Ni=!1,Bn=!0,Vi=null,Hi=null,Gi=null,N.default.extend(L.default),Jt=(0,ve.default)(ui).getInstance(),Ge=(0,Ae.default)(ui).getInstance()}function Ke(Ie){Ie&&(Ie.capabilities&&(un=Ie.capabilities),Ie.streamController&&(wi=Ie.streamController),Ie.playbackController&&(_e=Ie.playbackController),Ie.mediaPlayerModel&&(Jt=Ie.mediaPlayerModel),Ie.abrController&&(gi=Ie.abrController),Ie.mediaController&&(Mi=Ie.mediaController))}function pt(Ie,Qe,St){if(un||(un=(0,Y.default)(ui).getInstance()),ln=(0,S.default)(ui).getInstance(),!un.supportsMediaSource())return void ln.capabilityError("mediasource");Qi||(Qi=!0,dn=(0,ye.default)(ui).getInstance(),gi||(gi=(0,V.default)(ui).getInstance()),_e||(_e=(0,A.default)(ui).getInstance()),Mi||(Mi=(0,R.default)(ui).getInstance()),Gi=(0,we.default)(ui).getInstance(),Ve=(0,x.default)(ui).getInstance({mediaController:Mi,timelineConverter:dn,adapter:Gi}),vt=(0,ie.default)(ui).getInstance(),ke=(0,z.default)(ui).getInstance({manifestModel:vt,dashManifestModel:Ve}),nn=(0,Ee.default)(ui).getInstance(),ft=(0,re.default)(ui).getInstance(),Mt=(0,ae.default)(ui).getInstance({mediaPlayerModel:Jt}),Gi.setConfig({dashManifestModel:Ve}),nn.setConfig({adapter:Gi}),Wi(),Xt(St===void 0||St),Ie&&Si(Ie),Qe&&cn(Qe),fi("[dash.js "+gt()+"] MediaPlayer has been initialized"))}function ct(){cn(null),Si(null),Hi=null,Vi&&(Vi.reset(),Vi=null),Tn&&(Tn.reset(),Tn=null)}function nt(){return!!Di&&!!Ge.getElement()}function Lt(Ie,Qe,St){yn.on(Ie,Qe,St)}function Ut(Ie,Qe,St){yn.off(Ie,Qe,St)}function gt(){return(0,K.getVersionString)()}function Tt(){return Nr}function st(){if(Ge.getElement()||Ni)return!1;if(!Di)throw an;lr()}function Ze(){if(!Pi)throw en;(!Bn||At()&&Pi)&&_e.play()}function et(){if(!Pi)throw en;_e.pause()}function At(){if(!Pi)throw en;return _e.isPaused()}function wt(Ie){if(!Pi)throw en;if(typeof Ie!="number"||isNaN(Ie))throw Pr;var Qe=_e.getIsDynamic()?r(Ie):Ie;_e.seek(Qe)}function lt(){if(!Pi)throw en;return _e.isSeeking()}function ut(){if(!Pi)throw en;return _e.getIsDynamic()}function bt(Ie){if(!Ge.getElement())throw tn;Kt().playbackRate=Ie}function Ft(){if(!Ge.getElement())throw tn;return Kt().playbackRate}function Rt(Ie){if(!Ge.getElement())throw tn;Kt().muted=Ie}function se(){if(!Ge.getElement())throw tn;return Kt().muted}function Be(Ie){if(!Ge.getElement())throw tn;Kt().volume=Ie}function e(){if(!Ge.getElement())throw tn;return Kt().volume}function i(Ie){var Qe=[c.default.VIDEO,c.default.AUDIO,c.default.FRAGMENTED_TEXT];if(Ie){if(Qe.indexOf(Ie)!==-1){var St=k().getCurrentBufferLevel(X(Ie));return St||NaN}return fi("Warning  - getBufferLength requested for invalid type"),NaN}var St=Qe.map(function(jt){return Ui(jt).length>0?k().getCurrentBufferLevel(X(jt)):Number.MAX_VALUE}).reduce(function(jt,Zt){return Math.min(jt,Zt)});return St===Number.MAX_VALUE?NaN:St}function n(){var Ie=_n();return Ie?Ie.manifestInfo.DVRWindowSize:0}function r(Ie){var Qe=_n(),St=_e.getLiveDelay();if(!Qe)return 0;var jt=Qe.range.start+Ie;return jt>Qe.range.end-St&&(jt=Qe.range.end-St),jt}function g(Ie){if(!Pi)throw en;var Qe=Kt().currentTime;if(Ie!==void 0)Qe=wi.getTimeRelativeToStreamId(Qe,Ie);else if(_e.getIsDynamic()){var St=_n();Qe=St===null?0:I()-(St.range.end-St.time)}return Qe}function I(){if(!Pi)throw en;var Ie=Kt().duration;if(_e.getIsDynamic()){var Qe=_n(),St=void 0;if(!Qe)return 0;St=Qe.range.end-Qe.range.start,Ie=St<Qe.manifestInfo.DVRWindowSize?St:Qe.manifestInfo.DVRWindowSize}return Ie}function B(){if(!Pi)throw en;return g()<0?NaN:Mr(g())}function G(){if(!Pi)throw en;return Mr(I())}function oe(Ie,Qe){gi.setMaxAllowedBitrateFor(Ie,Qe)}function Re(Ie,Qe){gi.setMinAllowedBitrateFor(Ie,Qe)}function Me(Ie){return gi.getMaxAllowedBitrateFor(Ie)}function je(Ie){return gi.getMinAllowedBitrateFor(Ie)}function ze(Ie,Qe){gi.setMaxAllowedRepresentationRatioFor(Ie,Qe)}function Ne(Ie){return gi.getMaxAllowedRepresentationRatioFor(Ie)}function Oe(Ie){if(!Ni)throw zi;if(Ie===c.default.IMAGE){var Qe=Gn();if(!Qe)return-1;var St=Qe.getThumbnailController();return St?St.getCurrentTrackIndex():-1}return gi.getQualityFor(Ie,wi.getActiveStreamInfo())}function tt(Ie,Qe){if(!Ni)throw zi;if(Ie===c.default.IMAGE){var St=Gn();if(!St)return;var jt=St.getThumbnailController();jt&&jt.setTrackByIndex(Qe)}gi.setPlaybackQuality(Ie,wi.getActiveStreamInfo(),Qe)}function it(){gi.setElementSize(),gi.setWindowResizeEventCalled(!0)}function xt(){return gi.getLimitBitrateByPortal()}function Ot(Ie){gi.setLimitBitrateByPortal(Ie)}function qt(){return gi.getUsePixelRatioInLimitBitrateByPortal()}function zt(Ie){gi.setUsePixelRatioInLimitBitrateByPortal(Ie)}function Wt(Ie,Qe){gi.setInitialBitrateFor(Ie,Qe)}function Bt(Ie){if(!Ni)throw zi;return gi.getInitialBitrateFor(Ie)}function rt(Ie,Qe){gi.setInitialRepresentationRatioFor(Ie,Qe)}function Ct(Ie){return gi.getInitialRepresentationRatioFor(Ie)}function Pt(Ie){return gi.getAutoSwitchBitrateFor(Ie)}function Gt(Ie,Qe){gi.setAutoSwitchBitrateFor(Ie,Qe)}function Yt(){return gi.getUseDeadTimeLatency()}function ei(Ie){gi.setUseDeadTimeLatency(Ie)}function Xt(Ie){Bn=Ie}function ni(){return Bn}function li(Ie){Jt.setLiveDelayFragmentCount(Ie)}function ai(Ie){Jt.setLiveDelay(Ie)}function ci(){return Jt.getLiveDelay()}function Je(Ie){Jt.setUseSuggestedPresentationDelay(Ie)}function Dt(Ie,Qe){Jt.setLastBitrateCachingInfo(Ie,Qe)}function le(Ie,Qe){Jt.setLastMediaSettingsCachingInfo(Ie,Qe)}function Ue(Ie){Jt.setScheduleWhilePaused(Ie)}function ot(){return Jt.getScheduleWhilePaused()}function mt(Ie){Jt.setFastSwitchEnabled(Ie)}function yt(){return Jt.getFastSwitchEnabled()}function kt(Ie){Ie===c.default.ABR_STRATEGY_DYNAMIC||Ie===c.default.ABR_STRATEGY_BOLA||Ie===c.default.ABR_STRATEGY_THROUGHPUT?Jt.setABRStrategy(Ie):fi("Warning: Ignoring setABRStrategy("+Ie+") - unknown value.")}function Vt(){return Jt.getABRStrategy()}function ii(Ie){Jt.setUseDefaultABRRules(Ie)}function Ti(Ie,Qe,St){Jt.addABRCustomRule(Ie,Qe,St)}function pi(Ie){Jt.removeABRCustomRule(Ie)}function di(){Jt.removeAllABRCustomRule()}function fn(Ie){Ie===c.default.MOVING_AVERAGE_SLIDING_WINDOW||Ie===c.default.MOVING_AVERAGE_EWMA?Jt.setMovingAverageMethod(Ie):fi("Warning: Ignoring setMovingAverageMethod("+Ie+") - unknown value.")}function Fi(){return Jt.getMovingAverageMethod()}function on(Ie,Qe){ji(Ie,Qe);var St=new m.default;St.schemeIdUri=Ie,St.value=Qe,Jt.getUTCTimingSources().push(St)}function ji(Ie,Qe){var St=Jt.getUTCTimingSources();St.forEach(function(jt,Zt){jt.schemeIdUri===Ie&&jt.value===Qe&&St.splice(Zt,1)})}function Ji(){Jt.setUTCTimingSources([])}function Wi(){on(ve.default.DEFAULT_UTC_TIMING_SOURCE.scheme,ve.default.DEFAULT_UTC_TIMING_SOURCE.value)}function Et(Ie){Jt.setUseManifestDateHeaderTimeSource(Ie)}function Qt(Ie){Jt.setBufferToKeep(Ie)}function xn(Ie){Jt.setBufferAheadToKeep(Ie)}function Nn(Ie){Jt.setBufferPruningInterval(Ie)}function Vr(Ie){Jt.setStableBufferTime(Ie)}function Gr(){return Jt.getStableBufferTime()}function Yr(Ie){Jt.setBufferTimeAtTopQuality(Ie)}function Xr(){return Jt.getBufferTimeAtTopQuality()}function Ir(Ie){Jt.setBufferTimeAtTopQualityLongForm(Ie)}function er(){return Jt.getBufferTimeAtTopQualityLongForm()}function Cr(Ie){Jt.setLongFormContentDurationThreshold(Ie)}function tr(Ie){Jt.setSegmentOverlapToleranceTime(Ie)}function Ar(Ie,Qe){Jt.setCacheLoadThresholdForType(Ie,Qe)}function Sr(Ie){Jt.setBandwidthSafetyFactor(Ie)}function ir(){return Jt.getBandwidthSafetyFactor()}function Kr(Ie){var Qe=gi.getThroughputHistory();return Qe?Qe.getAverageThroughput(Ie):0}function Qr(Ie){Jt.setAbandonLoadTimeout(Ie)}function Zr(Ie){Jt.setFragmentRetryAttempts(Ie)}function On(Ie){Jt.setFragmentRetryInterval(Ie)}function xr(Ie){Jt.setManifestRetryAttempts(Ie)}function nr(Ie){Jt.setManifestRetryInterval(Ie)}function Jr(Ie,Qe){Jt.setXHRWithCredentialsForType(Ie,Qe)}function $r(Ie){return Jt.getXHRWithCredentialsForType(Ie)}function es(Ie){Jt.setJumpGaps(Ie)}function f(){return Jt.getJumpGaps()}function T(Ie){Jt.setSmallGapLimit(Ie)}function M(){return Jt.getSmallGapLimit()}function k(){return ke}function X(Ie){return nn.getReadOnlyMetricsFor(Ie)}function te(Ie){ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.setTextDefaultLanguage(Ie)}function ge(){return ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.getTextDefaultLanguage()}function Le(Ie){ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.setTextDefaultEnabled(Ie)}function He(){return ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.getTextDefaultEnabled()}function $e(Ie){ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.enableText(Ie)}function dt(){return ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.isTextEnabled()}function Nt(Ie){if(!Pi)throw en;ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.setTextTrack(Ie)}function at(){var Ie=NaN;return ft&&(Ie=ft.getCurrentTrackIdx()),Ie}function _t(Ie){var Qe=(0,O.default)(ui).getInstance();Qe.setConfig({videoModel:Ge}),Qe.initialize(),Qe.displayCConTop(Ie)}function Kt(){if(!Ge.getElement())throw tn;return Ge.getElement()}function si(){return Ge?Ge.getVideoContainer():null}function $t(Ie){if(!Ge.getElement())throw tn;Ge.setVideoContainer(Ie)}function Si(Ie){if(!Qi)throw ki;Ie&&(Ge.setElement(Ie),ar(),ns(),rs(),wi&&wi.switchToVideoElement()),Pi&&kn(),lr()}function xi(){return Ge?Ge.getTTMLRenderingDiv():null}function Xi(Ie){if(!Ge.getElement())throw tn;Ge.setTTMLRenderingDiv(Ie)}function _i(Ie){if(!Ni)throw zi;var Qe=Gn();return Qe?Qe.getBitrateListFor(Ie):[]}function ri(Ie){if(!Ni)throw zi;return Gi.getStreamsInfo(Ie)}function Ui(Ie){if(!Ni)throw zi;var Qe=wi.getActiveStreamInfo();return Qe?Mi.getTracksFor(Ie,Qe):[]}function hi(Ie,Qe,St){if(!Ni)throw zi;return St=St||Gi.getStreamsInfo(Qe)[0],St?Gi.getAllMediaInfoForType(St,Ie,Qe):[]}function bi(Ie){if(!Ni)throw zi;var Qe=wi.getActiveStreamInfo();return Qe?Mi.getCurrentTrackFor(Ie,Qe):null}function Fn(Ie,Qe){if(!Qi)throw ki;Mi.setInitialSettings(Ie,Qe)}function Vn(Ie){if(!Qi)throw ki;return Mi.getInitialSettings(Ie)}function Ki(Ie){if(!Ni)throw zi;Mi.setTrack(Ie)}function wn(Ie){if(!Qi)throw ki;return Mi.getSwitchMode(Ie)}function bn(Ie,Qe){if(!Qi)throw ki;Mi.setSwitchMode(Ie,Qe)}function qi(Ie){if(!Qi)throw ki;Mi.setSelectionModeForInitialTrack(Ie)}function mn(){if(!Qi)throw ki;return Mi.getSelectionModeForInitialTrack()}function $i(){return ar()}function vn(Ie){Vi=Ie}function Dr(Ie){Hi=Ie,wi&&wi.setProtectionData(Hi)}function In(Ie){if(Ie<0)return null;var Qe=_e.getIsDynamic()?r(Ie):Ie,St=wi.getStreamForTime(Qe);if(St===null)return null;var jt=St.getThumbnailController(),Zt=St.getStreamInfo();if(!jt||!Zt)return null;var oi=wi.getTimeRelativeToStreamId(Qe,St.getId());return jt.get(oi)}function rr(Ie,Qe){var St=or(),jt=this,Zt=function vi(ti){ti.error?Qe(null,ti.error):Qe(ti.manifest),yn.off(N.default.INTERNAL_MANIFEST_LOADED,vi,jt),St.reset()};yn.on(N.default.INTERNAL_MANIFEST_LOADED,Zt,jt);var oi=(0,ee.default)(ui).getInstance();oi.initialize(),St.load(oi.parseURI(Ie))}function mi(){if(!Di)throw an;return Di}function cn(Ie){if(!Qi)throw ki;if(typeof Ie=="string"){var Qe=(0,ee.default)(ui).getInstance();Qe.initialize(),Di=Qe.parseURI(Ie)}else Di=Ie;(Ni||Pi)&&kn(),nt()&&lr()}function Rr(Ie,Qe,St){var jt=!(arguments.length<=3||arguments[3]===void 0)&&arguments[3],Zt=new Date(1e3*Ie),oi=Zt.toLocaleDateString(Qe),vi=Zt.toLocaleTimeString(Qe,{hour12:St});return jt?vi+" "+oi:vi}function sr(Ie){Ie=Math.max(Ie,0);var Qe=Math.floor(Ie/3600),St=Math.floor(Ie%3600/60),jt=Math.floor(Ie%3600%60);return(Qe===0?"":Qe<10?"0"+Qe.toString()+":":Qe.toString()+":")+(St<10?"0"+St.toString():St.toString())+":"+(jt<10?"0"+jt.toString():jt.toString())}function ts(Ie,Qe,St){ne.default.extend(Ie,Qe,St,ui)}function kn(){Pi=!1,Ni=!1,Gi.reset(),wi.reset(),_e.reset(),gi.reset(),Mi.reset(),ft.reset(),Vi&&(Vi.reset(),Vi=null,ar())}function is(){var Ie=or();wi||(wi=(0,D.default)(ui).getInstance()),Mi.setConfig({errHandler:ln,domStorage:Mt}),wi.setConfig({capabilities:un,manifestLoader:Ie,manifestModel:vt,dashManifestModel:Ve,mediaPlayerModel:Jt,protectionController:Vi,adapter:Gi,metricsModel:nn,dashMetrics:ke,errHandler:ln,timelineConverter:dn,videoModel:Ge,playbackController:_e,domStorage:Mt,abrController:gi,mediaController:Mi,textController:ft}),_e.setConfig({streamController:wi,metricsModel:nn,dashMetrics:ke,manifestModel:vt,mediaPlayerModel:Jt,dashManifestModel:Ve,adapter:Gi,videoModel:Ge}),gi.setConfig({streamController:wi,domStorage:Mt,mediaPlayerModel:Jt,metricsModel:nn,dashMetrics:ke,dashManifestModel:Ve,manifestModel:vt,videoModel:Ge,adapter:Gi}),gi.createAbrRulesCollection(),ft.setConfig({errHandler:ln,manifestModel:vt,dashManifestModel:Ve,mediaController:Mi,streamController:wi,videoModel:Ge}),wi.initialize(Bn,Hi)}function or(){return(0,W.default)(ui).create({errHandler:ln,metricsModel:nn,mediaPlayerModel:Jt,requestModifier:(0,Q.default)(ui).getInstance(),mssHandler:Dn})}function ar(){if(Vi)return Vi;var Ie=dashjs.Protection;if(typeof Ie=="function"){var Qe=Ie(ui).create();return N.default.extend(Ie.events),L.default.extend(Ie.events,{publicOnly:!0}),un||(un=(0,Y.default)(ui).getInstance()),Vi=Qe.createProtectionSystem({log:fi,errHandler:ln,videoModel:Ge,capabilities:un,eventBus:yn,events:N.default,BASE64:qe.default,constants:c.default})}return null}function ns(){if(!Tn){var Ie=dashjs.MetricsReporting;if(typeof Ie=="function"){var Qe=Ie(ui).create();Tn=Qe.createMetricsReporting({log:fi,eventBus:yn,mediaElement:Kt(),dashManifestModel:Ve,metricsModel:nn,events:N.default,constants:c.default,metricsConstants:v.default})}}}function rs(){if(!Dn){var Ie=dashjs.MssHandler;typeof Ie=="function"&&(Dn=Ie(ui).create({eventBus:yn,mediaPlayerModel:Jt,metricsModel:nn,playbackController:_e,protectionController:Vi,errHandler:ln,events:N.default,constants:c.default,log:fi,initSegmentType:We.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:qe.default,ISOBoxer:Xe.default}))}}function _n(){var Ie=nn.getReadOnlyMetricsFor(c.default.VIDEO)||nn.getReadOnlyMetricsFor(c.default.AUDIO);return ke.getCurrentDVRInfo(Ie)}function Mr(Ie){var Qe=_n(),St=void 0;return Qe?(St=Qe.manifestInfo.availableFrom.getTime()/1e3,Ie+(St+Qe.range.start)):0}function Gn(){if(!Ni)throw zi;var Ie=wi.getActiveStreamInfo();return Ie?wi.getStreamById(Ie.id):null}function lr(){!Ni&&Di&&(Ni=!0,fi("Streaming Initialized"),is(),typeof Di=="string"?wi.load(Di):wi.loadWithManifest(Di)),!Pi&&nt()&&(Pi=!0,fi("Playback Initialized"))}var zi="You must first call initialize() and set a source before calling this method",en="You must first call initialize() and set a valid source and view before calling this method",tn="You must first call attachView() to set the video element before calling this method",an="You must first call attachSource() with a valid source before calling this method",ki="MediaPlayer not initialized!",Pr="MediaPlayer Invalid Arguments!",ui=this.context,yn=(0,ce.default)(ui).getInstance(),Nr=(0,Ce.default)(ui).getInstance(),fi=Nr.log,Ln=void 0,Di=void 0,Hi=void 0,Qi=void 0,Ni=void 0,Pi=void 0,Bn=void 0,gi=void 0,dn=void 0,Mi=void 0,Vi=void 0,Tn=void 0,Dn=void 0,Gi=void 0,nn=void 0,Jt=void 0,ln=void 0,un=void 0,wi=void 0,_e=void 0,ke=void 0,Ve=void 0,vt=void 0,Ge=void 0,ft=void 0,Mt=void 0;return Ln={initialize:pt,setConfig:Ke,on:Lt,off:Ut,extend:ts,attachView:Si,attachSource:cn,isReady:nt,preload:st,play:Ze,isPaused:At,pause:et,isSeeking:lt,isDynamic:ut,seek:wt,setPlaybackRate:bt,getPlaybackRate:Ft,setMute:Rt,isMuted:se,setVolume:Be,getVolume:e,time:g,duration:I,timeAsUTC:B,durationAsUTC:G,getActiveStream:Gn,getDVRWindowSize:n,getDVRSeekOffset:r,convertToTimeCode:sr,formatUTC:Rr,getVersion:gt,getDebug:Tt,getBufferLength:i,getVideoContainer:si,getTTMLRenderingDiv:xi,getVideoElement:Kt,getSource:mi,setLiveDelayFragmentCount:li,setLiveDelay:ai,getLiveDelay:ci,useSuggestedPresentationDelay:Je,enableLastBitrateCaching:Dt,enableLastMediaSettingsCaching:le,setMaxAllowedBitrateFor:oe,getMaxAllowedBitrateFor:Me,setMinAllowedBitrateFor:Re,getMinAllowedBitrateFor:je,setMaxAllowedRepresentationRatioFor:ze,getMaxAllowedRepresentationRatioFor:Ne,setAutoPlay:Xt,getAutoPlay:ni,setScheduleWhilePaused:Ue,getScheduleWhilePaused:ot,getDashMetrics:k,getMetricsFor:X,getQualityFor:Oe,setQualityFor:tt,updatePortalSize:it,getLimitBitrateByPortal:xt,setLimitBitrateByPortal:Ot,getUsePixelRatioInLimitBitrateByPortal:qt,setUsePixelRatioInLimitBitrateByPortal:zt,setTextDefaultLanguage:te,getTextDefaultLanguage:ge,setTextDefaultEnabled:Le,getTextDefaultEnabled:He,enableText:$e,isTextEnabled:dt,setTextTrack:Nt,getBitrateInfoListFor:_i,setInitialBitrateFor:Wt,getInitialBitrateFor:Bt,setInitialRepresentationRatioFor:rt,getInitialRepresentationRatioFor:Ct,getStreamsFromManifest:ri,getTracksFor:Ui,getTracksForTypeFromManifest:hi,getCurrentTrackFor:bi,setInitialMediaSettingsFor:Fn,getInitialMediaSettingsFor:Vn,setCurrentTrack:Ki,getTrackSwitchModeFor:wn,setTrackSwitchModeFor:bn,setSelectionModeForInitialTrack:qi,getSelectionModeForInitialTrack:mn,setFastSwitchEnabled:mt,getFastSwitchEnabled:yt,setMovingAverageMethod:fn,getMovingAverageMethod:Fi,getAutoSwitchQualityFor:Pt,setAutoSwitchQualityFor:Gt,setABRStrategy:kt,getABRStrategy:Vt,useDefaultABRRules:ii,addABRCustomRule:Ti,removeABRCustomRule:pi,removeAllABRCustomRule:di,setBandwidthSafetyFactor:Sr,getBandwidthSafetyFactor:ir,getAverageThroughput:Kr,setAbandonLoadTimeout:Qr,retrieveManifest:rr,addUTCTimingSource:on,removeUTCTimingSource:ji,clearDefaultUTCTimingSources:Ji,restoreDefaultUTCTimingSources:Wi,setBufferToKeep:Qt,setBufferAheadToKeep:xn,setBufferPruningInterval:Nn,setStableBufferTime:Vr,getStableBufferTime:Gr,setBufferTimeAtTopQuality:Yr,getBufferTimeAtTopQuality:Xr,setBufferTimeAtTopQualityLongForm:Ir,getBufferTimeAtTopQualityLongForm:er,setFragmentLoaderRetryAttempts:Zr,setFragmentLoaderRetryInterval:On,setManifestLoaderRetryAttempts:xr,setManifestLoaderRetryInterval:nr,setXHRWithCredentialsForType:Jr,getXHRWithCredentialsForType:$r,setJumpGaps:es,getJumpGaps:f,setSmallGapLimit:T,getSmallGapLimit:M,setLongFormContentDurationThreshold:Cr,setSegmentOverlapToleranceTime:tr,setCacheLoadThresholdForType:Ar,getProtectionController:$i,attachProtectionController:vn,setProtectionData:Dr,enableManifestDateHeaderTimeSource:Et,displayCaptionsOnTop:_t,attachVideoContainer:$t,attachTTMLRenderingDiv:Xi,getCurrentTextTrackIndex:at,getUseDeadTimeLatencyForAbr:Yt,setUseDeadTimeLatencyForAbr:ei,getThumbnail:In,reset:ct},It(),Ln}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(99),v=u(_),E=t(86),m=u(E),w=t(108),A=u(w),b=t(110),D=u(b),P=t(106),R=u(P),j=t(88),W=u(j),H=t(148),S=u(H),l=t(144),Y=u(l),C=t(139),O=u(C),q=t(153),Q=u(q),pe=t(137),re=u(pe),ue=t(118),ee=u(ue),be=t(115),ie=u(be),Te=t(116),ve=u(Te),fe=t(117),Ee=u(fe),Se=t(100),V=u(Se),de=t(119),Ae=u(de),De=t(146),ae=u(De),me=t(46),Ce=u(me),xe=t(47),ce=u(xe),Pe=t(51),N=u(Pe),Z=t(91),L=u(Z),F=t(48),ne=u(F),K=t(49),he=t(53),we=u(he),h=t(60),x=u(h),U=t(55),z=u(U),J=t(76),ye=u(J),We=t(179),Fe=t(1),qe=u(Fe),Ye=t(10),Xe=u(Ye);p.__dashjs_factory_name="MediaPlayer";var ht=ne.default.getClassFactory(p);ht.events=L.default,ne.default.updateClassFactory(p.__dashjs_factory_name,ht),o.default=ht,d.exports=o.default},{1:1,10:10,100:100,106:106,108:108,110:110,115:115,116:116,117:117,118:118,119:119,137:137,139:139,144:144,146:146,148:148,153:153,179:179,46:46,47:47,48:48,49:49,51:51,53:53,55:55,60:60,76:76,86:86,88:88,91:91,98:98,99:99}],91:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function y(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(w,A,b){for(var D=!0;D;){var P=w,R=A,j=b;D=!1,P===null&&(P=Function.prototype);var W=Object.getOwnPropertyDescriptor(P,R);if(W!==void 0){if("value"in W)return W.value;var H=W.get;return H===void 0?void 0:H.call(j)}var S=Object.getPrototypeOf(P);if(S===null)return;w=S,A=R,b=j,D=!0,W=S=void 0}},_=t(52),v=u(_),E=function(w){function A(){p(this,A),c(Object.getPrototypeOf(A.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return y(A,w),A}(v.default),m=new E;o.default=m,d.exports=o.default},{52:52}],92:[function(t,d,o){"use strict";function u(m){return m&&m.__esModule?m:{default:m}}function p(m){function w(){S=[],l=null,Y=null}function A(C){C.segmentType!=="InitializationSegment"?(S.push(C),S.sort(function(O,q){return O.start-q.start}),l=null):l=C,H("PreBufferSink appended chunk s: "+C.start+"; e: "+C.end),Y&&Y({chunk:C})}function b(C,O){S=S.filter(function(q){return!((isNaN(O)||q.start<O)&&(isNaN(C)||q.end>C))})}function D(){}function P(){for(var C=[],O=0;O<S.length;O++){var q=S[O];C.length===0||q.start>C[C.length-1].end?C.push({start:q.start,end:q.end}):C[C.length-1].end=q.end}var Q={start:function(pe){return C[pe].start},end:function(pe){return C[pe].end}};return Object.defineProperty(Q,"length",{get:function(){return C.length}}),Q}function R(C,O){var q=j(C,O);return l&&(q.push(l),l=null),b(C,O),q}function j(C,O){return S.filter(function(q){return(isNaN(O)||q.start<O)&&(isNaN(C)||q.end>C)})}var W=this.context,H=(0,c.default)(W).getInstance().log,S=[],l=void 0,Y=m;return{getAllBufferRanges:P,append:A,remove:b,abort:D,discharge:R,reset:w}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(46),c=u(y),_=t(48),v=u(_);p.__dashjs_factory_name="PreBufferSink";var E=v.default.getClassFactory(p);o.default=E,d.exports=o.default},{46:46,48:48}],93:[function(t,d,o){"use strict";function u(W){return W&&W.__esModule?W:{default:W}}function p(W,H,S){function l(){ve=!1;var V=H.codec;try{if(V.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");Te=W.addSourceBuffer(V)}catch(Ae){if(!H.isText&&V.indexOf('codecs="stpp')===-1&&V.indexOf('codecs="wvtt')===-1)throw Ae;var de=(0,R.default)(ee).getInstance();Te=de.getTextSourceBuffer()}}function Y(){if(Te){try{W.removeSourceBuffer(Te)}catch{be("Failed to remove source buffer from media source.")}ve=!1,Te=null}fe=[],Ee=null}function C(){return Te}function O(){return Te.buffered}function q(V){fe.push(V),ve||ue(Te,pe.bind(this))}function Q(V,de,Ae){var De=this;ue(Te,function(){try{V>=0&&de>V&&(Ae||W.readyState!=="ended")&&Te.remove(V,de),ue(Te,function(){ie.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:De,from:V,to:de})})}catch(ae){ie.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:De,from:V,to:de,error:new v.default(ae.code,ae.message,null)})}})}function pe(){var V=this;fe.length>0&&function(){ve=!0;var de=fe[0];fe.splice(0,1);var Ae=function(){fe.length>0?pe.call(this):(ve=!1,Ee&&Ee({chunk:de}))};try{Te.appendBuffer?Te.appendBuffer(de.bytes):Te.append(de.bytes,de),ue(Te,Ae.bind(V))}catch(De){be('SourceBuffer append failed "'+De+'"'),fe.length>0?pe():ve=!1,Ee&&Ee({chunk:de,error:new v.default(De.code,De.message,null)})}}()}function re(){try{(W.readyState==="open"||Te.setTextTrack&&W.readyState==="ended")&&Te.abort()}catch(V){be('SourceBuffer append abort failed: "'+V+'"')}fe=[]}function ue(V,de){var Ae=void 0,De=50,ae=function(){V.updating||(clearInterval(Ae),de())},me=function Ce(){V.updating||(V.removeEventListener("updateend",Ce,!1),de())};if(!V.updating)return void de();if(typeof V.addEventListener=="function")try{V.addEventListener("updateend",me,!1)}catch{Ae=setInterval(ae,De)}else Ae=setInterval(ae,De)}var ee=this.context,be=(0,c.default)(ee).getInstance().log,ie=(0,m.default)(ee).getInstance(),Te=void 0,ve=void 0,fe=[],Ee=S,Se={getAllBufferRanges:O,getBuffer:C,append:q,remove:Q,abort:re,reset:Y};return l(),Se}Object.defineProperty(o,"__esModule",{value:!0});var y=t(46),c=u(y),_=t(160),v=u(_),E=t(47),m=u(E),w=t(51),A=u(w),b=t(48),D=u(b),P=t(137),R=u(P);p.__dashjs_factory_name="SourceBufferSink";var j=D.default.getClassFactory(p);o.default=j,d.exports=o.default},{137:137,160:160,46:46,47:47,48:48,51:51}],94:[function(t,d,o){"use strict";function u(C){return C&&C.__esModule?C:{default:C}}function p(C){function O(){ue(),ut=(0,A.default)(z).create({mediaPlayerModel:qe,metricsModel:pt,errHandler:It}),ye.on(W.default.BUFFERING_COMPLETED,K,gt),ye.on(W.default.DATA_UPDATE_COMPLETED,he,gt)}function q(se,Be){et=se,(lt=Be)&&(ye.on(W.default.KEY_ERROR,ae,gt),ye.on(W.default.SERVER_CERTIFICATE_UPDATED,ae,gt),ye.on(W.default.LICENSE_REQUEST_COMPLETE,ae,gt),ye.on(W.default.KEY_SYSTEM_SELECTED,ae,gt),ye.on(W.default.KEY_SESSION_CREATED,ae,gt))}function Q(se){st||(ye.on(W.default.CURRENT_TRACK_CHANGED,xe,gt),N(se),st=!0),ne()}function pe(){for(var se=Tt?Tt.length:0,Be=0;Be<se;Be++)Tt[Be].getFragmentModel().removeExecutedRequestsBeforeTime(ie()+be()),Tt[Be].reset();Tt=[],st=!1,Ze=!1,ye.off(W.default.CURRENT_TRACK_CHANGED,xe,gt)}function re(se){for(var Be=0;Be<Tt.length;)Ce(Tt[Be].getMediaInfo())?(Tt[Be].setMediaSource(se),Be++):(Tt[Be].reset(),Tt.splice(Be,1));for(var Be=0;Be<Tt.length;Be++)Tt[Be].dischargePreBuffer();if(Tt.length===0){var e="No streams to play.";It.manifestError(e,"nostreams",We.getValue()),J(e)}}function ue(){pe(),et=null,At={},wt=!1}function ee(){nt&&nt.pause(),ut&&(ut.reset(),ut=null),ue(),J=null,ye.off(W.default.DATA_UPDATE_COMPLETED,he,gt),ye.off(W.default.BUFFERING_COMPLETED,K,gt),ye.off(W.default.KEY_ERROR,ae,gt),ye.off(W.default.SERVER_CERTIFICATE_UPDATED,ae,gt),ye.off(W.default.LICENSE_REQUEST_COMPLETE,ae,gt),ye.off(W.default.KEY_SYSTEM_SELECTED,ae,gt),ye.off(W.default.KEY_SESSION_CREATED,ae,gt)}function be(){return et?et.duration:NaN}function ie(){return et?et.start:NaN}function Te(){return et?et.id:NaN}function ve(){return et}function fe(){return Ft}function Ee(){return ut}function Se(){return bt}function V(){if(!(ct&&ct.hasOwnProperty("getBitrateList")&&Xe&&Xe.hasOwnProperty("getAllMediaInfoForType")&&Xe.hasOwnProperty("getEventsFor")))throw new Error("Missing config parameter(s)")}function de(se){if(V(),se===c.default.IMAGE)return bt?bt.getBitrateList():[];var Be=F(se);return ct.getBitrateList(Be)}function Ae(){Ft&&Ft.start()}function De(){Ft&&Ft.stop()}function ae(se){se.error&&(It.mediaKeySessionError(se.error),J(se.error),ee())}function me(se){return se.type===c.default.TEXT?se.mimeType:se.type}function Ce(se){var Be=se.type,e=void 0,i=void 0;if(Be===c.default.MUXED&&se)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",J(i),It.manifestError(i,"multiplexedrep",We.getValue()),!1;if(Be===c.default.TEXT||Be===c.default.FRAGMENTED_TEXT||Be===c.default.EMBEDDED_TEXT||Be===c.default.IMAGE)return!0;if(e=se.codec,J(Be+" codec: "+e),se.contentProtection&&!ht.supportsEncryptedMedia())It.capabilityError("encryptedmedia");else if(!ht.supportsCodec(e))return i=Be+"Codec ("+e+") is not supported.",J(i),!1;return!0}function xe(se){if(se.newMediaInfo.streamInfo.id===et.id){var Be=we(se.oldMediaInfo);if(Be){var e=nt.getTime();J("Stream -  Process track changed at current time "+e);var i=se.newMediaInfo,n=We.getValue();J("Stream -  Update stream controller"),n.refreshManifestOnSwitchTrack?(J("Stream -  Refreshing manifest for switch track"),Rt=se,Ye.refreshManifest()):(Be.updateMediaInfo(i),i.type!==c.default.FRAGMENTED_TEXT&&(ct.updateTopQualityIndex(i),Be.switchTrackAsked()))}}}function ce(se,Be,e,i){var n=(0,v.default)(z).create({type:me(se),mimeType:se.mimeType,timelineConverter:Ke,adapter:Xe,manifestModel:We,dashManifestModel:Fe,mediaPlayerModel:qe,metricsModel:pt,dashMetrics:C.dashMetrics,baseURLController:C.baseURLController,stream:gt,abrController:ct,domStorage:C.domStorage,playbackController:nt,mediaController:Lt,streamController:C.streamController,textController:Ut,errHandler:It});if(n.initialize(e),ct.updateTopQualityIndex(se),i?(n.setBuffer(i.buffer),n.getIndexHandler().setCurrentTime(i.currentTime),Tt[i.replaceIdx]=n):Tt.push(n),!i||!i.ignoreMediaInfo)if(se.type===c.default.TEXT||se.type===c.default.FRAGMENTED_TEXT){for(var r=void 0,g=0;g<Be.length;g++)Be[g].index===se.index&&(r=g),n.updateMediaInfo(Be[g]);se.type===c.default.FRAGMENTED_TEXT&&n.updateMediaInfo(Be[r])}else n.updateMediaInfo(se)}function Pe(se,Be){var e=Xe.getAllMediaInfoForType(et,se),i=null,n=void 0;if(!e||e.length===0)return void J("No "+se+" data.");for(var r=0,g=e.length;r<g;r++)if(i=e[r],se===c.default.EMBEDDED_TEXT)Ut.addEmbeddedTrack(i);else{if(!Ce(i))continue;Lt.isMultiTrackSupportedByType(i.type)&&Lt.addTrack(i,et)}if(se!==c.default.EMBEDDED_TEXT&&Lt.getTracksFor(se,et).length!==0){if(se===c.default.IMAGE)return void(bt=(0,D.default)(z).create({dashManifestModel:Fe,adapter:Xe,baseURLController:C.baseURLController,stream:gt}));Lt.checkInitialMediaSettingsForType(se,et),n=Lt.getCurrentTrackFor(se,et),ce(n,e,Be)}}function N(se){V();var Be=void 0;if(Ft||(Ft=(0,m.default)(z).create(),Ft.setConfig({manifestModel:We,manifestUpdater:Ye,playbackController:nt}),Be=Xe.getEventsFor(et),Ft.addInlineEvents(Be)),wt=!0,Z(c.default.VIDEO),Z(c.default.AUDIO),Pe(c.default.VIDEO,se),Pe(c.default.AUDIO,se),Pe(c.default.TEXT,se),Pe(c.default.FRAGMENTED_TEXT,se),Pe(c.default.EMBEDDED_TEXT,se),Pe(c.default.MUXED,se),Pe(c.default.IMAGE,se),ne(),Ze=!0,wt=!1,Tt.length===0){var e="No streams to play.";It.manifestError(e,"nostreams",We.getValue()),J(e)}else L()}function Z(se){var Be=Fe.getAdaptationForType(We.getValue(),et.index,se,et);if(!Be||!Array.isArray(Be.Representation_asArray))return null;Be.Representation_asArray=Be.Representation_asArray.filter(function(e,i){if(i===0)return!0;var n=Fe.getCodec(Be,i,!0);return!!ht.supportsCodec(n)||(J("[Stream] codec not supported: "+n),!1)})}function L(){for(var se=Tt.length,Be=!!At.audio||!!At.video,e=Be?new Error(U,"Data update failed",null):null,i=0;i<se;i++)if(Tt[i].isUpdating()||wt)return;if(Ze){if(lt)for(var i=0;i<se&&Tt[i];i++)Tt[i].getType()!==c.default.AUDIO&&Tt[i].getType()!==c.default.VIDEO&&Tt[i].getType()!==c.default.FRAGMENTED_TEXT||lt.initializeForMedia(Tt[i].getMediaInfo());ye.trigger(W.default.STREAM_INITIALIZED,{streamInfo:et,error:e})}}function F(se){for(var Be=Tt.length,e=null,i=0;i<Be;i++)if(e=Tt[i],e.getType()===se)return e.getMediaInfo();return null}function ne(){for(var se=0,Be=Tt.length;se<Be;se++)Tt[se].createBuffer()}function K(se){if(se.streamInfo===et){var Be=h(),e=Be.length;if(e===0)return void J("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var i=0;i<e;i++)if(!Be[i].isBufferingCompleted()&&(Be[i].getType()===c.default.AUDIO||Be[i].getType()===c.default.VIDEO))return void J("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+Be[i].getType()+" is not buffering completed");J("[Stream] onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ye.trigger(W.default.STREAM_BUFFERING_COMPLETED,{streamInfo:et})}}function he(se){var Be=se.sender.getStreamProcessor();Be.getStreamInfo()===et&&(At[Be.getType()]=se.error,L())}function we(se){return!!se&&h().filter(function(Be){return Be.getType()===se.type})[0]}function h(){for(var se=Tt.length,Be=[],e=void 0,i=void 0,n=0;n<se;n++)i=Tt[n],(e=i.getType())!==c.default.AUDIO&&e!==c.default.VIDEO&&e!==c.default.FRAGMENTED_TEXT||Be.push(i);return Be}function x(se){if(J("Manifest updated... updating data system wide."),st=!1,wt=!0,et=se,Ft){var Be=Xe.getEventsFor(et);Ft.addInlineEvents(Be)}Z(c.default.VIDEO),Z(c.default.AUDIO);for(var e=0,i=Tt.length;e<i;e++){var n=Tt[e],r=Xe.getMediaInfoForType(et,n.getType());ct.updateTopQualityIndex(r),n.updateMediaInfo(r)}if(Rt){var r=Rt.newMediaInfo;if(r.type!=="fragmentedText"){var g=we(Rt.oldMediaInfo);if(!g)return;g.switchTrackAsked(),Rt=void 0}}wt=!1,L()}var U=1;C=C||{};var z=this.context,J=(0,S.default)(z).getInstance().log,ye=(0,R.default)(z).getInstance(),We=C.manifestModel,Fe=C.dashManifestModel,qe=C.mediaPlayerModel,Ye=C.manifestUpdater,Xe=C.adapter,ht=C.capabilities,It=C.errHandler,Ke=C.timelineConverter,pt=C.metricsModel,ct=C.abrController,nt=C.playbackController,Lt=C.mediaController,Ut=C.textController,gt=void 0,Tt=void 0,st=void 0,Ze=void 0,et=void 0,At=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0,Ft=void 0,Rt=void 0;return gt={initialize:q,activate:Q,deactivate:pe,getDuration:be,getStartTime:ie,getId:Te,getStreamInfo:ve,getFragmentController:Ee,getThumbnailController:Se,getEventController:fe,getBitrateListFor:de,startEventController:Ae,stopEventController:De,updateData:x,reset:ee,getProcessors:h,setMediaSource:re},O(),gt}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(95),v=u(_),E=t(104),m=u(E),w=t(105),A=u(w),b=t(140),D=u(b),P=t(47),R=u(P),j=t(51),W=u(j),H=t(46),S=u(H),l=t(48),Y=u(l);p.__dashjs_factory_name="Stream",o.default=Y.default.getClassFactory(p),d.exports=o.default},{104:104,105:105,140:140,46:46,47:47,48:48,51:51,95:95,98:98}],95:[function(t,d,o){"use strict";function u(l){return l&&l.__esModule?l:{default:l}}function p(l){function Y(){It&&It.getIsDynamic()&&(wt=(0,v.default)(x).create({timelineConverter:We,streamProcessor:Tt})),re()}function C(Ft){U=(0,S.default)(x).create({mimeType:ye,timelineConverter:We,dashMetrics:Ut,metricsModel:Lt,mediaPlayerModel:Ye,baseURLController:l.baseURLController,errHandler:J}),U.initialize(Tt),ht.registerStreamType(z,Tt),ut=Xe.getFragmentController().getModel(z),ut.setStreamProcessor(Tt),et=h(z),At=(0,D.default)(x).create({type:z,metricsModel:Lt,adapter:Fe,dashMetrics:Ut,dashManifestModel:gt,timelineConverter:We,mediaPlayerModel:Ye,abrController:ht,playbackController:It,streamController:Ke,textController:ct,streamProcessor:Tt,mediaController:pt}),lt=(0,R.default)(x).create(),lt.setConfig({abrController:ht,domStorage:nt,metricsModel:Lt,dashMetrics:Ut,dashManifestModel:gt,manifestModel:qe,playbackController:It,timelineConverter:We,streamProcessor:Tt}),et.initialize(Ft),At.initialize(),lt.initialize()}function O(Ft){bt.push(Ft)}function q(Ft){var Rt=bt.indexOf(Ft);Rt!==-1&&bt.splice(Rt,1)}function Q(){return bt}function pe(){bt=[]}function re(){Ze=[],st=null,pe()}function ue(Ft){U.reset(),et&&(et.reset(Ft),et=null),At&&(At.reset(),At=null),lt&&(lt.reset(),lt=null),ht&&ht.unRegisterStreamType(z),bt.forEach(function(Rt){Rt.reset()}),re(),z=null,Xe=null,wt&&(wt.reset(),wt=null)}function ee(){return!!lt&&lt.isUpdating()}function be(){return z}function ie(){return lt}function Te(){return U}function ve(){return Xe?Xe.getFragmentController():null}function fe(){return et.getBuffer()}function Ee(Ft){et.setBuffer(Ft)}function Se(){return et}function V(){return ut}function de(){return wt}function Ae(){return Xe?Xe.getStreamInfo():null}function De(){return Xe?Xe.getEventController():null}function ae(Ft){Ft===st||Ft&&st&&Ft.type!==st.type||(st=Ft),Ze.indexOf(Ft)===-1&&Ze.push(Ft),Fe.updateData(this)}function me(){return Ze}function Ce(){return st}function xe(){return et.getMediaSource()}function ce(Ft){et.setMediaSource(Ft,Ce())}function Pe(){et.dischargePreBuffer()}function N(){return At}function Z(){return Fe.getCurrentRepresentationInfo(lt)}function L(Ft){return Fe.getRepresentationInfoForQuality(lt,Ft)}function F(){return!!et&&et.getIsBufferingCompleted()}function ne(){return et.getBufferLevel()}function K(Ft,Rt){et&&et.switchInitData(Ae().id,Ft,Rt)}function he(){return et.getBuffer()||et.createBuffer(st)}function we(){At.switchTrackAsked()}function h(Ft){return Ft===c.default.VIDEO||Ft===c.default.AUDIO?(0,m.default)(x).create({type:Ft,metricsModel:Lt,mediaPlayerModel:Ye,manifestModel:qe,errHandler:J,streamController:Ke,mediaController:pt,adapter:Fe,textController:ct,abrController:ht,playbackController:It,streamProcessor:Tt}):(0,A.default)(x).create({type:Ft,metricsModel:Lt,mediaPlayerModel:Ye,manifestModel:qe,errHandler:J,streamController:Ke,mediaController:pt,adapter:Fe,textController:ct,abrController:ht,playbackController:It,streamProcessor:Tt})}l=l||{};var x=this.context,U=void 0,z=l.type,J=l.errHandler,ye=l.mimeType,We=l.timelineConverter,Fe=l.adapter,qe=l.manifestModel,Ye=l.mediaPlayerModel,Xe=l.stream,ht=l.abrController,It=l.playbackController,Ke=l.streamController,pt=l.mediaController,ct=l.textController,nt=l.domStorage,Lt=l.metricsModel,Ut=l.dashMetrics,gt=l.dashManifestModel,Tt=void 0,st=void 0,Ze=void 0,et=void 0,At=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0;return Tt={initialize:C,isUpdating:ee,getType:be,getBufferController:Se,getFragmentModel:V,getScheduleController:N,getLiveEdgeFinder:de,getEventController:De,getFragmentController:ve,getRepresentationController:ie,getIndexHandler:Te,getCurrentRepresentationInfo:Z,getRepresentationInfoForQuality:L,getBufferLevel:ne,switchInitData:K,isBufferingCompleted:F,createBuffer:he,getStreamInfo:Ae,updateMediaInfo:ae,switchTrackAsked:we,getMediaInfoArr:me,getMediaInfo:Ce,getMediaSource:xe,setMediaSource:ce,dischargePreBuffer:Pe,getBuffer:fe,setBuffer:Ee,registerExternalController:O,unregisterExternalController:q,getExternalControllers:Q,unregisterAllExternalController:pe,reset:ue},Y(),Tt}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(151),v=u(_),E=t(103),m=u(E),w=t(136),A=u(w),b=t(109),D=u(b),P=t(59),R=u(P),j=t(48),W=u(j),H=t(54),S=u(H);p.__dashjs_factory_name="StreamProcessor",o.default=W.default.getClassFactory(p),d.exports=o.default},{103:103,109:109,136:136,151:151,48:48,54:54,59:59,98:98}],96:[function(t,d,o){"use strict";function u(A){return A&&A.__esModule?A:{default:A}}function p(A,b,D){return b in A?Object.defineProperty(A,b,{value:D,enumerable:!0,configurable:!0,writable:!0}):A[b]=D,A}function y(A){function b(){var Q;Y=[],C=[],O=[],Q={},p(Q,c.HTTPRequest.MPD_TYPE,m.default.DOWNLOAD_ERROR_ID_MANIFEST),p(Q,c.HTTPRequest.XLINK_EXPANSION_TYPE,m.default.DOWNLOAD_ERROR_ID_XLINK),p(Q,c.HTTPRequest.INIT_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_INITIALIZATION),p(Q,c.HTTPRequest.MEDIA_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),p(Q,c.HTTPRequest.INDEX_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),p(Q,c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),p(Q,c.HTTPRequest.OTHER_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),q=Q}function D(Q,pe){var re=Q.request,ue=new XMLHttpRequest,ee=[],be=!0,ie=!0,Te=new Date,ve=Te,fe=0,Ee=function(Ce){ie=!1,re.requestStartDate=Te,re.requestEndDate=new Date,re.firstByteDate=re.firstByteDate||Te,re.checkExistenceOnly||W.addHttpRequest(re.mediaType,null,re.type,re.url,ue.responseURL||null,re.serviceLocation||null,re.range||null,re.requestStartDate,re.firstByteDate,re.requestEndDate,ue.status,re.duration,ue.getAllResponseHeaders(),Ce?ee:null)},Se=function(){Y.indexOf(ue)!==-1&&(Y.splice(Y.indexOf(ue),1),ie&&(Ee(!1),pe>0?(pe--,O.push(setTimeout(function(){D(Q,pe)},H.getRetryIntervalForType(re.type)))):(j.downloadError(q[re.type],re.url,re),Q.error&&Q.error(re,"error",ue.statusText),Q.complete&&Q.complete(re,ue.statusText))))},V=function(Ce){var xe=new Date;be&&(be=!1,(!Ce.lengthComputable||Ce.lengthComputable&&Ce.total!==Ce.loaded)&&(re.firstByteDate=xe)),Ce.lengthComputable&&(re.bytesLoaded=Ce.loaded,re.bytesTotal=Ce.total),ee.push({s:ve,d:xe.getTime()-ve.getTime(),b:[Ce.loaded?Ce.loaded-fe:0]}),ve=xe,fe=Ce.loaded,Q.progress&&Q.progress()},de=function(){ue.status>=200&&ue.status<=299&&(Ee(!0),Q.success&&Q.success(ue.response,ue.statusText,ue),Q.complete&&Q.complete(re,ue.statusText))},Ae=function(){Q.abort&&Q.abort(re,ue.status)};if(!S||!W||!j)throw new Error("config object is not correct or missing");try{var De=S.modifyRequestURL(re.url),ae=re.checkExistenceOnly?c.HTTPRequest.HEAD:c.HTTPRequest.GET;ue.open(ae,De,!0),re.responseType&&(ue.responseType=re.responseType),re.range&&ue.setRequestHeader("Range","bytes="+re.range),re.requestStartDate||(re.requestStartDate=Te),ue=S.modifyRequestHeader(ue),ue.withCredentials=H.getXHRWithCredentialsForType(re.type),ue.onload=de,ue.onloadend=Se,ue.onerror=Se,ue.onprogress=V,ue.onabort=Ae;var me=new Date().getTime();isNaN(re.delayLoadingTime)||me>=re.delayLoadingTime?(Y.push(ue),ue.send()):function(){var Ce={xhr:ue};C.push(Ce),Ce.delayTimeout=setTimeout(function(){if(C.indexOf(Ce)!==-1){C.splice(C.indexOf(Ce),1);try{Te=new Date,ve=Te,Y.push(Ce.xhr),Ce.xhr.send()}catch{Ce.xhr.onerror()}}},re.delayLoadingTime-me)}()}catch{ue.onerror()}}function P(Q){Q.request&&D(Q,H.getRetryAttemptsForType(Q.request.type))}function R(){O.forEach(function(Q){return clearTimeout(Q)}),O=[],C.forEach(function(Q){return clearTimeout(Q.delayTimeout)}),C=[],Y.forEach(function(Q){Q.onloadend=Q.onerror=Q.onprogress=void 0,Q.abort()}),Y=[]}A=A||{};var j=A.errHandler,W=A.metricsModel,H=A.mediaPlayerModel,S=A.requestModifier,l=void 0,Y=void 0,C=void 0,O=void 0,q=void 0;return l={load:P,abort:R},b(),l}Object.defineProperty(o,"__esModule",{value:!0});var c=t(179),_=t(48),v=u(_),E=t(148),m=u(E);y.__dashjs_factory_name="XHRLoader";var w=v.default.getClassFactory(y);o.default=w,d.exports=o.default},{148:148,179:179,48:48}],97:[function(t,d,o){"use strict";function u(S){return S&&S.__esModule?S:{default:S}}function p(S){function l(pe,re,ue){var ee=function(ie,Te){re.resolved=!0,re.resolvedContent=ie||null,q.trigger(P.default.XLINK_ELEMENT_LOADED,{element:re,resolveObject:ue,error:ie||Te?null:new c.default(W,"Failed loading Xlink element: "+pe)})};if(pe===C)ee(null,!0);else{var be=new w.default(pe,E.HTTPRequest.XLINK_TYPE);Q.load({request:be,success:function(ie){ee(ie)},error:function(){ee(null)}})}}function Y(){Q&&(Q.abort(),Q=null)}S=S||{};var C="urn:mpeg:dash:resolve-to-zero:2013",O=this.context,q=(0,b.default)(O).getInstance(),Q=(0,v.default)(O).create({errHandler:S.errHandler,metricsModel:S.metricsModel,mediaPlayerModel:S.mediaPlayerModel,requestModifier:S.requestModifier});return{load:l,reset:Y}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(160),c=u(y),_=t(96),v=u(_),E=t(179),m=t(170),w=u(m),A=t(47),b=u(A),D=t(51),P=u(D),R=t(48),j=u(R),W=1;p.__dashjs_factory_name="XlinkLoader";var H=j.default.getClassFactory(p);H.XLINK_LOADER_ERROR_LOADING_FAILURE=W,j.default.updateClassFactory(p.__dashjs_factory_name,H),o.default=H,d.exports=o.default},{160:160,170:170,179:179,47:47,48:48,51:51,96:96}],98:[function(t,d,o){"use strict";function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function _(v,E){for(var m=0;m<E.length;m++){var w=E[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,E,m){return E&&_(v.prototype,E),m&&_(v,m),v}}(),y=function(){function _(){u(this,_),this.init()}return p(_,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),_}(),c=new y;o.default=c,d.exports=o.default},{}],99:[function(t,d,o){"use strict";function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function _(v,E){for(var m=0;m<E.length;m++){var w=E[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,E,m){return E&&_(v.prototype,E),m&&_(v,m),v}}(),y=function(){function _(){u(this,_),this.init()}return p(_,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),_}(),c=new y;o.default=c,d.exports=o.default},{}],100:[function(t,d,o){"use strict";function u(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function p(){function Ae(){B=r.log.bind(I),Ce()}function De(le,Ue){Xt[le]=(0,Q.default)(n).create(),Oe[le]=Ue,tt[le]=tt[le]||{},tt[le].state=fe,ai[le]=!1,g.on(W.default.LOADING_PROGRESS,i,this),le==v.default.VIDEO&&(g.on(W.default.QUALITY_CHANGE_RENDERED,Pe,this),ni=(0,re.default)(n).create(),Be()),g.on(W.default.METRIC_ADDED,N,this),li=(0,ee.default)(n).create({mediaPlayerModel:Gt})}function ae(le){delete Oe[le]}function me(){G=(0,c.default)(n).create({metricsModel:ci,dashMetrics:Je,mediaPlayerModel:Gt,adapter:Ct}),G.initialize()}function Ce(){Re={video:!0,audio:!0},Me={},je={},ze={},Ne={},tt={},Oe={},Xt={},ai={},xt=!1,Dt=!0,Ot=!1,qt===void 0&&(qt=!1),ei=void 0,ni=void 0,li=void 0,clearTimeout(it),it=null}function xe(){Ce(),g.off(W.default.LOADING_PROGRESS,i,this),g.off(W.default.QUALITY_CHANGE_RENDERED,Pe,this),g.off(W.default.METRIC_ADDED,N,this),G&&G.reset()}function ce(le){le&&(le.streamController&&(oe=le.streamController),le.domStorage&&(Yt=le.domStorage),le.mediaPlayerModel&&(Gt=le.mediaPlayerModel),le.metricsModel&&(ci=le.metricsModel),le.dashMetrics&&(Je=le.dashMetrics),le.dashManifestModel&&(rt=le.dashManifestModel),le.adapter&&(Ct=le.adapter),le.manifestModel&&(Bt=le.manifestModel),le.videoModel&&(Pt=le.videoModel))}function Pe(le){le.mediaType===v.default.VIDEO&&(ei=le.oldQuality,ni.push(ei,Pt.getPlaybackQuality()))}function N(le){le.metric!==m.default.HTTP_REQUEST||!le.value||le.value.type!==be.HTTPRequest.MEDIA_SEGMENT_TYPE||le.mediaType!==v.default.AUDIO&&le.mediaType!==v.default.VIDEO||li.push(le.mediaType,le.value,Dt),le.metric!==m.default.BUFFER_LEVEL||le.mediaType!==v.default.AUDIO&&le.mediaType!==v.default.VIDEO||st(le.mediaType,.001*le.value.level)}function Z(le,Ue){var ot=void 0;return Me[Ue]=Me[Ue]||{},Me[Ue].hasOwnProperty(le)||(Me[Ue][le]=0),ot=Ft(Me[Ue][le],le),ot=Rt(ot,le,Me[Ue][le]),ot=e(ot,le)}function L(le){var Ue=Yt.getSavedBitrateSettings(le);if(!ze.hasOwnProperty(le))if(Ne.hasOwnProperty(le)){var ot=Bt.getValue(),mt=rt.getAdaptationForType(ot,0,le).Representation;if(Array.isArray(mt)){var yt=Math.max(Math.round(mt.length*Ne[le])-1,0);ze[le]=mt[yt].bandwidth}else ze[le]=0}else isNaN(Ue)?ze[le]=le===v.default.VIDEO?Ee:Se:ze[le]=Ue;return ze[le]}function F(le,Ue){ze[le]=Ue}function ne(le){return Ne.hasOwnProperty(le)?Ne[le]:null}function K(le,Ue){Ne[le]=Ue}function he(le){return ze.hasOwnProperty("max")&&ze.max.hasOwnProperty(le)?ze.max[le]:NaN}function we(le){return ze.hasOwnProperty("min")&&ze.min.hasOwnProperty(le)?ze.min[le]:NaN}function h(le,Ue){ze.max=ze.max||{},ze.max[le]=Ue}function x(le,Ue){ze.min=ze.min||{},ze.min[le]=Ue}function U(le){var Ue=he(le);return Ue?gt(Oe[le].getMediaInfo(),Ue):void 0}function z(le){var Ue=we(le);if(Ue){var ot=Tt(Oe[le].getMediaInfo()),mt=gt(Oe[le].getMediaInfo(),Ue);return ot[mt]&&mt<ot.length-1&&ot[mt].bitrate<1e3*Ue&&mt++,mt}}function J(le){return Ne.hasOwnProperty("max")&&Ne.max.hasOwnProperty(le)?Ne.max[le]:1}function ye(le,Ue){Ne.max=Ne.max||{},Ne.max[le]=Ue}function We(le){return Re[le]}function Fe(le,Ue){Re[le]=Ue}function qe(){return xt}function Ye(le){xt=le}function Xe(){return Ot}function ht(le){Ot=le}function It(){return Dt}function Ke(le){Dt=le}function pt(le){if(le&&Oe&&Oe[le]){var Ue=Oe[le].getStreamInfo(),ot=Ue?Ue.id:null,mt=lt(le),yt=(0,Y.default)(n).create({abrController:I,streamProcessor:Oe[le],currentValue:mt,switchHistory:Xt[le],droppedFramesHistory:ni,useBufferOccupancyABR:Ze(le)});if(ni){var kt=Pt.getPlaybackQuality();kt&&ni.push(ei,kt)}if(We(le)){var Vt=z(le),ii=Z(le,ot),Ti=G.getMaxQuality(yt),pi=Ti.quality;if(Vt!==void 0&&pi<Vt&&(pi=Vt),pi>ii&&(pi=ii),Xt[le].push({oldValue:mt,newValue:pi}),pi>O.default.NO_CHANGE&&pi!=mt)(tt[le].state===fe||pi>mt)&&nt(le,mt,pi,ii,Ti.reason);else if(r.getLogToBrowserConsole()){var di=Je.getCurrentBufferLevel(ci.getReadOnlyMetricsFor(le));B("AbrController ("+le+") stay on "+mt+"/"+ii+" (buffer: "+di+")")}}}}function ct(le,Ue,ot,mt){var yt=Ue.id,kt=lt(le);if(ot===null||isNaN(ot)||ot%1!=0)throw new Error("argument is not an integer");var Vt=Z(le,yt);ot!==kt&&ot>=0&&ot<=Vt&&nt(le,kt,ot,Vt,mt)}function nt(le,Ue,ot,mt,yt){if(le&&Oe[le]){var kt=Oe[le].getStreamInfo(),Vt=kt?kt.id:null;if(r.getLogToBrowserConsole()){var ii=Je.getCurrentBufferLevel(ci.getReadOnlyMetricsFor(le));B("AbrController ("+le+") switch from "+Ue+" to "+ot+"/"+mt+" (buffer: "+ii+") "+(yt?JSON.stringify(yt):"."))}ut(le,Vt,ot),g.trigger(W.default.QUALITY_CHANGE_REQUESTED,{mediaType:le,streamInfo:kt,oldQuality:Ue,newQuality:ot,reason:yt})}}function Lt(le,Ue){tt[le].state=Ue}function Ut(le){return tt[le]?tt[le].state:null}function gt(le,Ue,ot){if(Dt&&ot&&Oe[le.type].getCurrentRepresentationInfo()&&Oe[le.type].getCurrentRepresentationInfo().fragmentDuration){ot/=1e3;var mt=Oe[le.type].getCurrentRepresentationInfo().fragmentDuration;if(ot>mt)return 0;Ue*=1-ot/mt}var yt=Tt(le);if(!yt||yt.length===0)return V;for(var kt=yt.length-1;kt>=0;kt--)if(1e3*Ue>=yt[kt].bitrate)return kt;return 0}function Tt(le){if(!le||!le.bitrateList)return null;for(var Ue=le.bitrateList,ot=le.type,mt=[],yt=void 0,kt=0,Vt=Ue.length;kt<Vt;kt++)yt=new A.default,yt.mediaType=ot,yt.qualityIndex=kt,yt.bitrate=Ue[kt].bandwidth,yt.width=Ue[kt].width,yt.height=Ue[kt].height,yt.scanType=Ue[kt].scanType,mt.push(yt);return mt}function st(le,Ue){var ot=Gt.getABRStrategy();if(ot===v.default.ABR_STRATEGY_BOLA)return void(ai[le]=!0);if(ot===v.default.ABR_STRATEGY_THROUGHPUT)return void(ai[le]=!1);var mt=Gt.getStableBufferTime(),yt=mt,kt=.5*mt,Vt=ai[le],ii=Ue>(Vt?kt:yt);ai[le]=ii,ii!==Vt&&B(ii?"AbrController ("+le+") switching from throughput to buffer occupancy ABR rule (buffer: "+Ue.toFixed(3)+").":"AbrController ("+le+") switching from buffer occupancy to throughput ABR rule (buffer: "+Ue.toFixed(3)+").")}function Ze(le){return ai[le]}function et(){return li}function At(le){var Ue=le.type,ot=le.streamInfo.id,mt=le.representationCount-1;return bt(Ue,ot,mt),mt}function wt(le){var Ue=le.id,ot=lt(v.default.AUDIO),mt=lt(v.default.VIDEO);return ot===Z(v.default.AUDIO,Ue)&&mt===Z(v.default.VIDEO,Ue)}function lt(le){if(le&&Oe[le]){var Ue=Oe[le].getStreamInfo(),ot=Ue?Ue.id:null;if(ot)return je[ot]=je[ot]||{},je[ot].hasOwnProperty(le)||(je[ot][le]=V),je[ot][le]}return V}function ut(le,Ue,ot){je[Ue]=je[Ue]||{},je[Ue][le]=ot}function bt(le,Ue,ot){Me[Ue]=Me[Ue]||{},Me[Ue][le]=ot}function Ft(le,Ue){var ot=le;if(!Oe[Ue])return ot;var mt=z(Ue);mt!==void 0&&(ot=Math.max(le,mt));var yt=U(Ue);return yt!==void 0&&(ot=Math.min(ot,yt)),ot}function Rt(le,Ue,ot){var mt=J(Ue);return isNaN(mt)||mt>=1||mt<0?le:Math.min(le,Math.round(ot*mt))}function se(le){qt=le}function Be(){if(Pt){var le=Ot&&window.hasOwnProperty("devicePixelRatio"),Ue=le?window.devicePixelRatio:1;zt=Pt.getClientWidth()*Ue,Wt=Pt.getClientHeight()*Ue}}function e(le,Ue){if(Ue!==v.default.VIDEO||!xt||!Oe[Ue])return le;qt||Be();var ot=Bt.getValue(),mt=rt.getAdaptationForType(ot,0,Ue).Representation,yt=le;if(zt>0&&Wt>0){for(;yt>0&&mt[yt]&&zt<mt[yt].width&&zt-mt[yt-1].width<mt[yt].width-zt;)yt-=1;mt.length-2>=yt&&mt[yt].width===mt[yt+1].width&&(yt=Math.min(le,yt+1))}return yt}function i(le){var Ue=le.request.mediaType;if(We(Ue)){var ot=Oe[Ue];if(!ot)return;var mt=(0,Y.default)(n).create({abrController:I,streamProcessor:ot,currentRequest:le.request,useBufferOccupancyABR:Ze(Ue)}),yt=G.shouldAbandonFragment(mt);if(yt.quality>O.default.NO_CHANGE){var kt=ot.getFragmentModel();kt.getRequests({state:D.default.FRAGMENT_MODEL_LOADING,index:le.request.index})[0]&&(kt.abortRequests(),Lt(Ue,ve),Xt[Ue].reset(),Xt[Ue].push({oldValue:lt(Ue,oe.getActiveStreamInfo()),newValue:yt.quality,confidence:1,reason:yt.reason}),ct(Ue,oe.getActiveStreamInfo(),yt.quality,yt.reason),clearTimeout(it),it=setTimeout(function(){Lt(Ue,fe),it=null},Gt.getAbandonLoadTimeout()))}}}var n=this.context,r=(0,Te.default)(n).getInstance(),g=(0,R.default)(n).getInstance(),I=void 0,B=void 0,G=void 0,oe=void 0,Re=void 0,Me=void 0,je=void 0,ze=void 0,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,qt=void 0,zt=void 0,Wt=void 0,Bt=void 0,rt=void 0,Ct=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,ci=void 0,Je=void 0,Dt=void 0;return I={isPlayingAtTopQuality:wt,updateTopQualityIndex:At,getThroughputHistory:et,getBitrateList:Tt,getQualityForBitrate:gt,getMaxAllowedBitrateFor:he,getMinAllowedBitrateFor:we,setMaxAllowedBitrateFor:h,setMinAllowedBitrateFor:x,getMaxAllowedIndexFor:U,getMinAllowedIndexFor:z,getMaxAllowedRepresentationRatioFor:J,setMaxAllowedRepresentationRatioFor:ye,getInitialBitrateFor:L,setInitialBitrateFor:F,getInitialRepresentationRatioFor:ne,setInitialRepresentationRatioFor:K,setAutoSwitchBitrateFor:Fe,getAutoSwitchBitrateFor:We,getUseDeadTimeLatency:It,setUseDeadTimeLatency:Ke,setLimitBitrateByPortal:Ye,getLimitBitrateByPortal:qe,getUsePixelRatioInLimitBitrateByPortal:Xe,setUsePixelRatioInLimitBitrateByPortal:ht,getQualityFor:lt,getAbandonmentStateFor:Ut,setPlaybackQuality:ct,checkPlaybackQuality:pt,getTopQualityIndexFor:Z,setElementSize:Be,setWindowResizeEventCalled:se,createAbrRulesCollection:me,registerStreamType:De,unRegisterStreamType:ae,setConfig:ce,reset:xe},Ae(),I}Object.defineProperty(o,"__esModule",{value:!0});var y=t(125),c=u(y),_=t(98),v=u(_),E=t(99),m=u(E),w=t(159),A=u(w),b=t(114),D=u(b),P=t(47),R=u(P),j=t(51),W=u(j),H=t(48),S=u(H),l=t(121),Y=u(l),C=t(122),O=u(C),q=t(123),Q=u(q),pe=t(120),re=u(pe),ue=t(124),ee=u(ue),be=t(179),ie=t(46),Te=u(ie),ve="abandonload",fe="allowload",Ee=1e3,Se=100,V=0;p.__dashjs_factory_name="AbrController";var de=S.default.getSingletonFactory(p);de.ABANDON_LOAD=ve,de.QUALITY_DEFAULT=V,S.default.updateSingletonFactory(p.__dashjs_factory_name,de),o.default=de,d.exports=o.default},{114:114,120:120,121:121,122:122,123:123,124:124,125:125,159:159,179:179,46:46,47:47,48:48,51:51,98:98,99:99}],101:[function(t,d,o){"use strict";function u(H){return H&&H.__esModule?H:{default:H}}function p(){function H(Te){be.invalidateSelectedIndexes(Te.entry)}function S(){be=(0,c.default)(re).create(),ie=(0,v.default)(re).create(),ue.on(W.default.SERVICE_LOCATION_BLACKLIST_CHANGED,H,Q)}function l(Te){Te.baseURLTreeModel&&(be=Te.baseURLTreeModel),Te.baseURLSelector&&(ie=Te.baseURLSelector),Te.dashManifestModel&&(pe=Te.dashManifestModel)}function Y(Te){be.update(Te),ie.chooseSelectorFromManifest(Te)}function C(Te){var ve=be.getForPath(Te),fe=ve.reduce(function(Ee,Se){var V=ie.select(Se);return V?(ee.isRelative(V.url)?Ee.url=ee.resolve(V.url,Ee.url):(Ee.url=V.url,Ee.serviceLocation=V.serviceLocation),Ee):new A.default},new A.default);if(!ee.isRelative(fe.url))return fe}function O(){be.reset(),ie.reset()}function q(Te){be.setConfig({dashManifestModel:pe}),ie.setConfig({dashManifestModel:pe}),Y(Te)}var Q=void 0,pe=void 0,re=this.context,ue=(0,R.default)(re).getInstance(),ee=(0,m.default)(re).getInstance(),be=void 0,ie=void 0;return Q={reset:O,initialize:q,resolve:C,setConfig:l},S(),Q}Object.defineProperty(o,"__esModule",{value:!0});var y=t(113),c=u(y),_=t(142),v=u(_),E=t(155),m=u(E),w=t(79),A=u(w),b=t(48),D=u(b),P=t(47),R=u(P),j=t(51),W=u(j);p.__dashjs_factory_name="BaseURLController",o.default=D.default.getSingletonFactory(p),d.exports=o.default},{113:113,142:142,155:155,47:47,48:48,51:51,79:79}],102:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E){function m(H){return!!(P.length&&H&&H.length)&&P.indexOf(H)!==-1}function w(H){P.indexOf(H)===-1&&(P.push(H),R.trigger(j,{entry:H}))}function A(H){w(H.entry)}function b(){W&&R.on(W,A,this)}function D(){P=[]}E=E||{};var P=[],R=(0,v.default)(this.context).getInstance(),j=E.updateEventName,W=E.addBlacklistEventName;return b(),{add:w,contains:m,reset:D}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(47),v=u(_);p.__dashjs_factory_name="BlackListController",o.default=c.default.getClassFactory(p),d.exports=o.default},{47:47,48:48}],103:[function(t,d,o){"use strict";function u(V){return V&&V.__esModule?V:{default:V}}function p(V){function de(){Oe=(0,Q.default)(e).getInstance().log.bind(Ne),ei=(0,re.default)(e).getInstance(),se()}function Ae(){return Ee}function De(Je){wt(Je),tt=Re.getQualityFor(je,ze.getStreamInfo()),i.on(S.default.DATA_UPDATE_COMPLETED,ct,this),i.on(S.default.INIT_FRAGMENT_LOADED,xe,this),i.on(S.default.MEDIA_FRAGMENT_LOADED,Pe,this),i.on(S.default.QUALITY_CHANGE_REQUESTED,F,this),i.on(S.default.STREAM_COMPLETED,nt,this),i.on(S.default.PLAYBACK_PROGRESS,h,this),i.on(S.default.PLAYBACK_TIME_UPDATED,h,this),i.on(S.default.PLAYBACK_RATE_CHANGED,gt,this),i.on(S.default.PLAYBACK_SEEKING,ne,this),i.on(S.default.WALLCLOCK_TIME_UPDATED,Ut,this),i.on(S.default.CURRENT_TRACK_CHANGED,Lt,this,W.default.EVENT_PRIORITY_HIGH),i.on(S.default.SOURCEBUFFER_REMOVE_COMPLETED,Ke,this)}function ae(Je){if(!ei||!Je||!ze)return null;if(qt)try{Bt=(0,m.default)(e).create(qt,Je,L.bind(this)),typeof Bt.getBuffer().initialize=="function"&&Bt.getBuffer().initialize(je,ze)}catch(Dt){Oe("Caught error on create SourceBuffer: "+Dt),g.mediaSourceError("Error creating "+je+" source buffer.")}else Bt=(0,A.default)(e).create(L.bind(this));pt(ze.getRepresentationInfoForQuality(tt).MSETimeOffset)}function me(){if(Bt&&rt&&typeof rt.discharge=="function"){var Je=rt.getAllBufferRanges();if(Je.length>0){for(var Dt="Beginning "+je+"PreBuffer discharge, adding buffer for:",le=0;le<Je.length;le++)Dt+=" start: "+Je.start(le)+", end: "+Je.end(le)+";";Oe(Dt)}else Oe("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var Ue=rt.discharge(),ot=null,mt=0;mt<Ue.length;mt++){var yt=Ue[mt],kt=ei.extract(yt.streamId,yt.representationId);kt&&(ot!==kt&&(Bt.append(kt),ot=kt),Bt.append(yt))}rt.reset(),rt=null}}function Ce(){return!(!ze||!I)&&ze.getStreamInfo().id===I.getActiveStreamInfo().id}function xe(Je){Je.fragmentModel===ze.getFragmentModel()&&(Oe("Init fragment finished loading saving to",je+"'s init cache"),ei.save(Je.chunk),Oe("Append Init fragment",je," with representationId:",Je.chunk.representationId," and quality:",Je.chunk.quality),N(Je.chunk))}function ce(Je,Dt,le){var Ue=ei.extract(Je,Dt);ai=le===!0&&le,Ue?(Oe("Append Init fragment",je," with representationId:",Ue.representationId," and quality:",Ue.quality),N(Ue)):i.trigger(S.default.INIT_REQUESTED,{sender:Ne})}function Pe(Je){if(Je.fragmentModel===ze.getFragmentModel()){var Dt=Je.chunk,le=Dt.bytes,Ue=Dt.quality,ot=ze.getRepresentationInfoForQuality(Ue),mt=G.getEventsFor(ot.mediaInfo,ze),yt=G.getEventsFor(ot,ze);if(mt&&mt.length>0||yt&&yt.length>0){var kt=ze.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,quality:Ue,index:Dt.index})[0],Vt=qe(le,kt,mt,yt);ze.getEventController().addInbandEvents(Vt)}if(ai){ci=Dt;var ii=Bt&&Bt.getAllBufferRanges();ii&&ii.length>0&&Me.getTimeToStreamEnd()>ie&&(Oe("Clearing buffer because track changed - "+(ii.end(ii.length-1)+Te)),ht([{start:0,end:ii.end(ii.length-1)+Te,force:!0}]))}else N(Dt)}}function N(Je){Bt.append(Je),Je.mediaInfo.type===c.default.VIDEO&&i.trigger(S.default.VIDEO_CHUNK_RECEIVED,{chunk:Je})}function Z(Je){if(Je&&Je.length>0)for(var Dt=0,le=Je.length;Dt<le;Dt++)Oe("Buffered Range for type:",je,":",Je.start(Dt)," - ",Je.end(Dt)," currentTime = ",Me.getTime())}function L(Je){if(Je.error){if(Je.error.code===fe&&(Ot=.8*Ft(),Oe("Quota exceeded for type: "+je+", Critical Buffer: "+Ot),Ot>0)){var Dt=Math.max(.2*Ot,1),le=Ot-Dt;r.setBufferToKeep(parseFloat(Dt).toFixed(5)),r.setBufferAheadToKeep(parseFloat(le).toFixed(5))}return void(Je.error.code!==fe&&Rt()||(Oe("Clearing playback buffer to overcome quota exceed situation for type: "+je),i.trigger(S.default.QUOTA_EXCEEDED,{sender:Ne,criticalBufferLevel:Ot}),K()))}(Pt=Je.chunk)&&!isNaN(Pt.index)&&(zt=Math.max(Pt.index,zt),ye());var Ue=Bt.getAllBufferRanges();if(Pt.segmentType===ue.HTTPRequest.MEDIA_SEGMENT_TYPE)Z(Ue),h();else if(ai){var ot=Me.getTime();Oe("[BufferController][",je,"] appendToBuffer seek target should be "+ot),ze.getScheduleController().setSeekTarget(ot),G.setIndexHandlerTime(ze,ot)}Oe("[BufferController][",je,"] onAppended chunk type = ",Pt.segmentType," and index = ",Pt.index),Pt&&i.trigger(S.default.BYTES_APPENDED,{sender:Ne,quality:Pt.quality,startTime:Pt.start,index:Pt.index,bufferedRanges:Ue})}function F(Je){tt!==Je.newQuality&&je===Je.mediaType&&ze.getStreamInfo().id===Je.streamInfo.id&&(pt(ze.getRepresentationInfoForQuality(Je.newQuality).MSETimeOffset),tt=Je.newQuality)}function ne(){it&&(ni=!0,it=!1,Wt=Number.POSITIVE_INFINITY),je!==c.default.FRAGMENTED_TEXT?K():h(),Xt=void 0}function K(){var Je=he();Je&&Je.length!==0||h(),ht(Je)}function he(){var Je=[],Dt=Bt.getAllBufferRanges();if(!Dt||Dt.length===0)return Je;var le=Me.getTime(),Ue=Dt.end(Dt.length-1)+Te,ot=ze.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:le,threshold:ve})[0];if(ot){var mt={start:0,end:ot.startTime-ie},yt=ze.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:ot.startTime-ot.duration/2,threshold:ve})[0];yt&&yt.startTime!=ot.startTime&&(mt.end=yt.startTime),mt.start<mt.end&&mt.end>Dt.start(0)&&Je.push(mt);var kt={start:ot.startTime+ot.duration+ie,end:Ue},Vt=ze.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:ot.startTime+ot.duration+ie,threshold:ve})[0];Vt&&Vt.startTime!==ot.startTime&&(kt.start=Vt.startTime+Vt.duration+ie),kt.start<kt.end&&kt.start<Ue&&Je.push(kt)}else Oe("getAllRangesWithSafetyFactor for",je,"- No request found in current time position, removing full buffer 0 -",Ue),Je.push({start:0,end:Ue});return Je}function we(){var Je=Me.getTime();if(Xt){var Dt=Bt.getAllBufferRanges();Dt&&Dt.length&&(Je=Math.max(Dt.start(0),Xt))}return Je}function h(){ai||(z(),J())}function x(Je,Dt){var le=Bt.getAllBufferRanges(),Ue=0,ot=0,mt=null,yt=null,kt=0,Vt=void 0,ii=void 0,Ti=Dt||.15;if(le!=null){for(ii=0,Vt=le.length;ii<Vt;ii++)if(Ue=le.start(ii),ot=le.end(ii),mt===null)kt=Math.abs(Ue-Je),(Je>=Ue&&Je<ot||kt<=Ti)&&(mt=Ue,yt=ot);else{if(!((kt=Ue-yt)<=Ti))break;yt=ot}if(mt!==null)return{start:mt,end:yt}}return null}function U(Je,Dt){var le=void 0;return le=x(Je,Dt),le===null?0:le.end-Je}function z(){Me&&(xt=U(we()||0),i.trigger(S.default.BUFFER_LEVEL_UPDATED,{sender:Ne,bufferLevel:xt}),We())}function J(){Ce()&&(n.addBufferState(je,Ct,ze.getScheduleController().getBufferTarget()),n.addBufferLevel(je,new Date,1e3*xt))}function ye(){zt>=Wt-1&&!it&&Bt.discharge===void 0&&(it=!0,Oe("[BufferController]["+je+"] checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),i.trigger(S.default.BUFFERING_COMPLETED,{sender:Ne,streamInfo:ze.getStreamInfo()}))}function We(){je!=="audio"&&je!=="video"||(ni&&!it&&Me&&Me.getTimeToStreamEnd()-xt<ie&&(ni=!1,it=!0,Oe("[BufferController]["+je+"] checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),i.trigger(S.default.BUFFERING_COMPLETED,{sender:Ne,streamInfo:ze.getStreamInfo()})),xt<ie&&!it?Fe(be):(it||xt>=r.getStableBufferTime())&&Fe(ee))}function Fe(Je){Ct===Je||je===c.default.FRAGMENTED_TEXT&&oe.getAllTracksAreDisabled()||(Ct=Je,J(),i.trigger(S.default.BUFFER_LEVEL_STATE_CHANGED,{sender:Ne,state:Je,mediaType:je,streamInfo:ze.getStreamInfo()}),i.trigger(Je===ee?S.default.BUFFER_LOADED:S.default.BUFFER_EMPTY,{mediaType:je}),Oe(Je===ee?"Got enough buffer to start for "+je:"Waiting for more buffer before starting playback for "+je))}function qe(Je,Dt,le,Ue){for(var ot=Math.max(isNaN(Dt.startTime)?0:Dt.startTime,0),mt=[],yt=[],kt=le.concat(Ue),Vt=0,ii=kt.length;Vt<ii;Vt++)mt[kt[Vt].schemeIdUri]=kt[Vt];for(var Ti=(0,Y.default)(e).getInstance().parse(Je),pi=Ti.getBoxes("emsg"),Vt=0,ii=pi.length;Vt<ii;Vt++){var di=G.getEvent(pi[Vt],mt,ot);di&&yt.push(di)}return yt}function Ye(){Bt&&je!==c.default.FRAGMENTED_TEXT&&(it||ht(Xe()))}function Xe(){var Je=[],Dt=Bt.getAllBufferRanges();if(!Dt||Dt.length===0)return Je;var le=Me.getTime(),Ue={start:Math.max(0,le-r.getBufferToKeep()),end:le+r.getBufferAheadToKeep()},ot=ze.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:le,threshold:ve})[0];if(ot&&(Ue.start=Math.min(ot.startTime,Ue.start),Ue.end=Math.max(ot.startTime+ot.duration,Ue.end)),Oe("getClearRanges for",je,"- Remove buffer out of ",Ue.start," - ",Ue.end),Dt.start(0)<=Ue.start){for(var mt={start:0,end:Ue.start},yt=0;yt<Dt.length&&Dt.end(yt)<=Ue.start;yt++)mt.end=Dt.end(yt);mt.start<mt.end&&Je.push(mt)}if(Dt.end(Dt.length-1)>=Ue.end){var kt={start:Ue.end,end:Dt.end(Dt.length-1)+ve};kt.start<kt.end&&Je.push(kt)}return Je}function ht(Je){Je&&Bt&&Je.length!==0&&(li.push.apply(li,Je),Yt||It())}function It(){if(li.length!==0){var Je=li.shift();Oe("Removing",je,"buffer from:",Je.start,"to",Je.end),Yt=!0;var Dt=Me.getTime();Dt<Je.end&&(it=!1,zt=0,ai||(ze.getScheduleController().setSeekTarget(Dt),G.setIndexHandlerTime(ze,Dt))),Bt.remove(Je.start,Je.end,Je.force)}}function Ke(Je){Bt===Je.buffer&&(Oe("[BufferController][",je,"] onRemoved buffer from:",Je.from,"to",Je.to),Z(Bt.getAllBufferRanges()),li.length===0&&(Yt=!1),Yt?It():(ai?(ai=!1,N(ci)):(Oe("onRemoved : call updateBufferLevel"),z()),i.trigger(S.default.BUFFER_CLEARED,{sender:Ne,from:Je.from,to:Je.to,hasEnoughSpaceToAppend:Rt()})))}function pt(Je){var Dt=Bt&&Bt.getBuffer?Bt.getBuffer():null;Dt&&Dt.timestampOffset!==Je&&!isNaN(Je)&&(Dt.timestampOffset=Je)}function ct(Je){Je.sender.getStreamProcessor()!==ze||Je.error||pt(Je.currentRepresentation.MSETimeOffset)}function nt(Je){Je.fragmentModel===ze.getFragmentModel()&&(Wt=Je.request.index,ye())}function Lt(Je){var Dt=Bt&&Bt.getAllBufferRanges();Dt&&Je.newMediaInfo.type===je&&Je.newMediaInfo.streamInfo.id===ze.getStreamInfo().id&&(Oe("[BufferController]["+je+"] track change asked"),B.getSwitchMode(je)===R.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Dt&&Dt.length>0&&Me.getTimeToStreamEnd()>ie&&(it=!1,Wt=Number.POSITIVE_INFINITY,ze.getFragmentModel().abortRequests()))}function Ut(){++Gt*(r.getWallclockTimeUpdateInterval()/1e3)>=r.getBufferPruningInterval()&&(Gt=0,Ye())}function gt(){We()}function Tt(){return je}function st(){return ze}function Ze(Je){Xt=Je}function et(){return Bt}function At(){return xt}function wt(Je,Dt){qt=Je,Bt&&Dt&&typeof Bt.discharge=="function"&&(rt=Bt,ae(Dt))}function lt(){return qt}function ut(){return it}function bt(){return Yt}function Ft(){var Je=Bt.getAllBufferRanges(),Dt=0,le=void 0,Ue=void 0;if(!Je)return Dt;for(Ue=0,le=Je.length;Ue<le;Ue++)Dt+=Je.end(Ue)-Je.start(Ue);return Dt}function Rt(){return Ft()<Ot}function se(Je){Ot=Number.POSITIVE_INFINITY,Ct=be,tt=D.default.QUALITY_DEFAULT,Wt=Number.POSITIVE_INFINITY,zt=0,Pt=null,it=!1,Yt=!1,ni=!1,xt=0,Gt=0,li=[],Bt&&(Je||Bt.abort(),Bt.reset(),Bt=null),ai=!1}function Be(Je){i.off(S.default.DATA_UPDATE_COMPLETED,ct,this),i.off(S.default.QUALITY_CHANGE_REQUESTED,F,this),i.off(S.default.INIT_FRAGMENT_LOADED,xe,this),i.off(S.default.MEDIA_FRAGMENT_LOADED,Pe,this),i.off(S.default.STREAM_COMPLETED,nt,this),i.off(S.default.CURRENT_TRACK_CHANGED,Lt,this),i.off(S.default.PLAYBACK_PROGRESS,h,this),i.off(S.default.PLAYBACK_TIME_UPDATED,h,this),i.off(S.default.PLAYBACK_RATE_CHANGED,gt,this),i.off(S.default.PLAYBACK_SEEKING,ne,this),i.off(S.default.WALLCLOCK_TIME_UPDATED,Ut,this),i.off(S.default.SOURCEBUFFER_REMOVE_COMPLETED,Ke,this),se(Je)}V=V||{};var e=this.context,i=(0,W.default)(e).getInstance(),n=V.metricsModel,r=V.mediaPlayerModel,g=V.errHandler,I=V.streamController,B=V.mediaController,G=V.adapter,oe=V.textController,Re=V.abrController,Me=V.playbackController,je=V.type,ze=V.streamProcessor,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,qt=void 0,zt=void 0,Wt=void 0,Bt=void 0,rt=void 0,Ct=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,ci=void 0;return Ne={getBufferControllerType:Ae,initialize:De,createBuffer:ae,dischargePreBuffer:me,getType:Tt,getStreamProcessor:st,setSeekStartTime:Ze,getBuffer:et,getBufferLevel:At,getRangeAt:x,setMediaSource:wt,getMediaSource:lt,getIsBufferingCompleted:ut,switchInitData:ce,getIsPruningInProgress:bt,reset:Be},de(),Ne}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(114),v=u(_),E=t(93),m=u(E),w=t(92),A=u(w),b=t(100),D=u(b),P=t(106),R=u(P),j=t(47),W=u(j),H=t(51),S=u(H),l=t(143),Y=u(l),C=t(48),O=u(C),q=t(46),Q=u(q),pe=t(149),re=u(pe),ue=t(179),ee="bufferLoaded",be="bufferStalled",ie=.5,Te=.5,ve=.01,fe=22,Ee="BufferController";p.__dashjs_factory_name=Ee;var Se=O.default.getClassFactory(p);Se.BUFFER_LOADED=ee,Se.BUFFER_EMPTY=be,O.default.updateClassFactory(p.__dashjs_factory_name,Se),o.default=Se,d.exports=o.default},{100:100,106:106,114:114,143:143,149:149,179:179,46:46,47:47,48:48,51:51,92:92,93:93,98:98}],104:[function(t,d,o){"use strict";function u(b){return b&&b.__esModule?b:{default:b}}function p(){function b(){D()}function D(){ae=!1,Te={},ve={},fe={},Ee=null,Se=100,V=Se/1e3}function P(){if(!de||!Ae||!De)throw new Error("setConfig function has to be called previously")}function R(){Ee!==null&&ae&&(clearInterval(Ee),Ee=null,ae=!1)}function j(){P(),ee("Start Event Controller"),ae||isNaN(Se)||(ae=!0,Ee=setInterval(Y,Se))}function W(me){if(P(),Te={},me)for(var Ce=0;Ce<me.length;Ce++){var xe=me[Ce];Te[xe.id]=xe,ee("Add inline event with id "+xe.id)}ee("Added "+me.length+" inline events")}function H(me){P();for(var Ce=0;Ce<me.length;Ce++){var xe=me[Ce];xe.id in ve?ee("Repeated event with id "+xe.id):(xe.eventStream.schemeIdUri===pe&&ve[xe.id]===void 0&&S(xe),ve[xe.id]=xe,ee("Add inband event with id "+xe.id))}}function S(me){if(me.eventStream.value==re){var Ce=me.eventStream.timescale||1,xe=me.presentationTime/Ce,ce=void 0;ce=me.presentationTime==4294967295?NaN:(me.presentationTime+me.duration)/Ce,ee("Manifest validity changed: Valid until: "+xe+"; remaining duration: "+ce),be.trigger(A.default.MANIFEST_VALIDITY_CHANGED,{id:me.id,validUntil:xe,newDuration:ce,newManifestValidAfter:NaN})}}function l(){if(fe)for(var me=De.getTime(),Ce=Object.keys(fe),xe=0;xe<Ce.length;xe++){var ce=Ce[xe],Pe=fe[ce];Pe!==null&&(Pe.duration+Pe.presentationTime)/Pe.eventStream.timescale<me&&(ee("Remove Event "+ce+" at time "+me),Pe=null,delete fe[ce])}}function Y(){O(ve),O(Te),l()}function C(){P(),Ae.refreshManifest()}function O(me){var Ce,xe=De.getTime();if(me)for(var ce=Object.keys(me),Pe=0;Pe<ce.length;Pe++){var N=ce[Pe],Z=me[N];Z!==void 0&&((Ce=Z.presentationTime/Z.eventStream.timescale)==0||Ce<=xe&&Ce+V>xe)&&(ee("Start Event "+N+" at "+xe),Z.duration>0&&(fe[N]=Z),Z.eventStream.schemeIdUri==pe&&Z.eventStream.value==re?Z.duration===0&&Z.presentationTimeDelta===0||C():be.trigger(Z.eventStream.schemeIdUri,{event:Z}),delete me[N])}}function q(me){me&&(me.manifestModel&&(de=me.manifestModel),me.manifestUpdater&&(Ae=me.manifestUpdater),me.playbackController&&(De=me.playbackController))}function Q(){R(),D()}var pe="urn:mpeg:dash:event:2012",re=1,ue=this.context,ee=(0,v.default)(ue).getInstance().log,be=(0,m.default)(ue).getInstance(),ie=void 0,Te=void 0,ve=void 0,fe=void 0,Ee=void 0,Se=void 0,V=void 0,de=void 0,Ae=void 0,De=void 0,ae=void 0;return ie={addInlineEvents:W,addInbandEvents:H,stop:R,start:j,setConfig:q,reset:Q},b(),ie}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(46),v=u(_),E=t(47),m=u(E),w=t(51),A=u(w);p.__dashjs_factory_name="EventController",o.default=c.default.getClassFactory(p),d.exports=o.default},{46:46,47:47,48:48,51:51}],105:[function(t,d,o){"use strict";function u(O){return O&&O.__esModule?O:{default:O}}function p(O){function q(){re(),ve.on(H.default.FRAGMENT_LOADING_COMPLETED,be,V)}function Q(Ae){var De=de[Ae];return De||(De=(0,w.default)(ie).create({metricsModel:Se,fragmentLoader:(0,b.default)(ie).create({metricsModel:Se,mediaPlayerModel:Ee,errHandler:fe,requestModifier:(0,P.default)(ie).getInstance()})}),de[Ae]=De),De}function pe(Ae){return Ae&&Ae.type&&Ae.type===_.HTTPRequest.INIT_SEGMENT_TYPE}function re(){for(var Ae in de)de[Ae].reset();de={}}function ue(){ve.off(H.default.FRAGMENT_LOADING_COMPLETED,be,this),re()}function ee(Ae,De,ae){var me=new E.default;return me.streamId=ae,me.mediaInfo=De.mediaInfo,me.segmentType=De.type,me.start=De.startTime,me.duration=De.duration,me.end=me.start+me.duration,me.bytes=Ae,me.index=De.index,me.quality=De.quality,me.representationId=De.representationId,me}function be(Ae){if(de[Ae.request.mediaType]===Ae.sender){var De=Ae.request,ae=Ae.response,me=pe(De),Ce=De.mediaInfo.streamInfo;if(Ae.error&&(Ae.request.mediaType!==c.default.AUDIO&&Ae.request.mediaType!==c.default.VIDEO||ve.trigger(H.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Ae.request.serviceLocation})),!ae||!Ce)return void Te("No "+De.mediaType+" bytes to push or stream is inactive.");var xe=ee(ae,De,Ce.id);ve.trigger(me?H.default.INIT_FRAGMENT_LOADED:H.default.MEDIA_FRAGMENT_LOADED,{chunk:xe,fragmentModel:Ae.sender})}}O=O||{};var ie=this.context,Te=(0,C.default)(ie).getInstance().log,ve=(0,j.default)(ie).getInstance(),fe=O.errHandler,Ee=O.mediaPlayerModel,Se=O.metricsModel,V=void 0,de=void 0;return V={getModel:Q,isInitializationRequest:pe,reset:ue},q(),V}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(179),v=t(161),E=u(v),m=t(114),w=u(m),A=t(87),b=u(A),D=t(153),P=u(D),R=t(47),j=u(R),W=t(51),H=u(W),S=t(48),l=u(S),Y=t(46),C=u(Y);p.__dashjs_factory_name="FragmentController",o.default=l.default.getClassFactory(p),d.exports=o.default},{114:114,153:153,161:161,179:179,46:46,47:47,48:48,51:51,87:87,98:98}],106:[function(t,d,o){"use strict";function u(l){return l&&l.__esModule?l:{default:l}}function p(){function l(){Se()}function Y(h,x){var U=ue(h),z=O(h,x),J=[];if(h===c.default.FRAGMENTED_TEXT)return void pe(z[0]);U||(U=K.getSavedMediaSettings(h),re(h,U)),z&&z.length!==0&&(U&&z.forEach(function(ye){de(U,ye)&&J.push(ye)}),pe(J.length===0?ae(z):J.length>1?ae(J):J[0]))}function C(h){var x=h?h.type:null,U=h?h.streamInfo.id:null,z=ue(x);if(h&&ve(x)){N[U]=N[U]||me();for(var J=N[U][x].list.length,ye=0;ye<J;ye++)if(fe(N[U][x].list[ye],h))return;N[U][x].list.push(h),z&&de(z,h)&&!q(x,h.streamInfo)&&pe(h)}}function O(h,x){if(!h||!x)return[];var U=x.id;return N[U]&&N[U][h]?N[U][h].list:[]}function q(h,x){return!h||!x||x&&!N[x.id]?null:N[x.id][h].current}function Q(h){var x=h.type,U=h.streamInfo.id;return N[U]&&N[U][x]&&fe(N[U][x].current,h)}function pe(h){if(h){var x=h.type,U=h.streamInfo,z=U.id,J=q(x,U);if(N[z]&&N[z][x]&&(!J||!fe(h,J))){N[z][x].current=h,J&&ce.trigger(v.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:J,newMediaInfo:h,switchMode:F[x]});var ye=V(h);ye&&N[z][x].storeLastSettings&&(ye.roles&&(ye.role=ye.roles[0],delete ye.roles),ye.accessibility&&(ye.accessibility=ye.accessibility[0]),ye.audioChannelConfiguration&&(ye.audioChannelConfiguration=ye.audioChannelConfiguration[0]),K.setSavedMediaSettings(x,ye))}}}function re(h,x){h&&x&&(Z[h]=x)}function ue(h){return h?Z[h]:null}function ee(h,x){if(he.indexOf(x)===-1)return void xe("track switch mode is not supported: "+x);F[h]=x}function be(h){return F[h]}function ie(h){if(we.indexOf(h)===-1)return void xe("track selection mode is not supported: "+h);L=h}function Te(){return L||H}function ve(h){return h===c.default.AUDIO||h===c.default.VIDEO||h===c.default.TEXT||h===c.default.FRAGMENTED_TEXT||h===c.default.IMAGE}function fe(h,x){var U=h.id===x.id,z=h.viewpoint===x.viewpoint,J=h.lang===x.lang,ye=h.roles.toString()===x.roles.toString(),We=h.accessibility.toString()===x.accessibility.toString(),Fe=h.audioChannelConfiguration.toString()===x.audioChannelConfiguration.toString();return U&&z&&J&&ye&&We&&Fe}function Ee(h){h&&(h.errHandler&&(ne=h.errHandler),h.domStorage&&(K=h.domStorage))}function Se(){N={},De(),Ae()}function V(h){var x={lang:h.lang,viewpoint:h.viewpoint,roles:h.roles,accessibility:h.accessibility,audioChannelConfiguration:h.audioChannelConfiguration};return x.lang||x.viewpoint||x.role&&x.role.length>0||x.accessibility&&x.accessibility.length>0||x.audioChannelConfiguration&&x.audioChannelConfiguration.length>0?x:null}function de(h,x){var U=!h.lang||h.lang===x.lang,z=!h.viewpoint||h.viewpoint===x.viewpoint,J=!h.role||!!x.roles.filter(function(Fe){return Fe===h.role})[0],ye=!h.accessibility||!!x.accessibility.filter(function(Fe){return Fe===h.accessibility})[0],We=!h.audioChannelConfiguration||!!x.audioChannelConfiguration.filter(function(Fe){return Fe===h.audioChannelConfiguration})[0];return U&&z&&J&&ye&&We}function Ae(){F={audio:R,video:P}}function De(){Z={audio:null,video:null}}function ae(h){var x=Te(),U=[],z=function(ye){var We=0,Fe=[],qe=void 0;return ye.forEach(function(Ye){qe=Math.max.apply(Math,Ye.bitrateList.map(function(Xe){return Xe.bandwidth})),qe>We?(We=qe,Fe=[Ye]):qe===We&&Fe.push(Ye)}),Fe},J=function(ye){var We=0,Fe=[],qe=void 0;return ye.forEach(function(Ye){qe=Ye.representationCount,qe>We?(We=qe,Fe=[Ye]):qe===We&&Fe.push(Ye)}),Fe};switch(x){case j:U=z(h),U.length>1&&(U=J(U));break;case W:U=J(h),U.length>1&&(U=z(h));break;default:xe("track selection mode is not supported: "+x)}return U[0]}function me(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var Ce=this.context,xe=(0,D.default)(Ce).getInstance().log,ce=(0,m.default)(Ce).getInstance(),Pe=void 0,N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0,K=void 0,he=[R,P],we=[j,W];return Pe={checkInitialMediaSettingsForType:Y,addTrack:C,getTracksFor:O,getCurrentTrackFor:q,isCurrentTrack:Q,setTrack:pe,setInitialSettings:re,getInitialSettings:ue,setSwitchMode:ee,getSwitchMode:be,setSelectionModeForInitialTrack:ie,getSelectionModeForInitialTrack:Te,isMultiTrackSupportedByType:ve,isTracksEqual:fe,setConfig:Ee,reset:Se},l(),Pe}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(51),v=u(_),E=t(47),m=u(E),w=t(48),A=u(w),b=t(46),D=u(b),P="neverReplace",R="alwaysReplace",j="highestBitrate",W="widestRange",H=j;p.__dashjs_factory_name="MediaController";var S=A.default.getSingletonFactory(p);S.TRACK_SWITCH_MODE_NEVER_REPLACE=P,S.TRACK_SWITCH_MODE_ALWAYS_REPLACE=R,S.TRACK_SELECTION_MODE_HIGHEST_BITRATE=j,S.TRACK_SELECTION_MODE_WIDEST_RANGE=W,S.DEFAULT_INIT_TRACK_SELECTION_MODE=H,A.default.updateSingletonFactory(p.__dashjs_factory_name,S),o.default=S,d.exports=o.default},{46:46,47:47,48:48,51:51,98:98}],107:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(){var b="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:b?new WebKitMediaSource:null}function v(b,D){var P=window.URL.createObjectURL(b);return D.setSource(P),P}function E(b){b.setSource(null)}function m(b,D){return b.duration!=D&&(b.duration=D),b.duration}function w(b,D,P){b&&typeof b.setLiveSeekableRange=="function"&&typeof b.clearLiveSeekableRange=="function"&&b.readyState==="open"&&D>=0&&D<P&&(b.clearLiveSeekableRange(),b.setLiveSeekableRange(D,P))}function A(b){var D=b.sourceBuffers,P=D.length;if(b.readyState==="open"){for(var R=0;R<P;R++)if(D[R].updating||D[R].buffered.length===0)return;b.endOfStream()}}return{createMediaSource:_,attachMediaSource:v,detachMediaSource:E,setDuration:m,setSeekable:w,signalEndOfStream:A}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="MediaSourceController",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],108:[function(t,d,o){"use strict";function u(S){return S&&S.__esModule?S:{default:S}}function p(){function S(){de()}function l(e){bt=e,Ye(),Ft=bt.manifestInfo.isDynamic,et=bt.start,Ke.on(D.default.DATA_UPDATE_COMPLETED,Pe,this),Ke.on(D.default.BYTES_APPENDED,Fe,this),Ke.on(D.default.BUFFER_LEVEL_STATE_CHANGED,qe,this),Ke.on(D.default.PERIOD_SWITCH_STARTED,Y,this),se&&(se=!1,O())}function Y(e){!Ft&&e.fromStreamInfo&&wt[e.fromStreamInfo.id]!==void 0&&(delete ut[e.fromStreamInfo.id],delete wt[e.fromStreamInfo.id])}function C(){var e=ae(!0),i=Ft?e-bt.start:0;return parseFloat((e+(bt.duration-i)-ue()).toFixed(5))}function O(){bt&&st&&st.getElement()?st.play():se=!0}function q(){return bt&&st?st.isPaused():null}function Q(){bt&&st&&st.pause()}function pe(){return bt&&st?st.isSeeking():null}function re(e){bt&&st&&(Ke.trigger(D.default.PLAYBACK_SEEK_ASKED),It("Requesting seek to time: "+e),st.setCurrentTime(e))}function ue(){return bt&&st?st.getTime():null}function ee(){return bt&&st?st.getPlaybackRate():null}function be(){return bt&&st?st.getPlayedRanges():null}function ie(){return bt&&st?st.getEnded():null}function Te(){return Ft}function ve(){return ct}function fe(e){et=e}function Ee(){return et}function Se(e,i){var n=gt.getMpd(Ut.getValue()),r=void 0,g=void 0;if(r=Rt.getUseSuggestedPresentationDelay()&&n.hasOwnProperty(c.default.SUGGESTED_PRESENTATION_DELAY)?n.suggestedPresentationDelay:Rt.getLiveDelay()?Rt.getLiveDelay():isNaN(e)?2*bt.manifestInfo.minBufferTime:e*Rt.getLiveDelayFragmentCount(),i>0){var I=Math.max(i-10,i/2);g=Math.min(r,I)}else g=r;return lt=g,g}function V(){return lt}function de(){Ze=0,et=NaN,At=null,se=!1,wt={},lt=0,ut={},st&&(Ke.off(D.default.DATA_UPDATE_COMPLETED,Pe,this),Ke.off(D.default.BUFFER_LEVEL_STATE_CHANGED,qe,this),Ke.off(D.default.BYTES_APPENDED,Fe,this),Ke.off(D.default.PERIOD_SWITCH_STARTED,Y,this),xe(),Xe()),st=null,bt=null,Ft=null}function Ae(e){e&&(e.streamController&&(ct=e.streamController),e.metricsModel&&(nt=e.metricsModel),e.dashMetrics&&(Lt=e.dashMetrics),e.manifestModel&&(Ut=e.manifestModel),e.dashManifestModel&&(gt=e.dashManifestModel),e.mediaPlayerModel&&(Rt=e.mediaPlayerModel),e.adapter&&(Tt=e.adapter),e.videoModel&&(st=e.videoModel))}function De(){var e=(0,m.default)(ht).getInstance().getURIFragmentData(),i=void 0;if(e){i={};var n=parseInt(e.r,10);n>=0&&bt&&n<bt.manifestInfo.DVRWindowSize&&e.t===null&&(e.t=Math.floor(Date.now()/1e3)-bt.manifestInfo.DVRWindowSize+n),i.fragS=parseInt(e.s,10),i.fragT=parseInt(e.t,10)}return i}function ae(e,i){var n=void 0,r=NaN,g=De();if(r=g?e?bt.start:isNaN(g.fragS)?g.fragT:g.fragS:0,Ft)isNaN(r)||((n=r-bt.manifestInfo.availableFrom.getTime()/1e3)>et||n<(isNaN(i)?NaN:i-bt.manifestInfo.DVRWindowSize))&&(n=null),n=n||et;else if(!isNaN(r)&&r<Math.max(bt.manifestInfo.duration,bt.duration)&&r>=0)n=r;else{var I=wt[bt.id];n=I!==void 0?Math.max(I.audio!==void 0?I.audio:0,I.video!==void 0?I.video:0,bt.start):bt.start}return n}function me(e){var i=nt.getReadOnlyMetricsFor(c.default.VIDEO)||nt.getReadOnlyMetricsFor(c.default.AUDIO),n=Lt.getCurrentDVRInfo(i),r=n?n.range:null,g=void 0;if(!r)return NaN;if(e>r.end)g=Math.max(r.end-2*bt.manifestInfo.minBufferTime,r.start);else{if(!(e+.25<r.start))return e;g=r.start}return g}function Ce(){if(At===null){var e=function(){ye()};At=setInterval(e,Rt.getWallclockTimeUpdateInterval())}}function xe(){clearInterval(At),At=null}function ce(){if(!q()&&Ft&&st.getReadyState()!==0){var e=ue(),i=me(e);!isNaN(i)&&i!==e&&re(i)}}function Pe(e){if(!e.error){var i=Tt.convertDataToRepresentationInfo(e.currentRepresentation),n=i.mediaInfo.streamInfo;bt.id===n.id&&(bt=n,ce())}}function N(){Ke.trigger(D.default.CAN_PLAY)}function Z(){It("Native video element event: play"),ce(),Ce(),Ke.trigger(D.default.PLAYBACK_STARTED,{startTime:ue()})}function L(){It("Native video element event: playing"),Ke.trigger(D.default.PLAYBACK_PLAYING,{playingTime:ue()})}function F(){It("Native video element event: pause"),Ke.trigger(D.default.PLAYBACK_PAUSED,{ended:ie()})}function ne(){var e=ue();It("Seeking to: "+e),Ce(),Ke.trigger(D.default.PLAYBACK_SEEKING,{seekTime:e})}function K(){It("Native video element event: seeked"),Ke.trigger(D.default.PLAYBACK_SEEKED)}function he(){var e=ue();Ze=e,Ke.trigger(D.default.PLAYBACK_TIME_UPDATED,{timeToEnd:C(),time:e})}function we(){var e=Date.now();(!Be||e>Be+H)&&(Be=e,he())}function h(){Ke.trigger(D.default.PLAYBACK_PROGRESS)}function x(){var e=ee();It("Native video element event: ratechange: ",e),Ke.trigger(D.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function U(){It("Native video element event: loadedmetadata"),Ke.trigger(D.default.PLAYBACK_METADATA_LOADED),Ce()}function z(){It("Native video element event: ended"),Q(),xe(),Ke.trigger(D.default.PLAYBACK_ENDED)}function J(e){var i=e.target||e.srcElement;Ke.trigger(D.default.PLAYBACK_ERROR,{error:i.error})}function ye(){Ke.trigger(D.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Ft,time:new Date}),Te()&&q()&&we()}function We(e,i){if(i&&i.length>0){for(var n=0,r=i.length;n<r;n++)if(e>=i.start(n)&&e<i.end(n))return!0}return!1}function Fe(e){var i=void 0,n=void 0,r=e.bufferedRanges;if(r&&r.length&&(!wt[bt.id]||wt[bt.id].started!==!0)){var g=e.sender.getType();ut[bt.id]===void 0&&(ut[bt.id]=[]),ut[bt.id][g]=r,wt[bt.id]===void 0&&(wt[bt.id]=[],wt[bt.id].started=!1),wt[bt.id][g]===void 0&&(wt[bt.id][g]=Math.max(r.start(0),bt.start));var I=ct.isVideoTrackPresent(),B=ct.isAudioTrackPresent();n=ae(!1),B&&I?isNaN(wt[bt.id].audio)||isNaN(wt[bt.id].video)||(wt[bt.id].audio<wt[bt.id].video?(i=wt[bt.id].video>n?wt[bt.id].video:n,r=ut[bt.id].audio):(i=wt[bt.id].audio>n?wt[bt.id].audio:n,r=ut[bt.id].video),We(i,r)&&(pe()||re(i),wt[bt.id].started=!0)):wt[bt.id][g]&&(i=wt[bt.id][g]>n?wt[bt.id][g]:n,pe()||re(i),wt[bt.id].started=!0)}}function qe(e){e.streamInfo.id===bt.id&&st.setStallState(e.mediaType,e.state===v.default.BUFFER_EMPTY)}function Ye(){st.addEventListener("canplay",N),st.addEventListener("play",Z),st.addEventListener("playing",L),st.addEventListener("pause",F),st.addEventListener("error",J),st.addEventListener("seeking",ne),st.addEventListener("seeked",K),st.addEventListener("timeupdate",he),st.addEventListener("progress",h),st.addEventListener("ratechange",x),st.addEventListener("loadedmetadata",U),st.addEventListener("ended",z)}function Xe(){st.removeEventListener("canplay",N),st.removeEventListener("play",Z),st.removeEventListener("playing",L),st.removeEventListener("pause",F),st.removeEventListener("error",J),st.removeEventListener("seeking",ne),st.removeEventListener("seeked",K),st.removeEventListener("timeupdate",he),st.removeEventListener("progress",h),st.removeEventListener("ratechange",x),st.removeEventListener("loadedmetadata",U),st.removeEventListener("ended",z)}var ht=this.context,It=(0,W.default)(ht).getInstance().log,Ke=(0,A.default)(ht).getInstance(),pt=void 0,ct=void 0,nt=void 0,Lt=void 0,Ut=void 0,gt=void 0,Tt=void 0,st=void 0,Ze=void 0,et=void 0,At=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0,Ft=void 0,Rt=void 0,se=void 0,Be=void 0;return pt={initialize:l,setConfig:Ae,getStartTimeFromUriParameters:De,getStreamStartTime:ae,getTimeToStreamEnd:C,getTime:ue,getPlaybackRate:ee,getPlayedRanges:be,getEnded:ie,getIsDynamic:Te,getStreamController:ve,setLiveStartTime:fe,getLiveStartTime:Ee,computeLiveDelay:Se,getLiveDelay:V,play:O,isPaused:q,pause:Q,isSeeking:pe,seek:re,reset:de},S(),pt}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(103),v=u(_),E=t(118),m=u(E),w=t(47),A=u(w),b=t(51),D=u(b),P=t(48),R=u(P),j=t(46),W=u(j),H=500;p.__dashjs_factory_name="PlaybackController",o.default=R.default.getSingletonFactory(p),d.exports=o.default},{103:103,118:118,46:46,47:47,48:48,51:51,98:98}],109:[function(t,d,o){"use strict";function u(re){return re&&re.__esModule?re:{default:re}}function p(re){function ue(){i=(0,q.default)(Ut).getInstance().log.bind(e),nt()}function ee(){n=se.getFragmentModel(),tt=wt.getScheduleWhilePaused(),Ne=(0,b.default)(Ut).create({abrController:lt,dashMetrics:Ze,metricsModel:Tt,mediaPlayerModel:wt,textController:Ft}),Oe=(0,P.default)(Ut).create({adapter:st,textController:Ft}),et.getIsTextTrack(Rt)&&gt.on(l.default.TIMED_TEXT_REQUESTED,U,this),gt.on(l.default.QUALITY_CHANGE_REQUESTED,me,this),gt.on(l.default.DATA_UPDATE_STARTED,K,this),gt.on(l.default.DATA_UPDATE_COMPLETED,xe,this),gt.on(l.default.FRAGMENT_LOADING_COMPLETED,Z,this),gt.on(l.default.STREAM_COMPLETED,N,this),gt.on(l.default.STREAM_INITIALIZED,ce,this),gt.on(l.default.BUFFER_LEVEL_STATE_CHANGED,we,this),gt.on(l.default.BUFFER_CLEARED,he,this),gt.on(l.default.BYTES_APPENDED,F,this),gt.on(l.default.INIT_REQUESTED,V,this),gt.on(l.default.QUOTA_EXCEEDED,h,this),gt.on(l.default.PLAYBACK_SEEKING,J,this),gt.on(l.default.PLAYBACK_STARTED,z,this),gt.on(l.default.PLAYBACK_RATE_CHANGED,ye,this),gt.on(l.default.PLAYBACK_TIME_UPDATED,L,this),gt.on(l.default.URL_RESOLUTION_FAILED,x,this),gt.on(l.default.FRAGMENT_LOADING_ABANDONED,ne,this)}function be(){return I===!1}function ie(){if(!r||se.isBufferingCompleted())return void i("[ScheduleController][",Rt,"] start denied");i("[ScheduleController][",Rt,"] start"),ct(),I=!1,g&&(g=!1),Se(0)}function Te(){I||(i("[ScheduleController][",Rt,"] stop"),I=!0,clearTimeout(je))}function ve(rt,Ct){xt[Ct]=xt[Ct]||{};var Pt=lt.getTopQualityIndexFor(rt,Ct);return xt[Ct][rt]!=Pt&&(i("Top quality "+rt+" index has changed from "+xt[Ct][rt]+" to "+Pt),xt[Ct][rt]=Pt,!0)}function fe(){if(I||Re||!se.getBufferController()||ut.isPaused()&&!tt)return void i("[ScheduleController][",Rt,"] - schedule stop!");Ee();var rt=qt.length>0,Ct=se.getStreamInfo();if(Wt||isNaN(Ot)||zt||rt||ve(r.mediaInfo.type,Ct.id)||Ne.execute(se,Rt,bt.isVideoTrackPresent())){var Pt=function(){var Gt=se.getFragmentController();if(r.quality!==Ot)i("ScheduleController - "+Rt+" - quality has changed, get init request for representationid = "+r.id),Ot=r.quality,se.switchInitData(r.id);else if(zt)i("ScheduleController - "+Rt+" - switch track has been asked, get init request for "+Rt+" with representationid = "+r.id),Wt=Be.getSwitchMode(Rt)===pe.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,se.switchInitData(r.id,Wt),Ot=r.quality,zt=!1;else{var Yt=qt.shift();if(Gt.isInitializationRequest(Yt))se.switchInitData(Yt.representationId);else{var ei=void 0;se.getBufferController().getIsPruningInProgress()||!(ei=Oe.execute(se,Yt))&&Ct.manifestInfo&&Ct.manifestInfo.isDynamic&&i("getNextFragment - "+Rt+" - Playing at the bleeding live edge and frag is not available yet"),ei?(i("ScheduleController - "+Rt+" - getNextFragment - request is "+ei.url),n.executeRequest(ei)):(de(!1),Se(500))}}};de(!0),rt||zt||lt.checkPlaybackQuality(Rt),Pt()}else Se(500)}function Ee(){var rt=1.5*r.fragmentDuration,Ct=n.getRequests({state:j.default.FRAGMENT_MODEL_EXECUTED,time:ut.getTime()+rt,threshold:0})[0];if(Ct&&qt.indexOf(Ct)===-1&&!et.getIsTextTrack(Rt)){var Pt=wt.getFastSwitchEnabled(),Gt=se.getBufferLevel(),Yt=lt.getAbandonmentStateFor(Rt);Pt&&Ct.quality<r.quality&&Gt>=rt&&Yt!==E.default.ABANDON_LOAD?(ae(Ct),i("Reloading outdated fragment at index: ",Ct.index)):Ct.quality>r.quality&&Fe(ut.getTime()+se.getBufferLevel())}}function Se(rt){clearTimeout(je),je=setTimeout(fe,rt)}function V(rt){rt.sender&&rt.sender.getStreamProcessor()===se&&Ae(r.quality)}function de(rt){Re!==rt?Re=rt:i("[ScheduleController][",Rt,"] isFragmentProcessingInProgress is already equal to",rt)}function Ae(rt){var Ct=st.getInitRequest(se,rt);Ct&&(de(!0),n.executeRequest(Ct))}function De(){zt=!0}function ae(rt){qt.push(rt)}function me(rt){if(Rt===rt.mediaType&&se.getStreamInfo().id===rt.streamInfo.id){if((r=se.getRepresentationInfoForQuality(rt.newQuality))===null||r===void 0)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");pt(new Date,_.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ct()}}function Ce(rt){if(ut&&n){var Ct=n.getRequests({state:j.default.FRAGMENT_MODEL_EXECUTED,time:ut.getTime(),threshold:0})[0];Ct&&ut.getTime()>=Ct.startTime&&((!it.mediaInfo||Ct.mediaInfo.type===it.mediaInfo.type&&Ct.mediaInfo.id!==it.mediaInfo.id)&&rt&&gt.trigger(l.default.TRACK_CHANGE_RENDERED,{mediaType:Rt,oldMediaInfo:it.mediaInfo,newMediaInfo:Ct.mediaInfo}),Ct.quality===it.quality&&Ct.adaptationIndex===it.adaptationIndex||!rt||gt.trigger(l.default.QUALITY_CHANGE_RENDERED,{mediaType:Rt,oldQuality:it.quality,newQuality:Ct.quality}),it={mediaInfo:Ct.mediaInfo,quality:Ct.quality,adaptationIndex:Ct.adaptationIndex})}}function xe(rt){rt.error||rt.sender.getStreamProcessor()!==se||(r=st.convertDataToRepresentationInfo(rt.currentRepresentation))}function ce(rt){rt.error||se.getStreamInfo().id!==rt.streamInfo.id||(r=se.getCurrentRepresentationInfo(),g&&(ut.getIsDynamic()?(At.setTimeSyncCompleted(!0),Pe()):(ze=ut.getStreamStartTime(!1),se.getBufferController().setSeekStartTime(ze))),I&&ie())}function Pe(){var rt=se.getLiveEdgeFinder();if(rt){var Ct=rt.getLiveEdge(),Pt=r.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,Gt=Ct-ut.computeLiveDelay(r.fragmentDuration,Pt),Yt=st.getFragmentRequestForTime(se,r,Gt,{ignoreIsFinished:!0});ut.setLiveStartTime(Yt.startTime),ze=ut.getStreamStartTime(!1,Ct),ze>r.mediaInfo.streamInfo.start+r.mediaInfo.streamInfo.duration&&ut.seek(ze);var ei=Ze.getCurrentManifestUpdate(Tt.getMetricsFor(c.default.STREAM));Tt.updateManifestUpdateInfo(ei,{currentTime:ze,presentationStartTime:Ct,latency:Ct-ze,clientTimeOffset:At.getClientTimeOffset()})}}function N(rt){rt.fragmentModel===n&&(Te(),de(!1),i("[ScheduleController] Stream is complete"))}function Z(rt){rt.sender===n&&(i("[ScheduleController][",Rt,"] - onFragmentLoadingCompleted"),et.getIsTextTrack(Rt)&&de(!1),rt.error&&rt.request.serviceLocation&&!I&&(ae(rt.request),de(!1),Se(0)),Wt&&(Bt=rt.request))}function L(){Ce(!0)}function F(rt){rt.sender.getStreamProcessor()===se&&(Wt&&!isNaN(rt.startTime)&&(Wt=!1,n.addExecutedRequest(Bt)),de(!1),Se(0))}function ne(rt){rt.streamProcessor===se&&(i("[ScheduleController][onFragmentLoadingAbandoned] for "+Rt+", request: "+rt.request.url+" has been aborted"),ut.isSeeking()||(i("[ScheduleController][onFragmentLoadingAbandoned] for "+Rt+", request: "+rt.request.url+" has to be downloaded again, origin is not seeking process"),ae(rt.request)),de(!1),Se(0))}function K(rt){rt.sender.getStreamProcessor()===se&&Te()}function he(rt){rt.sender.getStreamProcessor()===se&&(se.getFragmentModel().syncExecutedRequestsWithBufferedRange(se.getBufferController().getBuffer().getAllBufferRanges(),se.getStreamInfo().duration),rt.hasEnoughSpaceToAppend&&I&&ie())}function we(rt){rt.sender.getStreamProcessor()!==se||rt.state!==w.default.BUFFER_EMPTY||ut.isSeeking()||(i("[ScheduleController][",Rt,"] - Buffer is empty! Stalling!"),pt(new Date,_.PlayListTrace.REBUFFERING_REASON))}function h(rt){rt.sender.getStreamProcessor()===se&&(Te(),de(!1))}function x(){n.abortRequests(),Te()}function U(rt){rt.sender.getStreamProcessor()===se&&Ae(rt.index)}function z(){!I&&tt||ie()}function J(rt){ze=rt.seekTime,qe(0),I&&ie();var Ct=Ze.getCurrentManifestUpdate(Tt.getMetricsFor(c.default.STREAM)),Pt=r.DVRWindow&&ut?r.DVRWindow.end-ut.getTime():NaN;Tt.updateManifestUpdateInfo(Ct,{latency:Pt}),Re?(i("[ScheduleController][onPlaybackSeeking] for "+Rt+", call fragmentModel.abortRequests in order to seek quicker"),n.abortRequests()):Se(0)}function ye(rt){G&&(G.playbackspeed=rt.playbackRate.toString())}function We(){return ze}function Fe(rt){ze=rt}function qe(rt){Me=rt}function Ye(){return Me}function Xe(){return Ne.getBufferTarget(se,Rt,bt.isVideoTrackPresent())}function ht(){return Rt}function It(rt){B=rt}function Ke(rt,Ct){pt(rt,Ct),B=null}function pt(rt,Ct){if(B&&oe===!1){var Pt=G.start,Gt=rt.getTime()-Pt.getTime();G.duration=Gt,G.stopreason=Ct,B.trace.push(G),oe=!0}}function ct(){B&&oe===!0&&r&&(oe=!1,G=new _.PlayListTrace,G.representationid=r.id,G.start=new Date,G.mstart=1e3*ut.getTime(),G.playbackspeed=ut.getPlaybackRate().toString())}function nt(){Re=!1,Me=0,ze=NaN,B=null,G=null,oe=!0,g=!0,Ot=NaN,it={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},xt={},qt=[],I=!0,zt=!1,Wt=!1,Bt=null}function Lt(){gt.off(l.default.DATA_UPDATE_STARTED,K,this),gt.off(l.default.DATA_UPDATE_COMPLETED,xe,this),gt.off(l.default.BUFFER_LEVEL_STATE_CHANGED,we,this),gt.off(l.default.QUALITY_CHANGE_REQUESTED,me,this),gt.off(l.default.FRAGMENT_LOADING_COMPLETED,Z,this),gt.off(l.default.STREAM_COMPLETED,N,this),gt.off(l.default.STREAM_INITIALIZED,ce,this),gt.off(l.default.QUOTA_EXCEEDED,h,this),gt.off(l.default.BYTES_APPENDED,F,this),gt.off(l.default.BUFFER_CLEARED,he,this),gt.off(l.default.INIT_REQUESTED,V,this),gt.off(l.default.PLAYBACK_RATE_CHANGED,ye,this),gt.off(l.default.PLAYBACK_SEEKING,J,this),gt.off(l.default.PLAYBACK_STARTED,z,this),gt.off(l.default.PLAYBACK_TIME_UPDATED,L,this),gt.off(l.default.URL_RESOLUTION_FAILED,x,this),gt.off(l.default.FRAGMENT_LOADING_ABANDONED,ne,this),et.getIsTextTrack(Rt)&&gt.off(l.default.TIMED_TEXT_REQUESTED,U,this),Te(),Ce(!1),nt()}re=re||{};var Ut=this.context,gt=(0,H.default)(Ut).getInstance(),Tt=re.metricsModel,st=re.adapter,Ze=re.dashMetrics,et=re.dashManifestModel,At=re.timelineConverter,wt=re.mediaPlayerModel,lt=re.abrController,ut=re.playbackController,bt=re.streamController,Ft=re.textController,Rt=re.type,se=re.streamProcessor,Be=re.mediaController,e=void 0,i=void 0,n=void 0,r=void 0,g=void 0,I=void 0,B=void 0,G=void 0,oe=void 0,Re=void 0,Me=void 0,je=void 0,ze=void 0,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,qt=void 0,zt=void 0,Wt=void 0,Bt=void 0;return e={initialize:ee,getType:ht,getSeekTarget:We,setSeekTarget:Fe,setTimeToLoadDelay:qe,getTimeToLoadDelay:Ye,replaceRequest:ae,switchTrackAsked:De,isStarted:be,start:ie,stop:Te,reset:Lt,setPlayList:It,getBufferTarget:Xe,finalisePlayList:Ke},ue(),e}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(181),v=t(100),E=u(v),m=t(103),w=u(m),A=t(132),b=u(A),D=t(133),P=u(D),R=t(114),j=u(R),W=t(47),H=u(W),S=t(51),l=u(S),Y=t(48),C=u(Y),O=t(46),q=u(O),Q=t(106),pe=u(Q);p.__dashjs_factory_name="ScheduleController",o.default=C.default.getClassFactory(p),d.exports=o.default},{100:100,103:103,106:106,114:114,132:132,133:133,181:181,46:46,47:47,48:48,51:51,98:98}],110:[function(t,d,o){"use strict";function u(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}function p(){function Ee(){I=(0,be.default)(wt).getInstance(),B=(0,Te.default)(wt).getInstance(),g=(0,fe.default)(wt).getInstance(),je=(0,q.default)(wt).getInstance(),ze=(0,pe.default)(wt).getInstance(),st()}function Se(le,Ue){pt(),qt=le,Ot=Ue,Oe.initialize(),Rt=(0,A.default)(wt).create(),Rt.setConfig({manifestModel:Be,dashManifestModel:e,mediaPlayerModel:Gt,manifestLoader:se}),Rt.initialize(),B.setConfig({dashManifestModel:e}),ut.on(R.default.TIME_SYNCHRONIZATION_COMPLETED,J,this),ut.on(R.default.PLAYBACK_SEEKING,De,this),ut.on(R.default.PLAYBACK_TIME_UPDATED,V,this),ut.on(R.default.PLAYBACK_ENDED,L,this),ut.on(R.default.PLAYBACK_ERROR,ht,this),ut.on(R.default.PLAYBACK_STARTED,ae,this),ut.on(R.default.PLAYBACK_PAUSED,me,this),ut.on(R.default.MANIFEST_UPDATED,ye,this),ut.on(R.default.STREAM_BUFFERING_COMPLETED,ce,this),ut.on(R.default.MANIFEST_VALIDITY_CHANGED,Ut,this),ut.on(R.default.WALLCLOCK_TIME_UPDATED,de,this),ut.on(ue.default.METRIC_ADDED,et,this)}function V(){if(Fe()){var le=Ct.getPlaybackQuality();le&&n.addDroppedFrames(c.default.VIDEO,le)}}function de(){if(!(!Gt.getJumpGaps()||!it||it.getProcessors().length===0||Pt.isSeeking()||Yt||zt||Wt||Bt)&&++Je>=At){var le=Pt.getTime();Dt===le?Ae(le):Dt=le,Je=0}}function Ae(le){for(var Ue=it.getProcessors(),ot=Gt.getSmallGapLimit(),mt=void 0,yt=0;yt<Ue.length;yt++){var kt=Ue[yt].getBuffer(),Vt=kt.getAllBufferRanges(),ii=void 0;if(Vt&&!(Vt.length<=1)){for(var Ti=0;Ti<Vt.length;Ti++)if(le<Vt.start(Ti)){ii=Vt.start(Ti);break}if(ii>0){var pi=ii-le;pi>0&&pi<=ot&&(mt===void 0||ii>mt)&&(mt=ii)}}}var di=Pt.getTimeToStreamEnd();mt===void 0&&!isNaN(di)&&di<ot&&(mt=le+di),mt>0&&(!isNaN(di)&&mt>=le+di?(lt("Jumping media gap (discontinuity) at time ",le,". Jumping to end of the stream"),ut.trigger(R.default.PLAYBACK_ENDED)):(lt("Jumping media gap (discontinuity) at time ",le,". Jumping to time position",mt),Pt.seek(mt)))}function De(le){var Ue=Pe(le.seekTime);ci&&(Ce(),ai=!1),Ue&&Ue!==it?(Ye(l.PlayListTrace.END_OF_PERIOD_STOP_REASON),ne(it,Ue,le.seekTime)):Ye(l.PlayListTrace.USER_REQUEST_STOP_REASON),Xe(l.PlayList.SEEK_START_REASON)}function ae(){lt("[StreamController][onPlaybackStarted]"),ei?(ei=!1,Xe(l.PlayList.INITIAL_PLAYOUT_START_REASON)):Yt&&(Yt=!1,Xe(l.PlayList.RESUME_FROM_PAUSE_START_REASON),xe())}function me(le){lt("[StreamController][onPlaybackPaused]"),le.ended||(Yt=!0,Ye(l.PlayListTrace.USER_REQUEST_STOP_REASON),xe())}function Ce(){lt("[StreamController][toggleEndPeriodTimer] stop end period timer."),clearTimeout(ci),ci=void 0}function xe(){if(ai)if(ci)Ce();else{var le=Pt.getTimeToStreamEnd(),Ue=le>0?1e3*le:0;lt("[StreamController][toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+Ue+" milliseconds"),ci=setTimeout(function(){ut.trigger(R.default.PLAYBACK_ENDED)},Ue)}}function ce(){var le=It().isLast;rt&&le?(lt("[StreamController][onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),g.signalEndOfStream(rt)):rt&&ci===void 0&&(lt("[StreamController][onStreamBufferingCompleted] end of period detected"),ai=!0,Yt===!1&&xe())}function Pe(le){var Ue=0,ot=null,mt=tt.length;mt>0&&(Ue+=tt[0].getStartTime());for(var yt=0;yt<mt;yt++)if(ot=tt[yt],Ue=parseFloat((Ue+ot.getDuration()).toFixed(5)),le<Ue)return ot;return null}function N(le,Ue){for(var ot=null,mt=0,yt=0,kt=null,Vt=tt.length,ii=0;ii<Vt;ii++){if(ot=tt[ii],yt=ot.getStartTime(),kt=ot.getDuration(),Number.isFinite(yt)&&(mt=yt),ot.getId()===Ue)return le-mt;Number.isFinite(kt)&&(mt+=kt)}return null}function Z(){return it?it.getProcessors():[]}function L(){var le=F();le?(li=void 0,ni=void 0,ne(it,le,NaN)):lt("StreamController no next stream found"),Ye(le?l.PlayListTrace.END_OF_PERIOD_STOP_REASON:l.PlayListTrace.END_OF_CONTENT_STOP_REASON),ci=void 0,ai=!1}function F(){if(it){var le=function(){var Ue=it.getStreamInfo().start,ot=it.getStreamInfo().duration;return{v:tt.filter(function(mt){return mt.getStreamInfo().start===parseFloat((Ue+ot).toFixed(5))})[0]}}();if(typeof le=="object")return le.v}}function ne(le,Ue,ot){!zt&&Ue&&le!==Ue&&(zt=!0,ut.trigger(R.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:le?le.getStreamInfo():null,toStreamInfo:Ue.getStreamInfo()}),le&&(le.stopEventController(),le.deactivate()),it=Ue,Pt.initialize(it.getStreamInfo()),Ct.getElement()?we(ot,le,!1):K(ot))}function K(le){h(le)}function he(le){Pt.initialize(it.getStreamInfo()),we(le,null,!0)}function we(le,Ue,ot){function mt(){lt("MediaSource is open!"),window.URL.revokeObjectURL(yt),rt.removeEventListener("sourceopen",mt),rt.removeEventListener("webkitsourceopen",mt),x(),Ue||ut.trigger(R.default.SOURCE_INITIALIZED),ot?it.setMediaSource(rt):h(le)}var yt=void 0;rt?g.detachMediaSource(Ct):rt=g.createMediaSource(),rt.addEventListener("sourceopen",mt,!1),rt.addEventListener("webkitsourceopen",mt,!1),yt=g.attachMediaSource(rt,Ct),lt("MediaSource attached to element.  Waiting on open...")}function h(le){it.activate(rt),li=qe(c.default.AUDIO),ni=qe(c.default.VIDEO),ei||(isNaN(le)?function(){var Ue=Pt.getStreamStartTime(!0);it.getProcessors().forEach(function(ot){i.setIndexHandlerTime(ot,Ue)})}():Pt.seek(le)),it.startEventController(),!qt&&ei||Pt.play(),zt=!1,ut.trigger(R.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:it.getStreamInfo()})}function x(){var le=it.getStreamInfo().manifestInfo.duration,Ue=g.setDuration(rt,le);lt("Duration successfully set to: "+Ue)}function U(le){for(var Ue=0,ot=tt.length;Ue<ot;Ue++)if(tt[Ue].getId()===le.id)return tt[Ue];return null}function z(){try{var le=i.getStreamsInfo();if(le.length===0)throw new Error("There are no streams");var Ue=r.getCurrentManifestUpdate(n.getMetricsFor(c.default.STREAM));n.updateManifestUpdateInfo(Ue,{currentTime:Pt.getTime(),buffered:Ct.getBufferRange(),presentationStartTime:le[0].start,clientTimeOffset:Oe.getClientTimeOffset()});for(var ot=0,mt=le.length;ot<mt;ot++){var yt=le[ot],kt=U(yt);kt?kt.updateData(yt):(kt=(0,m.default)(wt).create({manifestModel:Be,dashManifestModel:e,mediaPlayerModel:Gt,metricsModel:n,dashMetrics:r,manifestUpdater:Rt,adapter:i,timelineConverter:Oe,capabilities:Ft,errHandler:Ne,baseURLController:B,domStorage:G,abrController:oe,playbackController:Pt,mediaController:Re,textController:Me,videoModel:Ct,streamController:bt}),tt.push(kt),kt.initialize(yt,xt)),n.addManifestUpdateStreamInfo(Ue,yt.id,yt.index,yt.start,yt.duration)}if(!it){var Vt=Pt.getStartTimeFromUriParameters(),ii=null;Vt&&(ii=Pe(isNaN(Vt.fragS)?Vt.fragT:Vt.fragS)),ne(null,ii!==null?ii:tt[0],NaN)}ut.trigger(R.default.STREAMS_COMPOSED)}catch(Ti){Ne.manifestError(Ti.message,"nostreamscomposed",Be.getValue()),Bt=!0,Ze()}}function J(){var le=Be.getValue();xt&&(ut.trigger(R.default.PROTECTION_CREATED,{controller:xt,manifest:le}),xt.setMediaElement(Ct.getElement()),Ot&&xt.setProtectionData(Ot)),z()}function ye(le){le.error?(Bt=!0,Ze()):function(){var Ue=le.manifest;i.updatePeriods(Ue);var ot=i.getStreamsInfo(Ue)[0],mt=i.getMediaInfoForType(ot,c.default.VIDEO)||i.getMediaInfoForType(ot,c.default.AUDIO),yt=void 0,kt=void 0;mt&&(yt=i.getDataForMedia(mt),(kt=e.getRepresentationsForAdaptation(yt)[0].useCalculatedLiveEdgeTime)&&(lt("SegmentTimeline detected using calculated Live Edge Time"),Gt.setUseManifestDateHeaderTimeSource(!1)));var Vt=e.getUTCTimingSources(le.manifest),ii=!e.getIsDynamic(Ue)||kt?Vt:Vt.concat(Gt.getUTCTimingSources()),Ti=ze.isHTTPS(le.manifest.url);ii.forEach(function(pi){pi.value.replace(/.*?:\/\//g,"")===W.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(pi.value=pi.value.replace(Ti?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Ti?"https://":"http://"),lt("Matching default timing source protocol to manifest protocol: ",pi.value))}),B.initialize(Ue),I.setConfig({metricsModel:n,dashMetrics:r,baseURLController:B}),I.initialize(ii,Gt.getUseManifestDateHeaderTimeSource())}()}function We(){return li}function Fe(){return ni}function qe(le){var Ue=!1;return it&&it.getProcessors().forEach(function(ot){ot.getMediaInfo().type===le&&(Ue=!0)}),Ue}function Ye(le,Ue){Ue=Ue||new Date,Xt&&(it&&it.getProcessors().forEach(function(ot){var mt=ot.getScheduleController();mt&&mt.finalisePlayList(Ue,le)}),n.addPlayList(Xt),Xt=null)}function Xe(le){Xt=new l.PlayList,Xt.start=new Date,Xt.mstart=1e3*Pt.getTime(),Xt.starttype=le,it&&it.getProcessors().forEach(function(Ue){var ot=Ue.getScheduleController();ot&&ot.setPlayList(Xt)})}function ht(le){if(le.error){var Ue="";switch(le.error.code){case 1:Ue="MEDIA_ERR_ABORTED";break;case 2:Ue="MEDIA_ERR_NETWORK";break;case 3:Ue="MEDIA_ERR_DECODE";break;case 4:Ue="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Ue="MEDIA_ERR_ENCRYPTED";break;default:Ue="UNKNOWN"}Wt=!0,le.error.message&&(Ue+=" ("+le.error.message+")"),le.error.msExtendedCode&&(Ue+=" (0x"+(le.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),lt("Video Element Error: "+Ue),le.error&&lt(le.error),Ne.mediaSourceError(Ue),Ze()}}function It(){return it?it.getStreamInfo():null}function Ke(le){return tt.filter(function(Ue){return Ue.getId()===le})[0]}function pt(){if(!(se&&se.hasOwnProperty("load")&&Oe&&Oe.hasOwnProperty("initialize")&&Oe.hasOwnProperty("reset")&&Oe.hasOwnProperty("getClientTimeOffset")))throw new Error("setConfig function has to be called previously")}function ct(){if(!Rt||!Rt.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function nt(le){pt(),se.load(le)}function Lt(le){ct(),Rt.setManifest(le)}function Ut(le){isNaN(le.newDuration)||x(le.newDuration)}function gt(le){le&&(le.capabilities&&(Ft=le.capabilities),le.manifestLoader&&(se=le.manifestLoader),le.manifestModel&&(Be=le.manifestModel),le.dashManifestModel&&(e=le.dashManifestModel),le.mediaPlayerModel&&(Gt=le.mediaPlayerModel),le.protectionController&&(xt=le.protectionController),le.adapter&&(i=le.adapter),le.metricsModel&&(n=le.metricsModel),le.dashMetrics&&(r=le.dashMetrics),le.errHandler&&(Ne=le.errHandler),le.timelineConverter&&(Oe=le.timelineConverter),le.videoModel&&(Ct=le.videoModel),le.playbackController&&(Pt=le.playbackController),le.domStorage&&(G=le.domStorage),le.abrController&&(oe=le.abrController),le.mediaController&&(Re=le.mediaController),le.textController&&(Me=le.textController))}function Tt(le){Ot=le}function st(){tt=[],xt=null,zt=!1,it=null,Wt=!1,Bt=!1,ni=void 0,li=void 0,ei=!0,Yt=!1,qt=!0,Xt=null,ci=void 0,ai=!1,Je=0}function Ze(){pt(),I.reset(),Ye(Wt||Bt?l.PlayListTrace.FAILURE_STOP_REASON:l.PlayListTrace.USER_REQUEST_STOP_REASON);for(var le=0,Ue=tt?tt.length:0;le<Ue;le++)tt[le].reset(Wt);ut.off(R.default.PLAYBACK_TIME_UPDATED,V,this),ut.off(R.default.PLAYBACK_SEEKING,De,this),ut.off(R.default.PLAYBACK_ERROR,ht,this),ut.off(R.default.PLAYBACK_STARTED,ae,this),ut.off(R.default.PLAYBACK_PAUSED,me,this),ut.off(R.default.PLAYBACK_ENDED,L,this),ut.off(R.default.MANIFEST_UPDATED,ye,this),ut.off(R.default.STREAM_BUFFERING_COMPLETED,ce,this),ut.off(ue.default.METRIC_ADDED,et,this),ut.off(R.default.MANIFEST_VALIDITY_CHANGED,Ut,this),B.reset(),Rt.reset(),n.clearAllCurrentMetrics(),Be.setValue(null),se.reset(),Oe.reset(),je.reset(),rt&&(g.detachMediaSource(Ct),rt=null),Ct=null,xt&&(xt.setMediaElement(null),xt=null,Ot=null,Be.getValue()&&ut.trigger(R.default.PROTECTION_DESTROYED,{data:Be.getValue().url})),ut.trigger(R.default.STREAM_TEARDOWN_COMPLETE),st()}function et(le){le.metric===v.default.DVR_INFO&&le.mediaType===c.default.AUDIO&&g.setSeekable(rt,le.value.range.start,le.value.range.end)}var At=40,wt=this.context,lt=(0,C.default)(wt).getInstance().log,ut=(0,D.default)(wt).getInstance(),bt=void 0,Ft=void 0,Rt=void 0,se=void 0,Be=void 0,e=void 0,i=void 0,n=void 0,r=void 0,g=void 0,I=void 0,B=void 0,G=void 0,oe=void 0,Re=void 0,Me=void 0,je=void 0,ze=void 0,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,qt=void 0,zt=void 0,Wt=void 0,Bt=void 0,rt=void 0,Ct=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,ci=void 0,Je=void 0,Dt=void 0;return bt={initialize:Se,getActiveStreamInfo:It,isVideoTrackPresent:Fe,isAudioTrackPresent:We,switchToVideoElement:he,getStreamById:Ke,getStreamForTime:Pe,getTimeRelativeToStreamId:N,load:nt,loadWithManifest:Lt,getActiveStreamProcessors:Z,setConfig:gt,setProtectionData:Tt,reset:Ze},Ee(),bt}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(99),v=u(_),E=t(94),m=u(E),w=t(89),A=u(w),b=t(47),D=u(b),P=t(51),R=u(P),j=t(116),W=u(j),H=t(48),S=u(H),l=t(181),Y=t(46),C=u(Y),O=t(149),q=u(O),Q=t(155),pe=u(Q),re=t(91),ue=u(re),ee=t(111),be=u(ee),ie=t(101),Te=u(ie),ve=t(107),fe=u(ve);p.__dashjs_factory_name="StreamController",o.default=S.default.getSingletonFactory(p),d.exports=o.default},{101:101,107:107,111:111,116:116,149:149,155:155,181:181,46:46,47:47,48:48,51:51,89:89,91:91,94:94,98:98,99:99}],111:[function(t,d,o){"use strict";function u(C){return C&&C.__esModule?C:{default:C}}function p(){function C(we,h){L=h,Pe=0,N=!1,Z=!1,F={"urn:mpeg:dash:utc:http-head:2014":V,"urn:mpeg:dash:utc:http-xsdate:2014":Se.bind(null,ie),"urn:mpeg:dash:utc:http-iso:2014":Se.bind(null,Te),"urn:mpeg:dash:utc:direct:2014":Ee,"urn:mpeg:dash:utc:http-head:2012":V,"urn:mpeg:dash:utc:http-xsdate:2012":Se.bind(null,ie),"urn:mpeg:dash:utc:http-iso:2012":Se.bind(null,Te),"urn:mpeg:dash:utc:direct:2012":Ee,"urn:mpeg:dash:utc:http-ntp:2014":fe,"urn:mpeg:dash:utc:ntp:2014":fe,"urn:mpeg:dash:utc:sntp:2014":fe},pe()||(De(we),re(!0))}function O(we){we&&(we.metricsModel&&(ne=we.metricsModel),we.dashMetrics&&(K=we.dashMetrics),we.baseURLController&&(he=we.baseURLController))}function q(){return ee()}function Q(we){N=we}function pe(){return N}function re(we){Z=we}function ue(we){Pe=we}function ee(){return Pe}function be(we){var h=1e3,x=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,U=void 0,z=void 0,J=x.exec(we);return U=Date.UTC(parseInt(J[1],10),parseInt(J[2],10)-1,parseInt(J[3],10),parseInt(J[4],10),parseInt(J[5],10),J[6]&&(parseInt(J[6],10)||0),J[7]&&parseFloat(J[7])*h||0),J[9]&&J[10]&&(z=60*parseInt(J[9],10)+parseInt(J[10],10),U+=(J[8]==="+"?-1:1)*z*60*h),new Date(U).getTime()}function ie(we){var h=Date.parse(we);return isNaN(h)&&(h=be(we)),h}function Te(we){return Date.parse(we)}function ve(we){return Date.parse(we)}function fe(we,h,x){x()}function Ee(we,h,x){var U=ie(we);if(!isNaN(U))return void h(U);x()}function Se(we,h,x,U,z){var J=void 0,ye=void 0,We=!1,Fe=new XMLHttpRequest,qe=z?E.HTTPRequest.HEAD:E.HTTPRequest.GET,Ye=h.match(/\S+/g);if(h=Ye.shift(),J=function(){We||(We=!0,Ye.length?Se(we,Ye.join(" "),x,U,z):U())},ye=function(){var ht=void 0,It=void 0;Fe.status===200&&(ht=z?Fe.getResponseHeader("Date"):Fe.response,It=we(ht),isNaN(It)||(x(It),We=!0))},ce.isRelative(h)){var Xe=he.resolve();Xe&&(h=ce.resolve(h,Xe.url))}Fe.open(qe,h),Fe.timeout=l||0,Fe.onload=ye,Fe.onloadend=J,Fe.send()}function V(we,h,x){Se(ve,we,h,x,!0)}function de(){var we=ne.getReadOnlyMetricsFor(c.default.STREAM),h=K.getLatestMPDRequestHeaderValueByID(we,"Date"),x=h!==null?new Date(h).getTime():Number.NaN;isNaN(x)?Ae(!0):(ue(x-new Date().getTime()),Ae(!1,x/1e3,Pe))}function Ae(we,h,x){Q(!1),xe.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED,{time:h,offset:x,error:we?new v.default(S):null})}function De(we,h){var x=h||0,U=we[x],z=function(J,ye){var We=!J||!ye;We&&L?de():Ae(We,J,ye)};Q(!0),U?F.hasOwnProperty(U.schemeIdUri)?F[U.schemeIdUri](U.value,function(J){var ye=new Date().getTime(),We=J-ye;ue(We),Ce("Local time:      "+new Date(ye)),Ce("Server time:     "+new Date(J)),Ce("Difference (ms): "+We),z(J,We)},function(){De(we,x+1)}):De(we,x+1):(ue(0),z())}function ae(){re(!1),Q(!1)}var me=this.context,Ce=(0,j.default)(me).getInstance().log,xe=(0,w.default)(me).getInstance(),ce=(0,H.default)(me).getInstance(),Pe=void 0,N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0,K=void 0,he=void 0;return{initialize:C,getOffsetToDeviceTimeMs:q,setConfig:O,reset:ae}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(160),v=u(_),E=t(179),m=t(47),w=u(m),A=t(51),b=u(A),D=t(48),P=u(D),R=t(46),j=u(R),W=t(155),H=u(W),S=1,l=5e3;p.__dashjs_factory_name="TimeSyncController";var Y=P.default.getSingletonFactory(p);Y.TIME_SYNC_FAILED_ERROR_CODE=S,Y.HTTP_TIMEOUT_MS=l,P.default.updateSingletonFactory(p.__dashjs_factory_name,Y),o.default=Y,d.exports=o.default},{155:155,160:160,179:179,46:46,47:47,48:48,51:51,98:98}],112:[function(t,d,o){"use strict";function u(C){return C&&C.__esModule?C:{default:C}}function p(C){function O(){V.on(m.default.XLINK_ELEMENT_LOADED,ee,Ae),xe=(0,c.default)(Se).create({errHandler:C.errHandler,metricsModel:C.metricsModel,mediaPlayerModel:C.mediaPlayerModel,requestModifier:C.requestModifier})}function q(ce){ce&&(De=ce)}function Q(ce){ce&&(ae=ce)}function pe(ce){var Pe=void 0;Ce=new D.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:De}),me=ce,Pe=ie(me.Period_asArray,me,H,j),ue(Pe,H,j)}function re(){V.off(m.default.XLINK_ELEMENT_LOADED,ee,Ae),xe&&(xe.reset(),xe=null)}function ue(ce,Pe,N){var Z={},L=void 0,F=void 0;Z.elements=ce,Z.type=Pe,Z.resolveType=N,Z.elements.length===0&&be(Z);for(var ne=0;ne<Z.elements.length;ne++)L=Z.elements[ne],F=de.isHTTPURL(L.url)?L.url:L.originalContent.BaseURL+L.url,xe.load(F,L,Z)}function ee(ce){var Pe=void 0,N=void 0,Z="";if(Pe=ce.element,N=ce.resolveObject,Pe.resolvedContent){var L=0;Pe.resolvedContent.indexOf("<?xml")===0&&(L=Pe.resolvedContent.indexOf("?>")+2),Z=Pe.resolvedContent.substr(0,L)+"<response>"+Pe.resolvedContent.substr(L)+"</response>",Pe.resolvedContent=Ce.xml_str2json(Z)}fe(N)&&be(N)}function be(ce){var Pe=[],N=void 0,Z=void 0;if(Te(ce),ce.resolveType===W&&V.trigger(m.default.XLINK_READY,{manifest:me}),ce.resolveType===j)switch(ce.type){case H:for(N=0;N<me[H+"_asArray"].length;N++)Z=me[H+"_asArray"][N],Z.hasOwnProperty(S+"_asArray")&&(Pe=Pe.concat(ie(Z[S+"_asArray"],Z,S,j))),Z.hasOwnProperty(l+"_asArray")&&(Pe=Pe.concat(ie(Z[l+"_asArray"],Z,l,j)));ue(Pe,S,j);break;case S:V.trigger(m.default.XLINK_READY,{manifest:me})}}function ie(ce,Pe,N,Z){var L=[],F=void 0,ne=void 0,K=void 0;for(ne=ce.length-1;ne>=0;ne--)F=ce[ne],F.hasOwnProperty("xlink:href")&&F["xlink:href"]===Y&&ce.splice(ne,1);for(ne=0;ne<ce.length;ne++)F=ce[ne],F.hasOwnProperty("xlink:href")&&F.hasOwnProperty("xlink:actuate")&&F["xlink:actuate"]===Z&&(K=ve(F["xlink:href"],Pe,N,ne,Z,F),L.push(K));return L}function Te(ce){var Pe=[],N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0,K=void 0;for(F=ce.elements.length-1;F>=0;F--){if(N=ce.elements[F],Z=N.type+"_asArray",!N.resolvedContent||Ee())delete N.originalContent["xlink:actuate"],delete N.originalContent["xlink:href"],Pe.push(N.originalContent);else if(N.resolvedContent)for(ne=0;ne<N.resolvedContent[Z].length;ne++)L=N.resolvedContent[Z][ne],Pe.push(L);for(N.parentElement[Z].splice(N.index,1),K=0;K<Pe.length;K++)N.parentElement[Z].splice(N.index+K,0,Pe[K]);Pe=[]}ce.elements.length>0&&ae.run(me)}function ve(ce,Pe,N,Z,L,F){return{url:ce,parentElement:Pe,type:N,index:Z,resolveType:L,originalContent:F,resolvedContent:null,resolved:!1}}function fe(ce){var Pe=void 0,N=void 0;for(Pe=0;Pe<ce.elements.length;Pe++)if(N=ce.elements[Pe],N.resolved===!1)return!1;return!0}function Ee(){return!1}C=C||{};var Se=this.context,V=(0,v.default)(Se).getInstance(),de=(0,R.default)(Se).getInstance(),Ae=void 0,De=void 0,ae=void 0,me=void 0,Ce=void 0,xe=void 0;return Ae={resolveManifestOnLoad:pe,setMatchers:q,setIron:Q,reset:re},O(),Ae}Object.defineProperty(o,"__esModule",{value:!0});var y=t(97),c=u(y),_=t(47),v=u(_),E=t(51),m=u(E),w=t(48),A=u(w),b=t(4),D=u(b),P=t(155),R=u(P),j="onLoad",W="onActuate",H="Period",S="AdaptationSet",l="EventStream",Y="urn:mpeg:dash:resolve-to-zero:2013";p.__dashjs_factory_name="XlinkController",o.default=A.default.getClassFactory(p),d.exports=o.default},{155:155,4:4,47:47,48:48,51:51,97:97}],113:[function(t,d,o){"use strict";function u(A){return A&&A.__esModule?A:{default:A}}function p(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function y(){function A(){H()}function b(Q){Q.dashManifestModel&&(C=Q.dashManifestModel)}function D(Q,pe,re){var ue=C.getBaseURLsFromElement(re);Q[pe]?q.areEqual(ue,Q[pe].data.baseUrls)||(Q[pe].data.baseUrls=ue,Q[pe].data.selectedIdx=m):Q[pe]=new w(ue)}function P(Q){var pe=C.getBaseURLsFromElement(Q);q.areEqual(pe,Y.data.baseUrls)||(Y.data.baseUrls=pe,Y.data.selectedIdx=m),Q.Period_asArray&&Q.Period_asArray.forEach(function(re,ue){D(Y.children,ue,re),re.AdaptationSet_asArray&&re.AdaptationSet_asArray.forEach(function(ee,be){D(Y.children[ue].children,be,ee),ee.Representation_asArray&&ee.Representation_asArray.sort(C.getRepresentationSortFunction()).forEach(function(ie,Te){D(Y.children[ue].children[be].children,Te,ie)})})})}function R(Q,pe){var re=pe||Y;Q(re.data),re.children&&re.children.forEach(function(ue){return R(Q,ue)})}function j(Q){R(function(pe){isNaN(pe.selectedIdx)||Q===pe.baseUrls[pe.selectedIdx].serviceLocation&&(pe.selectedIdx=m)})}function W(Q){P(Q)}function H(){Y=new w}function S(Q){var pe=Y,re=[pe.data];return Q&&Q.forEach(function(ue){(pe=pe.children[ue])&&re.push(pe.data)}),re.filter(function(ue){return ue.baseUrls.length})}var l=void 0,Y=void 0,C=void 0,O=this.context,q=(0,_.default)(O).getInstance();return l={reset:H,update:W,getForPath:S,invalidateSelectedIndexes:j,setConfig:b},A(),l}Object.defineProperty(o,"__esModule",{value:!0});var c=t(152),_=u(c),v=t(48),E=u(v),m=NaN,w=function A(b,D){p(this,A),this.data={baseUrls:b||null,selectedIdx:D||m},this.children=[]};y.__dashjs_factory_name="BaseURLTreeModel",o.default=E.default.getClassFactory(y),d.exports=o.default},{152:152,48:48}],114:[function(t,d,o){"use strict";function u(S){return S&&S.__esModule?S:{default:S}}function p(S){function l(){Ae(),xe.on(v.default.LOADING_COMPLETED,V,N),xe.on(v.default.LOADING_ABANDONED,de,N)}function Y(ne){Z=ne}function C(){return Z}function O(ne){var K=function(U,z){return U.url===z.url},he=function(U,z){return U.action===A.default.ACTION_COMPLETE&&U.action===z.action},we=function(U,z){return!isNaN(U.index)&&U.startTime===z.startTime&&U.adaptationIndex===z.adaptationIndex},h=function(U,z){return isNaN(U.index)&&isNaN(z.index)&&U.quality===z.quality},x=function(U){var z=!1;return U.some(function(J){if(K(ne,J)&&(we(ne,J)||h(ne,J)||he(ne,J)))return z=!0}),z};return!!ne&&x(L)}function q(ne){var K=!1,he=0,we=void 0;if(!(K=O(ne)))for(he=0;he<F.length;he++)we=F[he],ne.url===we.url&&ne.startTime===we.startTime&&(K=!0);return K}function Q(ne){var K=ne?ne.state instanceof Array?ne.state:[ne.state]:[],he=[];return K.forEach(function(we){var h=Ee(we);he=he.concat(fe(h,ne))}),he}function pe(ne){return isNaN(ne.duration)?.25:ne.duration/8}function re(ne){L=L.filter(function(K){var he=pe(K);return!(!isNaN(K.startTime)&&ne===void 0)&&K.startTime>=ne-he})}function ue(ne,K){K<=ne+.5||(L=L.filter(function(he){var we=pe(he);return isNaN(he.startTime)||he.startTime>=K-we||isNaN(he.duration)||he.startTime+he.duration<=ne+we}))}function ee(ne,K){if(!ne||ne.length===0)return void(L=[]);for(var he=0,we=0,h=ne.length;we<h;we++)ue(he,ne.start(we)),he=ne.end(we);K>0&&ue(he,K)}function be(){Pe.abort(),F=[]}function ie(ne){switch(ne.action){case A.default.ACTION_COMPLETE:L.push(ne),Se(ne,R),Ce("[FragmentModel] executeRequest trigger STREAM_COMPLETED"),xe.trigger(v.default.STREAM_COMPLETED,{request:ne,fragmentModel:this});break;case A.default.ACTION_DOWNLOAD:Se(ne,P),F.push(ne),Te(ne);break;default:Ce("Unknown request action.")}}function Te(ne){xe.trigger(v.default.FRAGMENT_LOADING_STARTED,{sender:N,request:ne}),Pe.load(ne)}function ve(ne,K,he){for(var we=ne.length-1,h=we;h>=0;h--){var x=ne[h],U=x.startTime,z=U+x.duration;if(he=isNaN(he)?pe(x):he,!isNaN(U)&&!isNaN(z)&&K+he>=U&&K-he<z||isNaN(U)&&isNaN(K))return x}return null}function fe(ne,K){return K.hasOwnProperty("time")?[ve(ne,K.time,K.threshold)]:ne.filter(function(he){for(var we in K)if(we!=="state"&&K.hasOwnProperty(we)&&he[we]!=K[we])return!1;return!0})}function Ee(ne){var K=void 0;switch(ne){case P:K=F;break;case R:K=L;break;default:K=[]}return K}function Se(ne,K){ce.addSchedulingInfo(ne.mediaType,new Date,ne.type,ne.startTime,ne.availabilityStartTime,ne.duration,ne.quality,ne.range,K),ce.addRequestsQueue(ne.mediaType,F,L)}function V(ne){ne.sender===Pe&&(F.splice(F.indexOf(ne.request),1),ne.response&&!ne.error&&L.push(ne.request),Se(ne.request,ne.error?W:R),xe.trigger(v.default.FRAGMENT_LOADING_COMPLETED,{request:ne.request,response:ne.response,error:ne.error,sender:this}))}function de(ne){ne.sender===Pe&&xe.trigger(v.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:ne.request,mediaType:ne.mediaType})}function Ae(){L=[],F=[]}function De(){xe.off(v.default.LOADING_COMPLETED,V,this),xe.off(v.default.LOADING_ABANDONED,de,this),Pe&&Pe.reset(),Ae()}function ae(ne){L.push(ne)}S=S||{};var me=this.context,Ce=(0,D.default)(me).getInstance().log,xe=(0,c.default)(me).getInstance(),ce=S.metricsModel,Pe=S.fragmentLoader,N=void 0,Z=void 0,L=void 0,F=void 0;return N={setStreamProcessor:Y,getStreamProcessor:C,getRequests:Q,isFragmentLoaded:O,isFragmentLoadedOrPending:q,removeExecutedRequestsBeforeTime:re,syncExecutedRequestsWithBufferedRange:ee,abortRequests:be,executeRequest:ie,reset:De,addExecutedRequest:ae},l(),N}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(48),m=u(E),w=t(162),A=u(w),b=t(46),D=u(b),P="loading",R="executed",j="canceled",W="failed";p.__dashjs_factory_name="FragmentModel";var H=m.default.getClassFactory(p);H.FRAGMENT_MODEL_LOADING=P,H.FRAGMENT_MODEL_EXECUTED=R,H.FRAGMENT_MODEL_CANCELED=j,H.FRAGMENT_MODEL_FAILED=W,m.default.updateClassFactory(p.__dashjs_factory_name,H),o.default=H,d.exports=o.default},{162:162,46:46,47:47,48:48,51:51}],115:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(){return P}function A(R){P=R,R&&D.trigger(v.default.MANIFEST_LOADED,{data:R})}var b=this.context,D=(0,c.default)(b).getInstance(),P=void 0;return{getValue:w,setValue:A}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(48),m=u(E);p.__dashjs_factory_name="ManifestModel",o.default=m.default.getSingletonFactory(p),d.exports=o.default},{47:47,48:48,51:51}],116:[function(t,d,o){"use strict";function u(V){return V&&V.__esModule?V:{default:V}}function p(V,de,Ae){return de in V?Object.defineProperty(V,de,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):V[de]=Ae,V}function y(){function V(){var Et,Qt;Pt=[],Ct=!1,rt=!0,ei=!0,Ti=m.default.ABR_STRATEGY_DYNAMIC,pi=!0,fn=!1,ai={enabled:!0,ttl:b},ci={enabled:!0,ttl:D},Gt=A,Yt=void 0,Xt=j,ni=W,li=H,Je=NaN,Dt=Y,le=C,Ue=O,ot=q,mt=P,yt=R,ii=fe,Ji=!1,Wi=Q,di={default:Ee},Fi=[],on=m.default.MOVING_AVERAGE_SLIDING_WINDOW,Et={},p(Et,v.HTTPRequest.MPD_TYPE,be),p(Et,v.HTTPRequest.XLINK_EXPANSION_TYPE,Te),p(Et,v.HTTPRequest.MEDIA_SEGMENT_TYPE,ue),p(Et,v.HTTPRequest.INIT_SEGMENT_TYPE,ue),p(Et,v.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,ue),p(Et,v.HTTPRequest.INDEX_SEGMENT_TYPE,ue),p(Et,v.HTTPRequest.OTHER_TYPE,ue),kt=Et,Qt={},p(Qt,v.HTTPRequest.MPD_TYPE,ie),p(Qt,v.HTTPRequest.XLINK_EXPANSION_TYPE,ve),p(Qt,v.HTTPRequest.MEDIA_SEGMENT_TYPE,ee),p(Qt,v.HTTPRequest.INIT_SEGMENT_TYPE,ee),p(Qt,v.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,ee),p(Qt,v.HTTPRequest.INDEX_SEGMENT_TYPE,ee),p(Qt,v.HTTPRequest.OTHER_TYPE,ee),Vt=Qt,ji={},ji[m.default.VIDEO]=pe,ji[m.default.AUDIO]=re}function de(Et){Ti=Et}function Ae(){return Ti}function De(Et){pi=Et}function ae(){return pi}function me(Et){var Qt=void 0;for(Qt=0;Qt<Fi.length;Qt++)if(Fi[Qt].rulename===Et)return Qt;return-1}function Ce(){return Fi}function xe(Et,Qt,xn){var Nn=me(Qt);Nn===-1?Fi.push({type:Et,rulename:Qt,rule:xn}):(Fi[Nn].type=Et,Fi[Nn].rule=xn)}function ce(Et){var Qt=me(Et);Qt!==-1&&Fi.splice(Qt,1)}function Pe(){Fi=[]}function N(Et){mt=Et}function Z(){return mt}function L(Et){yt=Et}function F(){return yt}function ne(Et){Je=Et}function K(){return isNaN(Je)?fn?l:S:Je}function he(Et){Dt=Et}function we(){return Dt}function h(Et){le=Et}function x(){return le}function U(Et){Ue=Et}function z(){return Ue}function J(Et){ot=Et}function ye(){return ot}function We(Et,Qt){ji[Et]=Qt}function Fe(Et){return ji[Et]}function qe(Et){Xt=Et}function Ye(){return Xt}function Xe(Et){ni=Et}function ht(){return ni}function It(Et,Qt){ai.enabled=Et,Qt===void 0||isNaN(Qt)||typeof Qt!="number"||(ai.ttl=Qt)}function Ke(){return ai}function pt(Et,Qt){ci.enabled=Et,Qt===void 0||isNaN(Qt)||typeof Qt!="number"||(ci.ttl=Qt)}function ct(){return ci}function nt(Et){li=Et}function Lt(){return li}function Ut(Et){kt[v.HTTPRequest.MEDIA_SEGMENT_TYPE]=Et}function gt(Et){kt[v.HTTPRequest.MPD_TYPE]=Et}function Tt(Et,Qt){kt[Et]=Qt}function st(){return kt[v.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Ze(){return kt[v.HTTPRequest.MPD_TYPE]}function et(Et){return kt[Et]}function At(Et){Vt[v.HTTPRequest.MEDIA_SEGMENT_TYPE]=Et}function wt(Et){Vt[v.HTTPRequest.MPD_TYPE]=Et}function lt(Et,Qt){Vt[Et]=Qt}function ut(){return Vt[v.HTTPRequest.MEDIA_SEGMENT_TYPE]}function bt(){return Vt[v.HTTPRequest.MPD_TYPE]}function Ft(Et){return Vt[Et]}function Rt(Et){ii=Et}function se(){return ii}function Be(Et){ei=Et}function e(){return ei}function i(Et){Gt=Et}function n(Et){Yt=Et}function r(){return Gt}function g(){return Yt}function I(Et){rt=Et}function B(){return rt}function G(Et){Ct=Et}function oe(){return Ct}function Re(Et){Pt=Et}function Me(){return Pt}function je(Et,Qt){Et?di[Et]=!!Qt:Object.keys(di).forEach(function(xn){je(xn,Qt)})}function ze(Et){var Qt=di[Et];return Qt===void 0?di.default:Qt}function Ne(){return fn}function Oe(Et){fn=Et}function tt(Et){on=Et}function it(){return on}function xt(Et){Ji=Et}function Ot(){return Ji}function qt(Et){Wi=Et}function zt(){return Wi}function Wt(){}var Bt=void 0,rt=void 0,Ct=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,ci=void 0,Je=void 0,Dt=void 0,le=void 0,Ue=void 0,ot=void 0,mt=void 0,yt=void 0,kt=void 0,Vt=void 0,ii=void 0,Ti=void 0,pi=void 0,di=void 0,fn=void 0,Fi=void 0,on=void 0,ji=void 0,Ji=void 0,Wi=void 0;return Bt={setABRStrategy:de,getABRStrategy:Ae,setUseDefaultABRRules:De,getUseDefaultABRRules:ae,getABRCustomRules:Ce,addABRCustomRule:xe,removeABRCustomRule:ce,removeAllABRCustomRule:Pe,setBandwidthSafetyFactor:N,getBandwidthSafetyFactor:Z,setAbandonLoadTimeout:L,getAbandonLoadTimeout:F,setLastBitrateCachingInfo:It,getLastBitrateCachingInfo:Ke,setLastMediaSettingsCachingInfo:pt,getLastMediaSettingsCachingInfo:ct,setStableBufferTime:ne,getStableBufferTime:K,setBufferTimeAtTopQuality:he,getBufferTimeAtTopQuality:we,setBufferTimeAtTopQualityLongForm:h,getBufferTimeAtTopQualityLongForm:x,setLongFormContentDurationThreshold:U,getLongFormContentDurationThreshold:z,setSegmentOverlapToleranceTime:J,getSegmentOverlapToleranceTime:ye,getCacheLoadThresholdForType:Fe,setCacheLoadThresholdForType:We,setBufferToKeep:qe,getBufferToKeep:Ye,setBufferAheadToKeep:Xe,getBufferAheadToKeep:ht,setBufferPruningInterval:nt,getBufferPruningInterval:Lt,setFragmentRetryAttempts:Ut,getFragmentRetryAttempts:st,setManifestRetryAttempts:gt,getManifestRetryAttempts:Ze,setRetryAttemptsForType:Tt,getRetryAttemptsForType:et,setFragmentRetryInterval:At,getFragmentRetryInterval:ut,setManifestRetryInterval:wt,getManifestRetryInterval:bt,setRetryIntervalForType:lt,getRetryIntervalForType:Ft,setWallclockTimeUpdateInterval:Rt,getWallclockTimeUpdateInterval:se,setScheduleWhilePaused:Be,getScheduleWhilePaused:e,getUseSuggestedPresentationDelay:oe,setUseSuggestedPresentationDelay:G,setLiveDelayFragmentCount:i,getLiveDelayFragmentCount:r,getLiveDelay:g,setLiveDelay:n,setUseManifestDateHeaderTimeSource:I,getUseManifestDateHeaderTimeSource:B,setUTCTimingSources:Re,getUTCTimingSources:Me,setXHRWithCredentialsForType:je,getXHRWithCredentialsForType:ze,setFastSwitchEnabled:Oe,getFastSwitchEnabled:Ne,setMovingAverageMethod:tt,getMovingAverageMethod:it,setJumpGaps:xt,getJumpGaps:Ot,setSmallGapLimit:qt,getSmallGapLimit:zt,reset:Wt},V(),Bt}Object.defineProperty(o,"__esModule",{value:!0});var c=t(48),_=u(c),v=t(179),E=t(98),m=u(E),w={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},A=4,b=36e4,D=36e4,P=.9,R=1e4,j=20,W=80,H=10,S=12,l=20,Y=30,C=60,O=600,q=.05,Q=.8,pe=50,re=5,ue=3,ee=1e3,be=3,ie=500,Te=1,ve=500,fe=50,Ee=!1;y.__dashjs_factory_name="MediaPlayerModel";var Se=_.default.getSingletonFactory(y);Se.DEFAULT_UTC_TIMING_SOURCE=w,_.default.updateSingletonFactory(y.__dashjs_factory_name,Se),o.default=Se,d.exports=o.default},{179:179,48:48,98:98}],117:[function(t,d,o){"use strict";function u(fe){return fe&&fe.__esModule?fe:{default:fe}}function p(){function fe(){It={}}function Ee(Ke){Ke&&Ke.adapter&&(ht=Ke.adapter)}function Se(){Ye.trigger(ie.default.METRICS_CHANGED)}function V(Ke){Ye.trigger(ie.default.METRIC_CHANGED,{mediaType:Ke}),Se()}function de(Ke,pt,ct){Ye.trigger(ie.default.METRIC_UPDATED,{mediaType:Ke,metric:pt,value:ct}),V(Ke)}function Ae(Ke,pt,ct){Ye.trigger(ie.default.METRIC_ADDED,{mediaType:Ke,metric:pt,value:ct}),V(Ke)}function De(Ke){delete It[Ke],V(Ke)}function ae(){It={},Se()}function me(Ke){return It.hasOwnProperty(Ke)?It[Ke]:null}function Ce(Ke){var pt=void 0;return It.hasOwnProperty(Ke)?pt=It[Ke]:(pt=new m.default,It[Ke]=pt),pt}function xe(Ke,pt,ct){var nt=Ce(Ke);nt[pt].push(ct),nt[pt].length>Fe&&nt[pt].shift()}function ce(Ke,pt,ct,nt,Lt,Ut){var gt=new A.default;return gt.tcpid=pt,gt.dest=ct,gt.topen=nt,gt.tclose=Lt,gt.tconnect=Ut,L(Ke,v.default.TCP_CONNECTION,gt),gt}function Pe(Ke,pt,ct,nt){var Lt=new b.HTTPRequestTrace;return Lt.s=pt,Lt.d=ct,Lt.b=nt,Ke.trace.push(Lt),Ke.interval||(Ke.interval=0),Ke.interval+=ct,Lt}function N(Ke,pt,ct,nt,Lt,Ut,gt,Tt,st,Ze,et,At,wt,lt){var ut=new b.HTTPRequest;return Lt&&Lt!==nt&&(N(Ke,null,ct,nt,null,null,gt,Tt,null,null,null,At,null,null),ut.actualurl=Lt),ut.tcpid=pt,ut.type=ct,ut.url=nt,ut.range=gt,ut.trequest=Tt,ut.tresponse=st,ut.responsecode=et,ut._tfinish=Ze,ut._stream=Ke,ut._mediaduration=At,ut._responseHeaders=wt,ut._serviceLocation=Ut,lt?lt.forEach(function(bt){Pe(ut,bt.s,bt.d,bt.b)}):(delete ut.interval,delete ut.trace),L(Ke,v.default.HTTP_REQUEST,ut),ut}function Z(Ke,pt,ct,nt,Lt){var Ut=new P.default;return Ut.t=pt,Ut.mt=ct,Ut.to=nt,Lt?Ut.lto=Lt:delete Ut.lto,L(Ke,v.default.TRACK_SWITCH,Ut),Ut}function L(Ke,pt,ct){xe(Ke,pt,ct),Ae(Ke,pt,ct)}function F(Ke,pt,ct){var nt=new j.default;return nt.t=pt,nt.level=ct,L(Ke,v.default.BUFFER_LEVEL,nt),nt}function ne(Ke,pt,ct){var nt=new H.default;return nt.target=ct,nt.state=pt,L(Ke,v.default.BUFFER_STATE,nt),nt}function K(Ke,pt,ct,nt){var Lt=new l.default;return Lt.time=pt,Lt.range=nt,Lt.manifestInfo=ct,L(Ke,v.default.DVR_INFO,Lt),Lt}function he(Ke,pt){var ct=new C.default,nt=Ce(Ke).DroppedFrames;return ct.time=pt.creationTime,ct.droppedFrames=pt.droppedVideoFrames,nt.length>0&&nt[nt.length-1]==ct?nt[nt.length-1]:(L(Ke,v.default.DROPPED_FRAMES,ct),ct)}function we(Ke,pt,ct,nt,Lt,Ut,gt,Tt,st){var Ze=new Q.default;return Ze.mediaType=Ke,Ze.t=pt,Ze.type=ct,Ze.startTime=nt,Ze.availabilityStartTime=Lt,Ze.duration=Ut,Ze.quality=gt,Ze.range=Tt,Ze.state=st,L(Ke,v.default.SCHEDULING_INFO,Ze),Ze}function h(Ke,pt,ct){var nt=new ee.default;nt.loadingRequests=pt,nt.executedRequests=ct,Ce(Ke).RequestsQueue=nt,Ae(Ke,v.default.REQUESTS_QUEUE,nt)}function x(Ke,pt,ct,nt,Lt,Ut,gt,Tt,st,Ze){var et=new O.ManifestUpdate;return et.mediaType=Ke,et.type=pt,et.requestTime=ct,et.fetchTime=nt,et.availabilityStartTime=Lt,et.presentationStartTime=Ut,et.clientTimeOffset=gt,et.currentTime=Tt,et.buffered=st,et.latency=Ze,xe(c.default.STREAM,v.default.MANIFEST_UPDATE,et),Ae(Ke,v.default.MANIFEST_UPDATE,et),et}function U(Ke,pt){if(Ke){for(var ct in pt)Ke[ct]=pt[ct];de(Ke.mediaType,v.default.MANIFEST_UPDATE,Ke)}}function z(Ke,pt,ct,nt,Lt){if(Ke){var Ut=new O.ManifestUpdateStreamInfo;return Ut.id=pt,Ut.index=ct,Ut.start=nt,Ut.duration=Lt,Ke.streamInfo.push(Ut),de(Ke.mediaType,v.default.MANIFEST_UPDATE_STREAM_INFO,Ke),Ut}return null}function J(Ke,pt,ct,nt,Lt,Ut,gt,Tt){if(Ke){var st=new O.ManifestUpdateRepresentationInfo;return st.id=pt,st.index=ct,st.streamIndex=nt,st.mediaType=Lt,st.startNumber=gt,st.fragmentInfoType=Tt,st.presentationTimeOffset=Ut,Ke.representationInfo.push(st),de(Ke.mediaType,v.default.MANIFEST_UPDATE_TRACK_INFO,Ke),st}return null}function ye(Ke){var pt=c.default.STREAM;return Ke.trace&&Array.isArray(Ke.trace)?Ke.trace.forEach(function(ct){ct.hasOwnProperty("subreplevel")&&!ct.subreplevel&&delete ct.subreplevel}):delete Ke.trace,L(pt,v.default.PLAY_LIST,Ke),Ke}function We(Ke){return L(c.default.STREAM,v.default.DVB_ERRORS,Ke),Ke}var Fe=1e3,qe=this.context,Ye=(0,re.default)(qe).getInstance(),Xe=void 0,ht=void 0,It=void 0;return Xe={clearCurrentMetricsForType:De,clearAllCurrentMetrics:ae,getReadOnlyMetricsFor:me,getMetricsFor:Ce,addTcpConnection:ce,addHttpRequest:N,addRepresentationSwitch:Z,addBufferLevel:F,addBufferState:ne,addDVRInfo:K,addDroppedFrames:he,addSchedulingInfo:we,addRequestsQueue:h,addManifestUpdate:x,updateManifestUpdateInfo:U,addManifestUpdateStreamInfo:z,addManifestUpdateRepresentationInfo:J,addPlayList:ye,addDVBErrors:We,setConfig:Ee},fe(),Xe}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(99),v=u(_),E=t(167),m=u(E),w=t(185),A=u(w),b=t(179),D=t(182),P=u(D),R=t(175),j=u(R),W=t(176),H=u(W),S=t(177),l=u(S),Y=t(178),C=u(Y),O=t(180),q=t(184),Q=u(q),pe=t(47),re=u(pe),ue=t(183),ee=u(ue),be=t(51),ie=u(be),Te=t(48),ve=u(Te);p.__dashjs_factory_name="MetricsModel",o.default=ve.default.getSingletonFactory(p),d.exports=o.default},{167:167,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,47:47,48:48,51:51,98:98,99:99}],118:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(){function E(){D=new c.default,P=[],R=!1}function m(){return D}function w(){return P}function A(){return R}function b(j){function W(Q,pe,re,ue){var ee=ue[0].split(/[=]/);return ue.push({key:ee[0],value:ee[1]}),ue.shift(),ue}function H(Q,pe,re){return pe>0&&(O&&P.length===0?P=re[pe].split(/[&]/):q&&(S=re[pe].split(/[&]/))),re}if(!j)return null;var S=[],l=new RegExp(/[?]/),Y=new RegExp(/[#]/),C=new RegExp(/^(https:)?\/\//i),O=l.test(j),q=Y.test(j);return R=C.test(j),j.split(/[?#]/).map(H),P.length>0&&(P=P.reduce(W,null)),S.length>0&&(S=S.reduce(W,null),S.forEach(function(Q){D[Q.key]=Q.value})),j}var D=void 0,P=void 0,R=void 0;return{initialize:E,parseURI:b,getURIFragmentData:m,getURIQueryData:w,isManifestHTTPS:A}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(174),c=u(y),_=t(48),v=u(_);p.__dashjs_factory_name="URIQueryAndFragmentModel",o.default=v.default.getSingletonFactory(p),d.exports=o.default},{174:174,48:48}],119:[function(t,d,o){"use strict";function u(b){return b&&b.__esModule?b:{default:b}}function p(){function b(){We.on(m.default.PLAYBACK_PLAYING,be,this)}function D(){We.off(m.default.PLAYBACK_PLAYING,be,this)}function P(){h&&(h.playbackRate=z||1,h.removeEventListener("canplay",P))}function R(qe){h&&(h.readyState<=2&&qe>0?h.addEventListener("canplay",P):h.playbackRate=qe)}function j(qe){if(h){if(h.currentTime==qe)return;try{h.currentTime=qe}catch(Ye){h.readyState===0&&Ye.code===Ye.INVALID_STATE_ERR&&setTimeout(function(){h.currentTime=qe},400)}}}function W(){return h}function H(qe){h=qe,h.preload="auto"}function S(qe){h&&(qe?h.src=qe:(h.removeAttribute("src"),h.load()))}function l(){return h?h.src:null}function Y(){return U}function C(qe){U=qe}function O(){return x}function q(qe){x=qe,x.style.position="absolute",x.style.display="flex",x.style.overflow="hidden",x.style.pointerEvents="none",x.style.top=0,x.style.left=0}function Q(qe,Ye){ee(qe,Ye)}function pe(){return Fe.length>0}function re(qe){var Ye=void 0;qe===null||h.seeking||Fe.indexOf(qe)!==-1||(Fe.push(qe),h&&Fe.length===1&&(Ye=document.createEvent("Event"),Ye.initEvent("waiting",!0,!1),z=h.playbackRate,R(0),h.dispatchEvent(Ye)))}function ue(qe){var Ye=Fe.indexOf(qe),Xe=void 0;qe!==null&&(Ye!==-1&&Fe.splice(Ye,1),h&&pe()===!1&&h.playbackRate===0&&(R(z||1),h.paused||(Xe=document.createEvent("Event"),Xe.initEvent("playing",!0,!1),h.dispatchEvent(Xe))))}function ee(qe,Ye){Ye?re(qe):ue(qe)}function be(){if(h&&pe()&&h.playbackRate===0){var qe=document.createEvent("Event");qe.initEvent("waiting",!0,!1),h.dispatchEvent(qe)}}function ie(){if(!h)return null;var qe="webkitDroppedFrameCount"in h&&"webkitDecodedFrameCount"in h,Ye="getVideoPlaybackQuality"in h,Xe=null;return Ye?Xe=h.getVideoPlaybackQuality():qe&&(Xe={droppedVideoFrames:h.webkitDroppedFrameCount,totalVideoFrames:h.webkitDroppedFrameCount+h.webkitDecodedFrameCount,creationTime:new Date}),Xe}function Te(){if(h){h.autoplay=!0;var qe=h.play();qe&&typeof Promise!="undefined"&&qe instanceof Promise&&qe.catch(function(Ye){Ye.name==="NotAllowedError"&&We.trigger(m.default.PLAYBACK_NOT_ALLOWED),ye("Caught pending play exception - continuing ("+Ye+")")})}}function ve(){return h?h.paused:null}function fe(){h&&(h.pause(),h.autoplay=!1)}function Ee(){return h?h.seeking:null}function Se(){return h?h.currentTime:null}function V(){return h?h.playbackRate:null}function de(){return h?h.played:null}function Ae(){return h?h.ended:null}function De(qe,Ye){h&&h.addEventListener(qe,Ye)}function ae(qe,Ye){h&&h.removeEventListener(qe,Ye)}function me(){return h?h.readyState:NaN}function Ce(){return h?h.buffered:null}function xe(){return h?h.clientWidth:NaN}function ce(){return h?h.clientHeight:NaN}function Pe(){return h?h.videoWidth:NaN}function N(){return h?h.videoHeight:NaN}function Z(){return h&&h.parentNode?h.getBoundingClientRect().top-h.parentNode.getBoundingClientRect().top:NaN}function L(){return h&&h.parentNode?h.getBoundingClientRect().left-h.parentNode.getBoundingClientRect().left:NaN}function F(){return h?h.textTracks:[]}function ne(qe,Ye,Xe,ht,It){if(h){for(var Ke=0;Ke<h.textTracks.length;Ke++)if(h.textTracks[Ke].kind===qe&&(!Ye||h.textTracks[Ke].label==Ye)&&h.textTracks[Ke].language===Xe&&h.textTracks[Ke].isTTML===ht&&h.textTracks[Ke].isEmbedded===It)return h.textTracks[Ke]}return null}function K(qe,Ye,Xe){return h?h.addTextTrack(qe,Ye,Xe):null}function he(qe){h&&(h.appendChild(qe),qe.isTTML!==void 0&&(h.textTracks[h.textTracks.length-1].isTTML=qe.isTTML,h.textTracks[h.textTracks.length-1].isEmbedded=qe.isEmbedded))}function we(qe){h&&h.removeChild(qe)}var h=void 0,x=void 0,U=void 0,z=void 0,J=this.context,ye=(0,A.default)(J).getInstance().log,We=(0,v.default)(J).getInstance(),Fe=[];return{initialize:b,setCurrentTime:j,play:Te,isPaused:ve,pause:fe,isSeeking:Ee,getTime:Se,getPlaybackRate:V,getPlayedRanges:de,getEnded:Ae,setStallState:Q,getElement:W,setElement:H,setSource:S,getSource:l,getVideoContainer:Y,setVideoContainer:C,getTTMLRenderingDiv:O,setTTMLRenderingDiv:q,getPlaybackQuality:ie,addEventListener:De,removeEventListener:ae,getReadyState:me,getBufferRange:Ce,getClientWidth:xe,getClientHeight:ce,getTextTracks:F,getTextTrack:ne,addTextTrack:K,appendChild:he,removeChild:we,getVideoWidth:Pe,getVideoHeight:N,getVideoRelativeOffsetTop:Z,getVideoRelativeOffsetLeft:L,reset:D}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(47),v=u(_),E=t(51),m=u(E),w=t(46),A=u(w);p.__dashjs_factory_name="VideoModel",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{46:46,47:47,48:48,51:51}],120:[function(t,d,o){"use strict";function u(v){return v&&v.__esModule?v:{default:v}}function p(){function v(D,P){var R=P.droppedVideoFrames-A;A=P.droppedVideoFrames;var j=P.totalVideoFrames-b;b=P.totalVideoFrames,isNaN(D)||(w[D]?(w[D].droppedVideoFrames+=R,w[D].totalVideoFrames+=j):w[D]={droppedVideoFrames:R,totalVideoFrames:j})}function E(){return w}function m(D){w=[],A=D.droppedVideoFrames,b=D.totalVideoFrames}var w=[],A=0,b=0;return{push:v,getFrameHistory:E,reset:m}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="DroppedFramesHistory";var _=c.default.getClassFactory(p);o.default=_,d.exports=o.default},{48:48}],121:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(_){function v(){return S.mediaInfo.type}function E(){return S.mediaInfo.streamInfo}function m(){return S.mediaInfo}function w(){return S}function A(){return H}function b(){return W}function D(){return l}function P(){return Y}function R(){return C}function j(){return O}_=_||{};var W=_.abrController,H=_.streamProcessor,S=_.streamProcessor.getCurrentRepresentationInfo(),l=_.switchHistory,Y=_.droppedFramesHistory,C=_.currentRequest,O=_.useBufferOccupancyABR;return{getMediaType:v,getMediaInfo:m,getDroppedFramesHistory:P,getCurrentRequest:R,getSwitchHistory:D,getStreamInfo:E,getStreamProcessor:A,getAbrController:b,getRepresentationInfo:w,useBufferOccupancyABR:j}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="RulesContext",o.default=c.default.getClassFactory(p),d.exports=o.default},{48:48}],122:[function(t,d,o){"use strict";function u(m){return m&&m.__esModule?m:{default:m}}function p(m,w,A){function b(j){var W=v.DEFAULT;return j!==v.DEFAULT&&j!==v.STRONG&&j!==v.WEAK||(W=j),W}var D=void 0,P=void 0,R=void 0;return D=m===void 0?_:m,P=b(A),R=w===void 0?null:w,{quality:D,reason:R,priority:P}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=-1,v={DEFAULT:.5,STRONG:1,WEAK:0};p.__dashjs_factory_name="SwitchRequest";var E=c.default.getClassFactory(p);E.NO_CHANGE=_,E.PRIORITY=v,c.default.updateClassFactory(p.__dashjs_factory_name,E),o.default=E,d.exports=o.default},{48:48}],123:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(R){R.newValue===v.default.NO_CHANGE&&(R.newValue=R.oldValue),D[R.oldValue]||(D[R.oldValue]={noDrops:0,drops:0,dropSize:0});var j=R.newValue-R.oldValue,W=j<0?1:0,H=W?-j:0,S=W?0:1;if(D[R.oldValue].drops+=W,D[R.oldValue].dropSize+=H,D[R.oldValue].noDrops+=S,P.push({idx:R.oldValue,noDrop:S,drop:W,dropSize:H}),P.length>E){var l=P.shift();D[l.idx].drops-=l.drop,D[l.idx].dropSize-=l.dropSize,D[l.idx].noDrops-=l.noDrop}}function A(){return D}function b(){D=[],P=[]}var D=[],P=[];return{push:w,getSwitchRequests:A,reset:b}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(122),v=u(_),E=8;p.__dashjs_factory_name="SwitchRequestHistory";var m=c.default.getClassFactory(p);o.default=m,d.exports=o.default},{122:122,48:48}],124:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E){function m(){de={throughputHalfLife:{fast:be,slow:ee},latencyHalfLife:{fast:Te,slow:ie}},C()}function w(De,ae,me){return De===c.default.VIDEO?me<ve.getCacheLoadThresholdForType(c.default.VIDEO):De===c.default.AUDIO?me<ve.getCacheLoadThresholdForType(c.default.AUDIO):void 0}function A(De,ae,me){if(ae.trace&&ae.trace.length){var Ce=ae.tresponse.getTime()-ae.trequest.getTime()||1,xe=ae._tfinish.getTime()-ae.tresponse.getTime()||1,ce=ae.trace.reduce(function(Z,L){return Z+L.b[0]},0),Pe=me?xe:Ce+xe,N=Math.round(8*ce/Pe);if(l(De),w(De,Ce,xe)){if(fe[De].length>0&&!fe[De].hasCachedEntries)return;fe[De].hasCachedEntries=!0}else fe[De]&&fe[De].hasCachedEntries&&Y(De);fe[De].push(N),fe[De].length>O&&fe[De].shift(),Ee[De].push(Ce),Ee[De].length>O&&Ee[De].shift(),b(Se[De],N,.001*xe,de.throughputHalfLife),b(V[De],Ce,1,de.latencyHalfLife)}}function b(De,ae,me,Ce){var xe=Math.pow(.5,me/Ce.fast);De.fastEstimate=(1-xe)*ae+xe*De.fastEstimate;var ce=Math.pow(.5,me/Ce.slow);De.slowEstimate=(1-ce)*ae+ce*De.slowEstimate,De.totalWeight+=me}function D(De,ae,me){var Ce=void 0,xe=void 0;if(De?(Ce=fe[ae],xe=me?q:Q):(Ce=Ee[ae],xe=pe),Ce){if(xe>=Ce.length)xe=Ce.length;else if(De)for(var ce=1;ce<xe;++ce){var Pe=Ce[-ce]/Ce[-ce-1];if((Pe>=ue||Pe<=1/re)&&(xe+=1)===Ce.length)break}}else xe=0;return xe}function P(De,ae,me){return ve.getMovingAverageMethod()!==c.default.MOVING_AVERAGE_SLIDING_WINDOW?j(De,ae):R(De,ae,me)}function R(De,ae,me){var Ce=D(De,ae,me),xe=De?fe:Ee,ce=xe[ae];return Ce!==0&&ce&&ce.length!==0?(ce=ce.slice(-Ce),ce.reduce(function(Pe,N){return Pe+N})/ce.length):NaN}function j(De,ae){var me=De?de.throughputHalfLife:de.latencyHalfLife,Ce=De?Se[ae]:V[ae];if(!Ce||Ce.totalWeight<=0)return NaN;var xe=Ce.fastEstimate/(1-Math.pow(.5,Ce.totalWeight/me.fast)),ce=Ce.slowEstimate/(1-Math.pow(.5,Ce.totalWeight/me.slow));return De?Math.min(xe,ce):Math.max(xe,ce)}function W(De,ae){return P(!0,De,ae)}function H(De,ae){var me=W(De,ae);return isNaN(me)||(me*=ve.getBandwidthSafetyFactor()),me}function S(De){return P(!1,De)}function l(De){fe[De]=fe[De]||[],Ee[De]=Ee[De]||[],Se[De]=Se[De]||{fastEstimate:0,slowEstimate:0,totalWeight:0},V[De]=V[De]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Y(De){delete fe[De],delete Ee[De],delete Se[De],delete V[De],l(De)}function C(){fe={},Ee={},Se={},V={}}E=E||{};var O=20,q=3,Q=4,pe=4,re=1.3,ue=1.3,ee=8,be=3,ie=2,Te=1,ve=E.mediaPlayerModel,fe=void 0,Ee=void 0,Se=void 0,V=void 0,de=void 0,Ae={push:A,getAverageThroughput:W,getSafeAverageThroughput:H,getAverageLatency:S,reset:C};return m(),Ae}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(48),v=u(_);p.__dashjs_factory_name="ThroughputHistory",o.default=v.default.getClassFactory(p),d.exports=o.default},{48:48,98:98}],125:[function(t,d,o){"use strict";function u(O){return O&&O.__esModule?O:{default:O}}function p(O){function q(){fe=[],Ee=[],ie.getUseDefaultABRRules()&&(fe.push((0,R.default)(be).create({metricsModel:Te,dashMetrics:ve,mediaPlayerModel:ie})),fe.push((0,c.default)(be).create({metricsModel:Te,dashMetrics:ve})),fe.push((0,v.default)(be).create({metricsModel:Te,dashMetrics:ve})),fe.push((0,D.default)(be).create()),fe.push((0,A.default)(be).create()),Ee.push((0,m.default)(be).create({metricsModel:Te,dashMetrics:ve,mediaPlayerModel:ie}))),ie.getABRCustomRules().forEach(function(Se){Se.type===l&&fe.push(Se.rule(be).create()),Se.type===Y&&Ee.push(Se.rule(be).create())})}function Q(Se){return Se.filter(function(V){return V.quality>S.default.NO_CHANGE})}function pe(Se){var V={},de=void 0,Ae=void 0,De=void 0,ae=void 0,me=void 0;if(Se.length!==0){for(V[S.default.PRIORITY.STRONG]=S.default.NO_CHANGE,V[S.default.PRIORITY.WEAK]=S.default.NO_CHANGE,V[S.default.PRIORITY.DEFAULT]=S.default.NO_CHANGE,de=0,Ae=Se.length;de<Ae;de+=1)De=Se[de],De.quality!==S.default.NO_CHANGE&&(V[De.priority]=V[De.priority]>S.default.NO_CHANGE?Math.min(V[De.priority],De.quality):De.quality);return V[S.default.PRIORITY.WEAK]!==S.default.NO_CHANGE&&(ae=V[S.default.PRIORITY.WEAK]),V[S.default.PRIORITY.DEFAULT]!==S.default.NO_CHANGE&&(ae=V[S.default.PRIORITY.DEFAULT]),V[S.default.PRIORITY.STRONG]!==S.default.NO_CHANGE&&(ae=V[S.default.PRIORITY.STRONG]),ae!==S.default.NO_CHANGE&&(me=ae),(0,S.default)(be).create(me)}}function re(Se){return pe(Q(fe.map(function(V){return V.getMaxIndex(Se)})))||(0,S.default)(be).create()}function ue(Se){return pe(Q(Ee.map(function(V){return V.shouldAbandon(Se)})))||(0,S.default)(be).create()}function ee(){[fe,Ee].forEach(function(Se){Se&&Se.length&&Se.forEach(function(V){return V.reset&&V.reset()})}),fe=[],Ee=[]}O=O||{};var be=this.context,ie=O.mediaPlayerModel,Te=O.metricsModel,ve=O.dashMetrics,fe=void 0,Ee=void 0;return{initialize:q,reset:ee,getMaxQuality:re,shouldAbandonFragment:ue}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(131),c=u(y),_=t(129),v=u(_),E=t(126),m=u(E),w=t(128),A=u(w),b=t(130),D=u(b),P=t(127),R=u(P),j=t(48),W=u(j),H=t(122),S=u(H),l="qualitySwitchRules",Y="abandonFragmentRules";p.__dashjs_factory_name="ABRRulesCollection";var C=W.default.getClassFactory(p);C.QUALITY_SWITCH_RULES=l,C.ABANDON_FRAGMENT_RULES=Y,W.default.updateSingletonFactory(p.__dashjs_factory_name,C),o.default=C,d.exports=o.default},{122:122,126:126,127:127,128:128,129:129,130:130,131:131,48:48}],126:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(w){function A(){R()}function b(ue,ee){q[ue]=q[ue]||{},q[ue][ee]=q[ue][ee]||{}}function D(ue,ee){pe[ue]=pe[ue]||[],pe[ue].push(ee)}function P(ue){var ee=(0,c.default)(S).create(c.default.NO_CHANGE,{name:p.__dashjs_factory_name});if(!(ue&&ue.hasOwnProperty("getMediaInfo")&&ue.hasOwnProperty("getMediaType")&&ue.hasOwnProperty("getCurrentRequest")&&ue.hasOwnProperty("getRepresentationInfo")&&ue.hasOwnProperty("getAbrController")))return ee;var be=ue.getMediaInfo(),ie=ue.getMediaType(),Te=ue.getCurrentRequest();if(!isNaN(Te.index)){b(ie,Te.index);var ve=Y.getStableBufferTime();if(O.getCurrentBufferLevel(C.getReadOnlyMetricsFor(ie))>ve)return ee;var fe=q[ie][Te.index];if(fe===null||Te.firstByteDate===null||Q.hasOwnProperty(fe.id))return ee;if(fe.firstByteTime===void 0&&(pe[ie]=[],fe.firstByteTime=Te.firstByteDate.getTime(),fe.segmentDuration=Te.duration,fe.bytesTotal=Te.bytesTotal,fe.id=Te.index),fe.bytesLoaded=Te.bytesLoaded,fe.elapsedTime=new Date().getTime()-fe.firstByteTime,fe.bytesLoaded>0&&fe.elapsedTime>0&&D(ie,Math.round(8*fe.bytesLoaded/fe.elapsedTime)),pe[ie].length>=H&&fe.elapsedTime>W&&fe.bytesLoaded<fe.bytesTotal){var Ee=pe[ie].reduce(function(De,ae){return De+ae},0);if(fe.measuredBandwidthInKbps=Math.round(Ee/pe[ie].length),fe.estimatedTimeOfDownload=+(8*fe.bytesTotal/fe.measuredBandwidthInKbps/1e3).toFixed(2),fe.estimatedTimeOfDownload<fe.segmentDuration*j||ue.getRepresentationInfo().quality===0)return ee;if(!Q.hasOwnProperty(fe.id)){var Se=ue.getAbrController(),V=fe.bytesTotal-fe.bytesLoaded,de=Se.getBitrateList(be),Ae=Se.getQualityForBitrate(be,fe.measuredBandwidthInKbps*Y.getBandwidthSafetyFactor());V>fe.bytesTotal*de[Ae].bitrate/de[Se.getQualityFor(ie,be.streamInfo)].bitrate&&(ee.quality=Ae,ee.reason.throughput=fe.measuredBandwidthInKbps,ee.reason.fragmentID=fe.id,Q[fe.id]=fe,l("AbandonRequestsRule ( ",ie,"frag id",fe.id,") is asking to abandon and switch to quality to ",Ae," measured bandwidth was",fe.measuredBandwidthInKbps),delete q[ie][fe.id])}}else fe.bytesLoaded===fe.bytesTotal&&delete q[ie][fe.id]}return ee}function R(){q={},Q={},pe=[]}w=w||{};var j=1.8,W=500,H=5,S=this.context,l=(0,m.default)(S).getInstance().log,Y=w.mediaPlayerModel,C=w.metricsModel,O=w.dashMetrics,q=void 0,Q=void 0,pe=void 0,re={shouldAbandon:P,reset:R};return A(),re}Object.defineProperty(o,"__esModule",{value:!0});var y=t(122),c=u(y),_=t(48),v=u(_),E=t(46),m=u(E);p.__dashjs_factory_name="AbandonRequestsRule",o.default=v.default.getClassFactory(p),d.exports=o.default},{122:122,46:46,48:48}],127:[function(t,d,o){"use strict";function u(O){return O&&O.__esModule?O:{default:O}}function p(O){function q(){xe(),ne.on(P.default.BUFFER_EMPTY,Ee,K),ne.on(P.default.PLAYBACK_SEEKING,Se,K),ne.on(P.default.PERIOD_SWITCH_STARTED,V,K),ne.on(P.default.MEDIA_FRAGMENT_LOADED,de,K),ne.on(P.default.METRIC_ADDED,Ae,K),ne.on(P.default.QUALITY_CHANGE_REQUESTED,ae,K),ne.on(P.default.FRAGMENT_LOADING_ABANDONED,me,K)}function Q(we){return we.map(function(h){return Math.log(h)})}function pe(we,h,x){var U=x.reduce(function(ye,We,Fe){return We>x[ye]?Fe:ye},0);if(U===0)return null;var z=Math.max(we,l+Y*h.length),J=(x[U]-1)/(z/l-1);return{gp:J,Vp:l/J}}function re(we){var h={},x=we.getMediaInfo(),U=x.bitrateList.map(function(We){return We.bandwidth}),z=Q(U);z=z.map(function(We){return We-z[0]+1});var J=F.getStableBufferTime(),ye=pe(J,U,z);return ye?(h.state=H,h.bitrates=U,h.utilities=z,h.stableBufferTime=J,h.Vp=ye.Vp,h.gp=ye.gp,h.lastQuality=0,ue(h)):h.state=W,h}function ue(we){we.placeholderBuffer=0,we.mostAdvancedSegmentStart=NaN,we.lastSegmentWasReplacement=!1,we.lastSegmentStart=NaN,we.lastSegmentDurationS=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN}function ee(we,h){var x=F.getStableBufferTime();if(we.stableBufferTime!==x){var U=pe(x,we.bitrates,we.utilities);if(U.Vp!==we.Vp||U.gp!==we.gp){var z=Z.getCurrentBufferLevel(L.getReadOnlyMetricsFor(h)),J=z+we.placeholderBuffer;J-=l,J*=U.Vp/we.Vp,J+=l,we.stableBufferTime=x,we.Vp=U.Vp,we.gp=U.gp,we.placeholderBuffer=Math.max(0,J-z)}}}function be(we){var h=we.getMediaType(),x=he[h];return x?x.state!==W&&ee(x,h):(x=re(we),he[h]=x),x}function ie(we,h){for(var x=we.bitrates.length,U=NaN,z=NaN,J=0;J<x;++J){var ye=(we.Vp*(we.utilities[J]+we.gp)-h)/we.bitrates[J];(isNaN(z)||ye>=z)&&(z=ye,U=J)}return U}function Te(we,h){return we.Vp*(we.utilities[h]+we.gp)}function ve(we,h){for(var x=we.bitrates[h],U=we.utilities[h],z=0,J=h-1;J>=0;--J)if(we.utilities[J]<we.utilities[h]){var ye=we.bitrates[J],We=we.utilities[J],Fe=we.Vp*(we.gp+(x*We-ye*U)/(x-ye));z=Math.max(z,Fe)}return z}function fe(we,h){var x=Date.now();if(isNaN(we.lastSegmentFinishTimeMs)){if(!isNaN(we.lastCallTimeMs)){var U=.001*(x-we.lastCallTimeMs);we.placeholderBuffer+=Math.max(0,U)}}else{var U=.001*(x-we.lastSegmentFinishTimeMs);we.placeholderBuffer+=Math.max(0,U)}we.lastCallTimeMs=x,we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN,ee(we,h)}function Ee(){for(var we in he)he.hasOwnProperty(we)&&he[we].state===S&&(he[we].placeholderBuffer=0)}function Se(){for(var we in he)if(he.hasOwnProperty(we)){var h=he[we];h.state!==W&&(h.state=H,ue(h))}}function V(){}function de(we){if(we&&we.chunk&&we.chunk.mediaInfo){var h=he[we.chunk.mediaInfo.type];if(h&&h.state!==W){var x=we.chunk.start;isNaN(h.mostAdvancedSegmentStart)||x>h.mostAdvancedSegmentStart?(h.mostAdvancedSegmentStart=x,h.lastSegmentWasReplacement=!1):h.lastSegmentWasReplacement=!0,h.lastSegmentStart=x,h.lastSegmentDurationS=we.chunk.duration,h.lastQuality=we.chunk.quality,De(h,we.chunk.mediaInfo.type)}}}function Ae(we){if(we&&we.metric===c.default.HTTP_REQUEST&&we.value&&we.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&we.value.trace&&we.value.trace.length){var h=he[we.mediaType];h&&h.state!==W&&(h.lastSegmentRequestTimeMs=we.value.trequest.getTime(),h.lastSegmentFinishTimeMs=we.value._tfinish.getTime(),De(h,we.mediaType))}}function De(we,h){if(!isNaN(we.lastSegmentStart)&&!isNaN(we.lastSegmentRequestTimeMs)&&!isNaN(we.placeholderBuffer)){if(we.placeholderBuffer*=C,!isNaN(we.lastSegmentFinishTimeMs)){var x=Z.getCurrentBufferLevel(L.getReadOnlyMetricsFor(h)),U=x+.001*(we.lastSegmentFinishTimeMs-we.lastSegmentRequestTimeMs),z=Te(we,we.lastQuality),J=Math.max(0,z-U);we.placeholderBuffer=Math.min(J,we.placeholderBuffer)}we.lastSegmentWasReplacement&&!isNaN(we.lastSegmentDurationS)&&(we.placeholderBuffer+=we.lastSegmentDurationS),we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN}}function ae(we){if(we){var h=he[we.mediaType];h&&h.state!==W&&(h.abrQuality=we.newQuality)}}function me(we){if(we){var h=he[we.mediaType];if(h&&h.state!==W){var x=Z.getCurrentBufferLevel(L.getReadOnlyMetricsFor(we.mediaType)),U=void 0;U=h.abrQuality>0?ve(h,h.abrQuality):l;var z=Math.max(0,U-x);h.placeholderBuffer=Math.min(h.placeholderBuffer,z)}}}function Ce(we){var h=we.getMediaInfo(),x=we.getMediaType(),U=L.getReadOnlyMetricsFor(x),z=we.getStreamProcessor(),J=we.getStreamInfo(),ye=we.getAbrController(),We=ye.getThroughputHistory(),Fe=J?J.id:null,qe=J&&J.manifestInfo&&J.manifestInfo.isDynamic,Ye=we.useBufferOccupancyABR(),Xe=(0,v.default)(Pe).create();if(Xe.reason=Xe.reason||{},!Ye)return Xe;z.getScheduleController().setTimeToLoadDelay(0);var ht=be(we);if(ht.state===W)return N("BOLA ABR rule invoked for media type '"+x+"' with only one bitrate."),Xe;var It=Z.getCurrentBufferLevel(U),Ke=We.getAverageThroughput(x,qe),pt=We.getSafeAverageThroughput(x,qe),ct=We.getAverageLatency(x),nt=void 0;if(Xe.reason.state=ht.state,Xe.reason.throughput=Ke,Xe.reason.latency=ct,isNaN(Ke))return Xe;switch(ht.state){case H:nt=ye.getQualityForBitrate(h,pt,ct),Xe.quality=nt,Xe.reason.throughput=pt,ht.placeholderBuffer=Math.max(0,ve(ht,nt)-It),ht.lastQuality=nt,!isNaN(ht.lastSegmentDurationS)&&It>=ht.lastSegmentDurationS&&(ht.state=S);break;case S:fe(ht,x),nt=ie(ht,It+ht.placeholderBuffer);var Lt=ye.getQualityForBitrate(h,pt,ct);nt>ht.lastQuality&&nt>Lt&&(nt=Math.max(Lt,ht.lastQuality));var Ut=Math.max(0,It+ht.placeholderBuffer-Te(ht,nt));Ut<=ht.placeholderBuffer?(ht.placeholderBuffer-=Ut,Ut=0):(Ut-=ht.placeholderBuffer,ht.placeholderBuffer=0,nt<ye.getTopQualityIndexFor(x,Fe)?z.getScheduleController().setTimeToLoadDelay(1e3*Ut):Ut=0),Xe.quality=nt,Xe.reason.throughput=Ke,Xe.reason.latency=ct,Xe.reason.bufferLevel=It,Xe.reason.placeholderBuffer=ht.placeholderBuffer,Xe.reason.delay=Ut,ht.lastQuality=nt;break;default:N("BOLA ABR rule invoked in bad state."),Xe.quality=ye.getQualityForBitrate(h,pt,ct),Xe.reason.state=ht.state,Xe.reason.throughput=pt,Xe.reason.latency=ct,ht.state=H,ue(ht)}return Xe}function xe(){he={}}function ce(){xe(),ne.off(P.default.BUFFER_EMPTY,Ee,K),ne.off(P.default.PLAYBACK_SEEKING,Se,K),ne.off(P.default.PERIOD_SWITCH_STARTED,V,K),ne.off(P.default.MEDIA_FRAGMENT_LOADED,de,K),ne.off(P.default.METRIC_ADDED,Ae,K),ne.off(P.default.QUALITY_CHANGE_REQUESTED,ae,K),ne.off(P.default.FRAGMENT_LOADING_ABANDONED,me,K)}O=O||{};var Pe=this.context,N=(0,j.default)(Pe).getInstance().log,Z=O.dashMetrics,L=O.metricsModel,F=O.mediaPlayerModel,ne=(0,b.default)(Pe).getInstance(),K=void 0,he=void 0;return K={getMaxIndex:Ce,reset:ce},q(),K}Object.defineProperty(o,"__esModule",{value:!0});var y=t(99),c=u(y),_=t(122),v=u(_),E=t(48),m=u(E),w=t(179),A=t(47),b=u(A),D=t(51),P=u(D),R=t(46),j=u(R),W=0,H=1,S=2,l=10,Y=2,C=.99;p.__dashjs_factory_name="BolaRule",o.default=m.default.getClassFactory(p),d.exports=o.default},{122:122,179:179,46:46,47:47,48:48,51:51,99:99}],128:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(R){var j=R.getDroppedFramesHistory();if(j){for(var W=j.getFrameHistory(),H=0,S=0,l=v.default.NO_CHANGE,Y=1;Y<W.length;Y++)if(W[Y]&&(H=W[Y].droppedVideoFrames,(S=W[Y].totalVideoFrames)>P&&H/S>D)){l=Y-1,b("DroppedFramesRule, index: "+l+" Dropped Frames: "+H+" Total Frames: "+S);break}return(0,v.default)(A).create(l,{droppedFrames:H})}return(0,v.default)(A).create()}var A=this.context,b=(0,m.default)(A).getInstance().log,D=.15,P=375;return{getMaxIndex:w}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(122),v=u(_),E=t(46),m=u(E);p.__dashjs_factory_name="DroppedFramesRule",o.default=c.default.getClassFactory(p),d.exports=o.default},{122:122,46:46,48:48}],129:[function(t,d,o){"use strict";function u(j){return j&&j.__esModule?j:{default:j}}function p(j){function W(){Y(),re.on(m.default.PLAYBACK_SEEKING,C,be)}function H(){if(!(ue&&ue.hasOwnProperty("getReadOnlyMetricsFor")&&ee&&ee.hasOwnProperty("getCurrentBufferLevel")))throw new Error("Missing config parameter(s)")}function S(Te){var ve=(0,R.default)(Q).create();if(!Te||!Te.hasOwnProperty("getMediaType"))return ve;H();var fe=Te.getMediaType(),Ee=ue.getReadOnlyMetricsFor(fe),Se=Ee.BufferState.length>0?Ee.BufferState[Ee.BufferState.length-1]:null,V=Te.getRepresentationInfo(),de=V.fragmentDuration;if(!Se||!l(fe,Se)||!de)return ve;if(Se.state===c.default.BUFFER_EMPTY)pe("Switch to index 0; buffer is empty."),ve.quality=0,ve.reason="InsufficientBufferRule: Buffer is empty";else{var Ae=Te.getMediaInfo(),De=Te.getAbrController(),ae=De.getThroughputHistory(),me=ee.getCurrentBufferLevel(Ee),Ce=ae.getAverageThroughput(fe),xe=ae.getAverageLatency(fe),ce=Ce*(me/de)*q;ve.quality=De.getQualityForBitrate(Ae,ce,xe),ve.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ve}function l(Te,ve){ie[Te]=ie[Te]||{};var fe=!1;return ie[Te].firstBufferLoadedEvent?fe=!0:ve&&ve.state===c.default.BUFFER_LOADED&&(ie[Te].firstBufferLoadedEvent=!0,fe=!0),fe}function Y(){ie={}}function C(){Y()}function O(){Y(),re.off(m.default.PLAYBACK_SEEKING,C,be)}j=j||{};var q=.5,Q=this.context,pe=(0,D.default)(Q).getInstance().log,re=(0,v.default)(Q).getInstance(),ue=j.metricsModel,ee=j.dashMetrics,be=void 0,ie=void 0;return be={getMaxIndex:S,reset:O},W(),be}Object.defineProperty(o,"__esModule",{value:!0});var y=t(103),c=u(y),_=t(47),v=u(_),E=t(51),m=u(E),w=t(48),A=u(w),b=t(46),D=u(b),P=t(122),R=u(P);p.__dashjs_factory_name="InsufficientBufferRule",o.default=A.default.getClassFactory(p),d.exports=o.default},{103:103,122:122,46:46,47:47,48:48,51:51}],130:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(R){for(var j=R?R.getSwitchHistory():null,W=j?j.getSwitchRequests():[],H=0,S=0,l=0,Y=(0,m.default)(A).create(),C=0;C<W.length;C++)if(W[C]!==void 0&&(H+=W[C].drops,S+=W[C].noDrops,l+=W[C].dropSize,H+S>=P&&H/S>D)){Y.quality=C>0&&W[C].drops>0?C-1:C,Y.reason={index:Y.quality,drops:H,noDrops:S,dropSize:l},b("Switch history rule index: "+Y.quality+" samples: "+(H+S)+" drops: "+H);break}return Y}var A=this.context,b=(0,v.default)(A).getInstance().log,D=.075,P=6;return{getMaxIndex:w}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(46),v=u(_),E=t(122),m=u(E);p.__dashjs_factory_name="SwitchHistoryRule",o.default=c.default.getClassFactory(p),d.exports=o.default},{122:122,46:46,48:48}],131:[function(t,d,o){"use strict";function u(P){return P&&P.__esModule?P:{default:P}}function p(P){function R(){if(!l||!l.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error("Missing config parameter(s)")}function j(Y){var C=(0,D.default)(H).create();if(!(Y&&Y.hasOwnProperty("getMediaInfo")&&Y.hasOwnProperty("getMediaType")&&Y.hasOwnProperty("useBufferOccupancyABR")&&Y.hasOwnProperty("getAbrController")&&Y.hasOwnProperty("getStreamProcessor")))return C;R();var O=Y.getMediaInfo(),q=Y.getMediaType(),Q=l.getReadOnlyMetricsFor(q),pe=Y.getStreamProcessor(),re=Y.getAbrController(),ue=Y.getStreamInfo(),ee=ue&&ue.manifestInfo?ue.manifestInfo.isDynamic:null,be=re.getThroughputHistory(),ie=be.getSafeAverageThroughput(q,ee),Te=be.getAverageLatency(q),ve=Q.BufferState.length>0?Q.BufferState[Q.BufferState.length-1]:null,fe=Y.useBufferOccupancyABR();return!Q||isNaN(ie)||!ve||fe||re.getAbandonmentStateFor(q)!==v.default.ABANDON_LOAD&&(ve.state===c.default.BUFFER_LOADED||ee)&&(C.quality=re.getQualityForBitrate(O,ie,Te),pe.getScheduleController().setTimeToLoadDelay(0),S("ThroughputRule requesting switch to index: ",C.quality,"type: ",q,"Average throughput",Math.round(ie),"kbps"),C.reason={throughput:ie,latency:Te}),C}function W(){}P=P||{};var H=this.context,S=(0,A.default)(H).getInstance().log,l=P.metricsModel;return{getMaxIndex:j,reset:W}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(103),c=u(y),_=t(100),v=u(_),E=t(48),m=u(E),w=t(46),A=u(w),b=t(122),D=u(b);p.__dashjs_factory_name="ThroughputRule",o.default=m.default.getClassFactory(p),d.exports=o.default},{100:100,103:103,122:122,46:46,48:48}],132:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(E){function m(){}function w(H,S,l){return b.getCurrentBufferLevel(D.getReadOnlyMetricsFor(S))<A(H,S,l)}function A(H,S,l){var Y=NaN,C=H.getCurrentRepresentationInfo();if(S===c.default.FRAGMENTED_TEXT)Y=R.getAllTracksAreDisabled()?0:C.fragmentDuration;else if(S===c.default.AUDIO&&l){var O=b.getCurrentBufferLevel(D.getReadOnlyMetricsFor(c.default.VIDEO));Y=isNaN(C.fragmentDuration)?O:Math.max(O,C.fragmentDuration)}else{var q=C.mediaInfo.streamInfo;if(j.isPlayingAtTopQuality(q)){var Q=q.manifestInfo.duration>=P.getLongFormContentDurationThreshold();Y=Q?P.getBufferTimeAtTopQualityLongForm():P.getBufferTimeAtTopQuality()}else Y=P.getStableBufferTime()}return Y}E=E||{};var b=E.dashMetrics,D=E.metricsModel,P=E.mediaPlayerModel,R=E.textController,j=E.abrController,W={execute:w,getBufferTarget:A};return m(),W}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(48),v=u(_);p.__dashjs_factory_name="BufferLevelRule",o.default=v.default.getClassFactory(p),d.exports=o.default},{48:48,98:98}],133:[function(t,d,o){"use strict";function u(b){return b&&b.__esModule?b:{default:b}}function p(b){function D(H,S){var l=H.getCurrentRepresentationInfo(),Y=l.mediaInfo,C=Y.type,O=H.getScheduleController(),q=O.getSeekTarget(),Q=!isNaN(q),pe=H.getBufferController(),re=Q?q:j.getIndexHandlerTime(H);if(isNaN(re)||C===c.default.FRAGMENTED_TEXT&&W.getAllTracksAreDisabled())return null;if(Q&&O.setSeekTarget(NaN),pe){var ue=pe.getRangeAt(re);ue===null||Q||(R("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",C,".",re,"was changed to",ue.end),re=ue.end)}var ee=void 0;if(S)re=S.startTime+S.duration/2,ee=j.getFragmentRequestForTime(H,l,re,{timeThreshold:0,ignoreIsFinished:!0});else{for(ee=j.getFragmentRequestForTime(H,l,re,{keepIdx:!Q});ee&&ee.action!==A.default.ACTION_COMPLETE&&H.getFragmentModel().isFragmentLoaded(ee);)ee=j.getNextFragmentRequest(H,l);ee&&(isNaN(ee.startTime+ee.duration)||j.setIndexHandlerTime(H,ee.startTime+ee.duration),ee.delayLoadingTime=new Date().getTime()+O.getTimeToLoadDelay(),O.setTimeToLoadDelay(0))}return ee}b=b||{};var P=this.context,R=(0,v.default)(P).getInstance().log,j=b.adapter,W=b.textController;return{execute:D}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(46),v=u(_),E=t(48),m=u(E),w=t(162),A=u(w);p.__dashjs_factory_name="NextFragmentRequestRule",o.default=m.default.getClassFactory(p),d.exports=o.default},{162:162,46:46,48:48,98:98}],134:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(P){for(var R="",j=0;j<P.length;++j)R+=P[j].uchar;return R.length-R.replace(/^\s+/,"").length}function v(P){return"left: "+3.125*P.x+"%; top: "+6.66*P.y1+"%; width: "+(100-3.125*P.x)+"%; height: "+6.66*Math.max(P.y2-1-P.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function E(P){return P==="red"?"rgb(255, 0, 0)":P==="green"?"rgb(0, 255, 0)":P==="blue"?"rgb(0, 0, 255)":P==="cyan"?"rgb(0, 255, 255)":P==="magenta"?"rgb(255, 0, 255)":P==="yellow"?"rgb(255, 255, 0)":P==="white"?"rgb(255, 255, 255)":P==="black"?"rgb(0, 0, 0)":P}function m(P,R){var j=P.videoHeight/15;return R?"font-size: "+j+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(R.foreground?E(R.foreground):"rgb(255, 255, 255)")+"; font-style: "+(R.italics?"italic":"normal")+"; text-decoration: "+(R.underline?"underline":"none")+"; white-space: pre; background-color: "+(R.background?E(R.background):"transparent")+";":"font-size: "+j+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function w(P){return P.replace(/^\s+/g,"")}function A(P){return P.replace(/\s+$/g,"")}function b(P,R,j,W){var H=null,S=null,l=!1,Y=-1,C={start:R,end:j,spans:[]},O="style_cea608_white_black",q={},Q={},pe=[],re=void 0,ue=void 0;for(re=0;re<15;++re){var ee=W.rows[re],be="",ie=null;if(ee.isEmpty()===!1){var Te=_(ee.chars);H===null&&(H={x:Te,y1:re,y2:re+1,p:[]}),Te!==Y&&l&&(H.p.push(C),C={start:R,end:j,spans:[]},H.y2=re,H.name="region_"+H.x+"_"+H.y1+"_"+H.y2,q.hasOwnProperty(H.name)===!1?(pe.push(H),q[H.name]=H):(S=q[H.name],S.p.contat(H.p)),H={x:Te,y1:re,y2:re+1,p:[]});for(var ve=0;ve<ee.chars.length;++ve){var fe=ee.chars[ve],Ee=fe.penState;if(ie===null||!Ee.equals(ie)){be.trim().length>0&&(C.spans.push({name:O,line:be,row:re}),be="");var Se="style_cea608_"+Ee.foreground+"_"+Ee.background;Ee.underline&&(Se+="_underline"),Ee.italics&&(Se+="_italics"),Q.hasOwnProperty(Se)||(Q[Se]=JSON.parse(JSON.stringify(Ee))),ie=Ee,O=Se}be+=fe.uchar}be.trim().length>0&&C.spans.push({name:O,line:be,row:re}),l=!0,Y=Te}else l=!1,Y=-1,H&&(H.p.push(C),C={start:R,end:j,spans:[]},H.y2=re,H.name="region_"+H.x+"_"+H.y1+"_"+H.y2,q.hasOwnProperty(H.name)===!1?(pe.push(H),q[H.name]=H):(S=q[H.name],S.p.contat(H.p)),H=null)}H&&(H.p.push(C),H.y2=re+1,H.name="region_"+H.x+"_"+H.y1+"_"+H.y2,q.hasOwnProperty(H.name)===!1?(pe.push(H),q[H.name]=H):(S=q[H.name],S.p.contat(H.p)),H=null);var V=[];for(re=0;re<pe.length;++re){var de=pe[re],Ae="sub_cea608_"+D++,De=document.createElement("div");De.id=Ae;var ae=v(de);De.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ae;var me=document.createElement("div");me.className="paragraph bodyStyle",me.style.cssText=m(P);var Ce=document.createElement("div");Ce.className="cueUniWrapper",Ce.style.cssText="unicode-bidi: normal; direction: ltr;";for(var xe=0;xe<de.p.length;++xe){var ce=de.p[xe],Pe=0;for(ue=0;ue<ce.spans.length;++ue){var N=ce.spans[ue];if(N.line.length>0){if(ue!==0&&Pe!=N.row){var Z=document.createElement("br");Z.className="lineBreak",Ce.appendChild(Z)}var L=!1;Pe===N.row&&(L=!0),Pe=N.row;var F=Q[N.name],ne=document.createElement("span");ne.className="spanPadding "+N.name+" customSpanColor",ne.style.cssText=m(P,F),ue!==0&&L?ue===ce.spans.length-1?ne.textContent=A(N.line):ne.textContent=N.line:ce.spans.length>1&&ue<ce.spans.length-1&&N.row===ce.spans[ue+1].row?ne.textContent=w(N.line):ne.textContent=N.line.trim(),Ce.appendChild(ne)}}}me.appendChild(Ce),De.appendChild(me);var K={bodyStyle:["%",90]};for(ue in Q)Q.hasOwnProperty(ue)&&(K[ue]=["%",90]);V.push({type:"html",start:R,end:j,cueHTMLElement:De,cueID:Ae,cellResolution:[32,15],isFromCEA608:!0,regions:pe,regionID:de.name,videoHeight:P.videoHeight,videoWidth:P.videoWidth,fontSize:K,lineHeight:{},linePadding:{}})}return V}var D=0;return{createHTMLCaptionsFromScreen:b}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="EmbeddedTextHtmlRender",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],135:[function(t,d,o){"use strict";function u(S){return S&&S.__esModule?S:{default:S}}function p(S){function l(){N=!1,Z=null,F=null,Pe=!1,De.on(m.default.DATA_UPDATE_COMPLETED,Ee,ce),De.on(m.default.INIT_FRAGMENT_LOADED,Se,ce)}function Y(){return H}function C(K){pe(K),F=xe.getRepresentationController(),ne=(0,D.default)(Ae).getInstance()}function O(K){try{if(L=(0,R.default)(Ae).create(Z,K),!N){var he=L.getBuffer();he.hasOwnProperty(c.default.INITIALIZE)&&he.initialize(Ce,xe),N=!0}}catch{if(K.isText||K.codec.indexOf('codecs="stpp')!==-1||K.codec.indexOf('codecs="wvtt')!==-1)try{L=ae.getTextSourceBuffer()}catch{me.mediaSourceError("Error creating "+Ce+" source buffer.")}else me.mediaSourceError("Error creating "+Ce+" source buffer.")}}function q(){return Ce}function Q(){return L}function pe(K){Z=K}function re(){return Z}function ue(){return xe}function ee(){return!1}function be(){}function ie(){}function Te(){return 0}function ve(){return Pe}function fe(K){De.off(m.default.DATA_UPDATE_COMPLETED,Ee,ce),De.off(m.default.INIT_FRAGMENT_LOADED,Se,ce),!K&&L&&(L.abort(),L.reset(),L=null)}function Ee(K){K.sender.getStreamProcessor()===xe&&De.trigger(m.default.TIMED_TEXT_REQUESTED,{index:0,sender:K.sender})}function Se(K){K.fragmentModel===xe.getFragmentModel()&&K.chunk.bytes&&(ne.save(K.chunk),L.append(K.chunk))}function V(K,he){var we=ne.extract(K,he);we?L.append(we):De.trigger(m.default.INIT_REQUESTED,{sender:ce})}function de(){return null}S=S||{};var Ae=this.context,De=(0,v.default)(Ae).getInstance(),ae=(0,W.default)(Ae).getInstance(),me=S.errHandler,Ce=S.type,xe=S.streamProcessor,ce=void 0,Pe=void 0,N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0;return ce={getBufferControllerType:Y,initialize:C,createBuffer:O,getType:q,getStreamProcessor:ue,setSeekStartTime:ie,getBuffer:Q,getBufferLevel:Te,setMediaSource:pe,getMediaSource:re,getIsBufferingCompleted:ve,getIsPruningInProgress:ee,dischargePreBuffer:be,switchInitData:V,getRangeAt:de,reset:fe},l(),ce}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(47),v=u(_),E=t(51),m=u(E),w=t(48),A=u(w),b=t(149),D=u(b),P=t(93),R=u(P),j=t(137),W=u(j),H="NotFragmentedTextBufferController";p.__dashjs_factory_name=H,o.default=A.default.getClassFactory(p),d.exports=o.default},{137:137,149:149,47:47,48:48,51:51,93:93,98:98}],136:[function(t,d,o){"use strict";function u(b){return b&&b.__esModule?b:{default:b}}function p(b){function D(){Te=b.type===c.default.FRAGMENTED_TEXT?(0,m.default)(ie).create({type:b.type,metricsModel:b.metricsModel,mediaPlayerModel:b.mediaPlayerModel,manifestModel:b.manifestModel,errHandler:b.errHandler,streamController:b.streamController,mediaController:b.mediaController,adapter:b.adapter,textController:b.textController,abrController:b.abrController,playbackController:b.playbackController,streamProcessor:b.streamProcessor}):(0,A.default)(ie).create({type:b.type,errHandler:b.errHandler,streamProcessor:b.streamProcessor})}function P(){return Te.getBufferControllerType()}function R(fe,Ee){return Te.initialize(fe,Ee)}function j(fe){return Te.createBuffer(fe)}function W(){return Te.getType()}function H(){return Te.getBuffer()}function S(fe){Te.setBuffer(fe)}function l(){return Te.getMediaSource()}function Y(fe){Te.setMediaSource(fe)}function C(){Te.getStreamProcessor()}function O(fe){Te.setSeekStartTime(fe)}function q(){return Te.getBufferLevel()}function Q(fe){Te.reset(fe)}function pe(){return Te.getIsBufferingCompleted()}function re(fe,Ee){Te.switchInitData(fe,Ee)}function ue(){return Te.getIsPruningInProgress()}function ee(){return Te.dischargePreBuffer()}function be(fe){return Te.getRangeAt(fe)}b=b||{};var ie=this.context,Te=void 0,ve=void 0;return ve={getBufferControllerType:P,initialize:R,createBuffer:j,getType:W,getStreamProcessor:C,setSeekStartTime:O,getBuffer:H,setBuffer:S,getBufferLevel:q,setMediaSource:Y,getMediaSource:l,getIsBufferingCompleted:pe,getIsPruningInProgress:ue,dischargePreBuffer:ee,switchInitData:re,getRangeAt:be,reset:Q},D(),ve}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(48),v=u(_),E=t(103),m=u(E),w=t(135),A=u(w);p.__dashjs_factory_name="TextBufferController",o.default=v.default.getClassFactory(p),d.exports=o.default},{103:103,135:135,48:48,98:98}],137:[function(t,d,o){"use strict";function u(l){return l&&l.__esModule?l:{default:l}}function p(){function l(){L="",F=-1,ne=!0,ce=(0,A.default)(Se).getInstance(),Pe=(0,D.default)(Se).getInstance(),N=(0,R.default)(Se).getInstance(),de=(0,m.default)(Se).getInstance(),Z=(0,W.default)(Se).getInstance(),ce.initialize(),Z.on(S.default.TEXT_TRACKS_QUEUE_INITIALIZED,re,V),fe()}function Y(he){he&&(he.errHandler&&(Ae=he.errHandler),he.dashManifestModel&&(De=he.dashManifestModel),he.manifestModel&&(ae=he.manifestModel),he.mediaController&&(me=he.mediaController),he.videoModel&&(Ce=he.videoModel),he.streamController&&(xe=he.streamController),he.textTracks&&(ce=he.textTracks),he.vttParser&&(Pe=he.vttParser),he.ttmlParser&&(N=he.ttmlParser),de.setConfig({errHandler:Ae,dashManifestModel:De,manifestModel:ae,mediaController:me,videoModel:Ce,streamController:xe,textTracks:ce,vttParser:Pe,ttmlParser:N}))}function C(){return de}function O(){return K}function q(he){de.addEmbeddedTrack(he)}function Q(he){typeof he=="string"&&(L=he)}function pe(){return L}function re(he){var we=he.tracks,h=he.index,x=we.findIndex(function(U){return U.lang===L});x!==-1&&(this.setTextTrack(x),h=x),ne||this.setTextTrack(-1),F=h,Z.trigger(S.default.TEXT_TRACKS_ADDED,{enabled:!K,index:h,tracks:we})}function ue(he){typeof he=="boolean"&&(ne=he)}function ee(){return ne}function be(he){typeof he=="boolean"&&!K!==he&&(he&&this.setTextTrack(F),he||(F=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function ie(){return!K}function Te(he){var we=de.getConfig(),h=we.fragmentModel,x=we.fragmentedTracks,U=ce.getCurrentTrackIdx();if(U!==he){ce.setModeForTrackIdx(U,c.default.TEXT_HIDDEN),ce.setCurrentTrackIdx(he),ce.setModeForTrackIdx(he,c.default.TEXT_SHOWING);var z=ce.getCurrentTrackInfo();if(z&&z.isFragmented&&!z.isEmbedded)for(var J=0;J<x.length;J++){var ye=x[J];if(z.lang===ye.lang&&z.index===ye.index&&(!z.label||z.label===ye.id)){var We=me.getCurrentTrackFor(c.default.FRAGMENTED_TEXT,xe.getActiveStreamInfo());ye!==We&&(h.abortRequests(),h.removeExecutedRequestsBeforeTime(),de.remove(),ce.deleteCuesFromTrackIdx(U),me.setTrack(ye),de.setCurrentFragmentedTrackIdx(J))}}}K=he===-1}function ve(){return ce.getCurrentTrackIdx()}function fe(){K=!1}function Ee(){fe(),de.resetEmbedded()}var Se=this.context,V=void 0,de=void 0,Ae=void 0,De=void 0,ae=void 0,me=void 0,Ce=void 0,xe=void 0,ce=void 0,Pe=void 0,N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0,K=void 0;return V={setConfig:Y,getTextSourceBuffer:C,getAllTracksAreDisabled:O,addEmbeddedTrack:q,getTextDefaultLanguage:pe,setTextDefaultLanguage:Q,setTextDefaultEnabled:ue,getTextDefaultEnabled:ee,enableText:be,isTextEnabled:ie,setTextTrack:Te,getCurrentTrackIdx:ve,reset:Ee},l(),V}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(48),v=u(_),E=t(138),m=u(E),w=t(139),A=u(w),b=t(156),D=u(b),P=t(154),R=u(P),j=t(47),W=u(j),H=t(51),S=u(H);p.__dashjs_factory_name="TextController",o.default=v.default.getSingletonFactory(p),d.exports=o.default},{138:138,139:139,154:154,156:156,47:47,48:48,51:51,98:98}],138:[function(t,d,o){"use strict";function u(ie){return ie&&ie.__esModule?ie:{default:ie}}function p(){function ie(st,Ze){if(we=null,We=null,Fe=!1,qe=NaN,Ye=[],It=null,Z||fe(),z=Ze.getMediaInfoArr(),J.setConfig({videoModel:Xe}),J.initialize(),ye=!ne.getIsTextTrack(st),L=(0,b.default)(ce).getInstance(),U=(0,w.default)(ce).getInstance(),U.setConfig({boxParser:L}),ye){We=Ze.getFragmentModel(),this.buffered=(0,P.default)(ce).create(),Ye=he.getTracksFor(c.default.FRAGMENTED_TEXT,ht.getActiveStreamInfo());for(var et=he.getCurrentTrackFor(c.default.FRAGMENTED_TEXT,ht.getActiveStreamInfo()),At=0;At<Ye.length;At++)if(Ye[At]===et){Ke=At;break}}}function Te(){J.deleteAllTextTracks(),we=null,U=null,z=null,J=null,ye=!1,We=null,Fe=!1,qe=NaN,Ye=[],Xe=null,ht=null,Z=!1,pt=null}function ve(st){var Ze=st.chunk;Ze.mediaInfo.embeddedCaptions&&De(Ze.bytes,Ze)}function fe(){pt=[],z=[],J=(0,l.default)(ce).getInstance(),J.setConfig({videoModel:Xe}),J.initialize(),L=(0,b.default)(ce).getInstance(),U=(0,w.default)(ce).getInstance(),U.setConfig({boxParser:L}),ye=!1,Ke=null,ct=!1,nt=0,gt=[],Ut=[],Lt=null,Z=!0,Tt=(0,C.default)(ce).getInstance(),N.on(be.default.VIDEO_CHUNK_RECEIVED,ve,this)}function Ee(){N.off(be.default.VIDEO_CHUNK_RECEIVED,ve,this),J&&J.deleteAllTextTracks(),Z=!1,pt=[],gt=[null,null],Ut=[],Lt=null}function Se(st){Z||fe(),st.id===c.default.CC1||st.id===c.default.CC3?pt.push(st):Pe("Warning: Embedded track "+st.id+" not supported!")}function V(st){st&&(st.errHandler&&(F=st.errHandler),st.dashManifestModel&&(ne=st.dashManifestModel),st.manifestModel&&(K=st.manifestModel),st.mediaController&&(he=st.mediaController),st.videoModel&&(Xe=st.videoModel),st.streamController&&(ht=st.streamController),st.textTracks&&(J=st.textTracks),st.vttParser&&(h=st.vttParser),st.ttmlParser&&(x=st.ttmlParser))}function de(){return{errHandler:F,dashManifestModel:ne,mediaController:he,videoModel:Xe,fragmentModel:We,streamController:ht,textTracks:J,isFragmented:ye,embeddedTracks:pt,fragmentedTracks:Ye}}function Ae(st){Ke=st}function De(st,Ze){function et(ei,Xt){var ni=new E.default,li={subtitle:"subtitles",caption:"captions"},ai=function(){var Dt=Xt.roles.length>0?li[Xt.roles[0]]:li.caption;return Dt=Dt===li.caption||Dt===li.subtitle?Dt:li.caption},ci=function(){var Dt=!1;return Xt.codec&&Xt.codec.search(c.default.STPP)>=0&&(Dt=!0),Xt.mimeType&&Xt.mimeType.search(c.default.TTML)>=0&&(Dt=!0),Dt};ni.captionData=ei,ni.lang=Xt.lang,ni.label=Xt.id,ni.index=Xt.index,ni.isTTML=ci(),ni.defaultTrack=me(Xt),ni.isFragmented=ye,ni.isEmbedded=!!Xt.isEmbedded,ni.kind=ai(),ni.roles=Xt.roles;var Je=(z?z.length:0)+pt.length;J.addTextTrack(ni,Je)}var At=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0,Ft=void 0,Rt=void 0,se=Ze.mediaInfo,Be=se.type,e=se.mimeType,i=se.codec||e;if(!i)return void Pe("No text type defined");if(Be===c.default.FRAGMENTED_TEXT)if(Fe)if(Ft=U.getSamplesInfo(st),wt=Ft.sampleList,!It&&wt.length>0&&(It=wt[0].cts-Ze.start*qe),i.search(c.default.STPP)>=0)for(we=we!==null?we:Ce(i),lt=0;lt<wt.length;lt++){var n=wt[lt],r=n.cts,g=r-It;this.buffered.add(g/qe,(g+n.duration)/qe);var I=new DataView(st,n.offset,n.subSizes[0]);Rt=q.default.Utils.dataViewToString(I,c.default.UTF8);var B=[],G=n.offset+n.subSizes[0];for(ut=1;ut<n.subSizes.length;ut++){var oe=new Uint8Array(st,G,n.subSizes[ut]),Re=String.fromCharCode.apply(null,oe);B.push(Re),G+=n.subSizes[ut]}try{var Me=K.getValue(),je=Me.ttmlTimeIsRelative?r/qe:0;At=we.parse(Rt,je,r/qe,(r+n.duration)/qe,B),J.addCaptions(Ke,It/qe,At)}catch(ei){Pe("TTML parser error: "+ei.message)}}else{var ze=[];for(lt=0;lt<wt.length;lt++){var n=wt[lt];n.cts-=It,this.buffered.add(n.cts/qe,(n.cts+n.duration)/qe);var Ne=st.slice(n.offset,n.offset+n.size),Oe=q.default.parseBuffer(Ne);for(ut=0;ut<Oe.boxes.length;ut++){var tt=Oe.boxes[ut];if(Pe("VTT box1: "+tt.type),tt.type!=="vtte"&&tt.type==="vttc")for(Pe("VTT vttc boxes.length = "+tt.boxes.length),bt=0;bt<tt.boxes.length;bt++){var it=tt.boxes[bt];if(Pe("VTT box2: "+it.type),it.type==="payl"){var xt=it.cue_text;Pe("VTT cue_text = "+xt);var Ot=n.cts/qe,qt=(n.cts+n.duration)/qe;ze.push({start:Ot,end:qt,data:xt,styles:{}}),Pe("VTT "+Ot+"-"+qt+" : "+xt)}}}}ze.length>0&&J.addCaptions(Ke,0,ze)}else{for(Fe=!0,lt=0;lt<z.length;lt++)et(null,z[lt]);qe=U.getMediaTimescaleFromMoov(st)}else if(Be===c.default.TEXT){var I=new DataView(st,0,st.byteLength);Rt=q.default.Utils.dataViewToString(I,c.default.UTF8);try{At=Ce(i).parse(Rt,0),et(At,se)}catch(Xt){F.timedTextError(Xt,"parse",Rt)}}else if(Be===c.default.VIDEO)if(Ze.segmentType===_.HTTPRequest.INIT_SEGMENT_TYPE){if(nt===0)for(nt=U.getMediaTimescaleFromMoov(st),lt=0;lt<pt.length;lt++)et(null,pt[lt])}else{if(nt===0)return void Pe("CEA-608: No timescale for embeddedTextTrack yet");var zt=function(ei,Xt){function ni(li,ai,ci){var Je=null;Xe.getTTMLRenderingDiv()?Je=Tt.createHTMLCaptionsFromScreen(Xe.getElement(),li,ai,ci):Je=[{start:li,end:ai,data:ci.getDisplayText(),styles:{}}],Je&&J.addCaptions(Xt,0,Je)}return ni};Ft=U.getSamplesInfo(st);var Wt=Ft.lastSequenceNumber;if(!gt[0]&&!gt[1]){var Bt=void 0,rt=void 0;for(lt=0;lt<pt.length;lt++){if(pt[lt].id===c.default.CC1?rt=J.getTrackIdxForId(c.default.CC1):pt[lt].id===c.default.CC3&&(rt=J.getTrackIdxForId(c.default.CC3)),rt===-1)return void Pe("CEA-608: data before track is ready.");Bt=zt(this,rt),gt[lt]=new pe.default.Cea608Parser(lt,{newCue:Bt},null)}}if(nt&&Ut.indexOf(Wt)==-1){if(Lt!==null&&Wt!==Lt+Ft.numSequences)for(lt=0;lt<gt.length;lt++)gt[lt]&&gt[lt].reset();for(var Ct=ae(st,Ft.sampleList),Pt=0;Pt<gt.length;Pt++){var Gt=Ct.fields[Pt],Yt=gt[Pt];if(Yt)for(lt=0;lt<Gt.length;lt++)Yt.addData(Gt[lt][0]/nt,Gt[lt][1])}Lt=Wt,Ut.push(Wt)}}}function ae(st,Ze){if(Ze.length===0)return null;for(var et={splits:[],fields:[[],[]]},At=new DataView(st),wt=0;wt<Ze.length;wt++)for(var lt=Ze[wt],ut=pe.default.findCea608Nalus(At,lt.offset,lt.size),bt=null,Ft=0,Rt=0;Rt<ut.length;Rt++)for(var se=pe.default.extractCea608DataFromRange(At,ut[Rt]),Be=0;Be<2;Be++)se[Be].length>0&&(lt.cts!==bt?Ft=0:Ft+=1,et.fields[Be].push([lt.cts,se[Be],Ft]),bt=lt.cts);return et.fields.forEach(function(e){e.sort(function(i,n){return i[0]===n[0]?i[2]-n[2]:i[0]-n[0]})}),et}function me(st){var Ze=!1;return pt.length>1&&st.isEmbedded?Ze=st.id&&st.id===c.default.CC1:pt.length===1?st.id&&st.id.substring(0,2)==="CC"&&(Ze=!0):pt.length===0&&(Ze=st.index===z[0].index),Ze}function Ce(st){var Ze=void 0;return st.search(c.default.VTT)>=0?Ze=h:(st.search(c.default.TTML)>=0||st.search(c.default.STPP)>=0)&&(Ze=x),Ze}function xe(st,Ze){st===void 0&&st===Ze&&(st=this.buffered.start(0),Ze=this.buffered.end(this.buffered.length-1)),this.buffered.remove(st,Ze)}var ce=this.context,Pe=(0,H.default)(ce).getInstance().log,N=(0,ue.default)(ce).getInstance(),Z=!1,L=void 0,F=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,h=void 0,x=void 0,U=void 0,z=void 0,J=void 0,ye=void 0,We=void 0,Fe=void 0,qe=void 0,Ye=void 0,Xe=void 0,ht=void 0,It=void 0,Ke=void 0,pt=void 0,ct=void 0,nt=void 0,Lt=void 0,Ut=void 0,gt=void 0,Tt=void 0;return{initialize:ie,append:De,abort:Te,addEmbeddedTrack:Se,resetEmbedded:Ee,setConfig:V,getConfig:de,setCurrentFragmentedTrackIdx:Ae,remove:xe}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(179),v=t(171),E=u(v),m=t(71),w=u(m),A=t(143),b=u(A),D=t(145),P=u(D),R=t(48),j=u(R),W=t(46),H=u(W),S=t(139),l=u(S),Y=t(134),C=u(Y),O=t(10),q=u(O),Q=t(2),pe=u(Q),re=t(47),ue=u(re),ee=t(51),be=u(ee);p.__dashjs_factory_name="TextSourceBuffer",o.default=j.default.getSingletonFactory(p),d.exports=o.default},{10:10,134:134,139:139,143:143,145:145,171:171,179:179,2:2,46:46,47:47,48:48,51:51,71:71,98:98}],139:[function(t,d,o){"use strict";function u(R){return R&&R.__esModule?R:{default:R}}function p(){function R(){typeof window!="undefined"&&typeof navigator!="undefined"&&(me=window.VTTCue||window.TextTrackCue,xe=[],ce=[],Pe=-1,N=0,Z=0,L=0,F=0,ne=null,K=null,h=!1,U=2147483647,x=null,he=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),document.fullscreenElement!==void 0?we="fullscreenElement":document.webkitIsFullScreen!==void 0?we="webkitIsFullScreen":document.msFullscreenElement?we="msFullscreenElement":document.mozFullScreen&&(we="mozFullScreen"))}function j(z){var J=xe[z].kind,ye=xe[z].label!==void 0?xe[z].label:xe[z].lang,We=xe[z].lang,Fe=xe[z].isTTML,qe=xe[z].isEmbedded,Ye=he?document.createElement("track"):Ce.addTextTrack(J,ye,We);return he&&(Ye.kind=J,Ye.label=ye,Ye.srclang=We),Ye.isEmbedded=qe,Ye.isTTML=Fe,Ye}function W(z){h=z,ne&&!document[we]&&(ne.style.zIndex=z?U:null)}function H(z,J){if(xe.length===J)return void ae("Trying to add too many tracks.");if(xe.push(z),xe.length===J){xe.sort(function(ht,It){return ht.index-It.index}),ne=Ce.getTTMLRenderingDiv();for(var ye=-1,We=0;We<xe.length;We++){var Fe=j.call(this,We);ce.push(Fe),xe[We].defaultTrack&&(Fe.default=!0,ye=We),he&&Ce.appendChild(Fe);var qe=q(We);qe&&(qe.mode=c.default.TEXT_SHOWING,ne&&(xe[We].isTTML||xe[We].isEmbedded)?qe.renderingType="html":qe.renderingType="default"),this.addCaptions(We,0,xe[We].captionData),De.trigger(m.default.TEXT_TRACK_ADDED)}if(re.call(this,ye),ye>=0)for(var Ye=0;Ye<xe.length;Ye++){var Xe=q(Ye);Xe&&(Xe.mode=Ye===ye?c.default.TEXT_SHOWING:c.default.TEXT_HIDDEN)}De.trigger(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Pe,tracks:xe})}}function S(z,J,ye,We,Fe,qe){var Ye=z/J,Xe=ye/We,ht=0,It=0;Ye>Xe?(It=J,ht=It/We*ye):(ht=z,It=ht/ye*We);var Ke=0,pt=0,ct=0,nt=0;return ht/It>Fe?(nt=It,ct=It*Fe):(ct=ht,nt=ht/Fe),Ke=(z-ct)/2,pt=(J-nt)/2,qe?{x:Ke+.1*ct,y:pt+.1*nt,w:.8*ct,h:.8*nt}:{x:Ke,y:pt,w:ct,h:nt}}function l(z,J){var ye=Ce.getClientWidth(),We=Ce.getClientHeight(),Fe=Ce.getVideoWidth(),qe=Ce.getVideoHeight(),Ye=Ce.getVideoRelativeOffsetTop(),Xe=Ce.getVideoRelativeOffsetLeft(),ht=Fe/qe,It=!1;z.isFromCEA608&&(ht=3.5/3,It=!0);var Ke=S.call(this,ye,We,Fe,qe,ht,It),pt=Ke.w,ct=Ke.h,nt=Ke.x,Lt=Ke.y;if(pt!=L||ct!=F||nt!=N||Lt!=Z||J){N=nt+Xe,Z=Lt+Ye,L=pt,F=ct,ne.style.left=N+"px",ne.style.top=Z+"px",ne.style.width=L+"px",ne.style.height=F+"px";for(var Ut=0;z.activeCues&&Ut<z.activeCues.length;++Ut){var gt=z.activeCues[Ut];gt.scaleCue(gt)}we&&document[we]||h?ne.style.zIndex=U:ne.style.zIndex=null}}function Y(z){var J=L,ye=F,We=void 0,Fe=void 0,qe=void 0,Ye=void 0,Xe=void 0;if(z.cellResolution){var ht=[J/z.cellResolution[0],ye/z.cellResolution[1]];if(z.linePadding){for(We in z.linePadding)if(z.linePadding.hasOwnProperty(We)){var It=z.linePadding[We];Fe=(It*ht[0]).toString();for(var Ke=document.getElementsByClassName("spanPadding"),pt=0;pt<Ke.length;pt++)Ke[pt].style.cssText=Ke[pt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Fe),Ke[pt].style.cssText=Ke[pt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Fe)}}if(z.fontSize){for(We in z.fontSize)if(z.fontSize.hasOwnProperty(We)){z.fontSize[We][0]==="%"?qe=z.fontSize[We][1]/100:z.fontSize[We][0]==="c"&&(qe=z.fontSize[We][1]),Fe=(qe*ht[1]).toString(),Xe=We!=="defaultFontSize"?document.getElementsByClassName(We):document.getElementsByClassName("paragraph");for(var ct=0;ct<Xe.length;ct++)Xe[ct].style.cssText=Xe[ct].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Fe)}if(z.lineHeight){for(We in z.lineHeight)if(z.lineHeight.hasOwnProperty(We)){z.lineHeight[We][0]==="%"?Ye=z.lineHeight[We][1]/100:z.fontSize[We][0]==="c"&&(Ye=z.lineHeight[We][1]),Fe=(Ye*ht[1]).toString(),Xe=document.getElementsByClassName(We);for(var nt=0;nt<Xe.length;nt++)Xe[nt].style.cssText=Xe[nt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Fe)}}}}if(z.isd){var Lt=document.getElementById(z.cueID);Lt&&ne.removeChild(Lt),C(z)}}function C(z){var J=document.createElement("div");ne.appendChild(J),x=(0,P.renderHTML)(z.isd,J,function(ye){var We=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Fe=/^#(.*)$/;if(We.test(ye)){var qe=We.exec(ye),Ye=parseInt(qe[4],10)-1,Xe=btoa(z.images[Ye]),ht="data:image/png;base64,"+Xe;return ht}if(Fe.test(ye)){var qe=Fe.exec(ye),Ye=qe[1],ht="data:image/png;base64,"+z.embeddedImages[Ye];return ht}return null},ne.clientHeight,ne.clientWidth,!1,function(ye){ae("[TextTracks][renderCaption]",ye)},x,!0),J.id=z.cueID}function O(z,J,ye){var We=q(z),Fe=this;if(We&&ye&&ye.length!==0)for(var qe in ye){var Ye=void 0,Xe=ye[qe];We.cellResolution=Xe.cellResolution,We.isFromCEA608=Xe.isFromCEA608,Xe.type==="html"?(Ye=new me(Xe.start-J,Xe.end-J,""),Ye.cueHTMLElement=Xe.cueHTMLElement,Ye.isd=Xe.isd,Ye.images=Xe.images,Ye.embeddedImages=Xe.embeddedImages,Ye.cueID=Xe.cueID,Ye.scaleCue=Y.bind(Fe),Ye.cellResolution=Xe.cellResolution,Ye.lineHeight=Xe.lineHeight,Ye.linePadding=Xe.linePadding,Ye.fontSize=Xe.fontSize,ne.style.left=N+"px",ne.style.top=Z+"px",ne.style.width=L+"px",ne.style.height=F+"px",Ye.onenter=function(){We.mode===c.default.TEXT_SHOWING&&(this.isd?(C(this),ae("Cue enter id:"+this.cueID)):(ne.appendChild(this.cueHTMLElement),Y.call(Fe,this)))},Ye.onexit=function(){for(var ht=ne.childNodes,It=0;It<ht.length;++It)ht[It].id===this.cueID&&(ae("Cue exit id:"+ht[It].id),ne.removeChild(ht[It]))}):(Ye=new me(Xe.start-J,Xe.end-J,Xe.data),Xe.styles&&(Xe.styles.align!==void 0&&"align"in Ye&&(Ye.align=Xe.styles.align),Xe.styles.line!==void 0&&"line"in Ye&&(Ye.line=Xe.styles.line),Xe.styles.position!==void 0&&"position"in Ye&&(Ye.position=Xe.styles.position),Xe.styles.size!==void 0&&"size"in Ye&&(Ye.size=Xe.styles.size))),We.addCue(Ye)}}function q(z){return z>=0&&xe[z]?Ce.getTextTrack(xe[z].kind,xe[z].label,xe[z].lang,xe[z].isTTML,xe[z].isEmbedded):null}function Q(){return Pe}function pe(z){for(var J=-1,ye=0;ye<xe.length;ye++)if(xe[ye].label===z){J=ye;break}return J}function re(z){if(z!==Pe){Pe=z;var J=q(Pe);ue.call(this,J),K&&(clearInterval(K),K=null),J&&J.renderingType==="html"&&(l.call(this,J,!0),K=setInterval(l.bind(this,J),500))}}function ue(z){Ee.call(this),z&&z.renderingType==="html"?ve.call(this):fe.call(this)}function ee(z){if(z.cues)for(var J=z.cues,ye=J.length-1,We=ye;We>=0;We--)z.removeCue(J[We])}function be(z){var J=q(z);J&&ee(J)}function ie(){for(var z=ce?ce.length:0,J=0;J<z;J++)if(he)Ce.removeChild(ce[J]);else{var ye=q(J);ye&&(ee.call(this,ye),ye.mode="disabled")}ce=[],xe=[],K&&(clearInterval(K),K=null),Pe=-1,Ee.call(this)}function Te(z){Ce.removeChild(ce[z]),ce.splice(z,1)}function ve(){if(he){var z=document.getElementById("native-cue-style");if(!z){z=document.createElement("style"),z.id="native-cue-style",document.head.appendChild(z);var J=z.sheet,ye=Ce.getElement();ye&&(ye.id?J.insertRule("#"+ye.id+"::cue {background: transparent}",0):ye.classList.length!==0?J.insertRule("."+ye.className+"::cue {background: transparent}",0):J.insertRule("video::cue {background: transparent}",0))}}}function fe(){if(he){var z=document.getElementById("native-cue-style");z&&document.head.removeChild(z)}}function Ee(){if(ne)for(;ne.firstChild;)ne.removeChild(ne.firstChild)}function Se(z){z&&z.videoModel&&(Ce=z.videoModel)}function V(z,J){var ye=q(z);ye&&ye.mode!==J&&(ye.mode=J)}function de(){return xe[Pe]}var Ae=this.context,De=(0,v.default)(Ae).getInstance(),ae=(0,D.default)(Ae).getInstance().log,me=void 0,Ce=void 0,xe=void 0,ce=void 0,Pe=void 0,N=void 0,Z=void 0,L=void 0,F=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,h=void 0,x=void 0,U=void 0;return{initialize:R,displayCConTop:W,addTextTrack:H,addCaptions:O,getCurrentTrackIdx:Q,setCurrentTrackIdx:re,getTrackIdxForId:pe,getCurrentTrackInfo:de,setModeForTrackIdx:V,deleteCuesFromTrackIdx:be,deleteAllTextTracks:ie,deleteTextTrack:Te,setConfig:Se}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(47),v=u(_),E=t(51),m=u(E),w=t(48),A=u(w),b=t(46),D=u(b),P=t(18);p.__dashjs_factory_name="TextTracks",o.default=A.default.getSingletonFactory(p),d.exports=o.default},{18:18,46:46,47:47,48:48,51:51,98:98}],140:[function(t,d,o){"use strict";function u(R){return R&&R.__esModule?R:{default:R}}function p(R){function j(){C(),Q=(0,A.default)(O).create({dashManifestModel:R.dashManifestModel,adapter:R.adapter,baseURLController:R.baseURLController,stream:R.stream})}function W(pe){var re=Q.getCurrentTrack();if(!re||re.segmentDuration<=0)return null;var ue=Math.floor(pe/re.segmentDuration),ee=pe%re.segmentDuration,be=Math.floor(ee*re.tilesHor*re.tilesVert/re.segmentDuration),ie=new m.default;return ie.url=H(re,ue),ie.width=Math.floor(re.widthPerTile),ie.height=Math.floor(re.heightPerTile),ie.x=Math.floor(be%re.tilesHor)*re.widthPerTile,ie.y=Math.floor(be/re.tilesHor)*re.heightPerTile,ie}function H(pe,re){var ue=re+pe.startNumber,ee=(0,P.replaceTokenForTemplate)(pe.templateUrl,"Number",ue);return ee=(0,P.replaceTokenForTemplate)(ee,"Time",(ue-1)*pe.segmentDuration),ee=(0,P.replaceTokenForTemplate)(ee,"Bandwidth",pe.bandwidth),(0,P.unescapeDollarsInTemplate)(ee)}function S(pe){Q.setTrackByIndex(pe)}function l(){return Q.getCurrentTrackIndex()}function Y(){var pe=Q.getTracks();if(!pe||pe.length===0)return[];var re=0;return pe.map(function(ue){var ee=new D.default;return ee.mediaType=v.default.IMAGE,ee.qualityIndex=re++,ee.bitrate=ue.bitrate,ee.width=ue.width,ee.height=ue.height,ee})}function C(){Q&&Q.reset()}var O=this.context,q=void 0,Q=void 0;return q={get:W,setTrackByIndex:S,getCurrentTrackIndex:l,getBitrateList:Y,reset:C},j(),q}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(98),v=u(_),E=t(172),m=u(E),w=t(141),A=u(w),b=t(159),D=u(b),P=t(74);p.__dashjs_factory_name="ThumbnailController",o.default=c.default.getClassFactory(p),d.exports=o.default},{141:141,159:159,172:172,48:48,74:74,98:98}],141:[function(t,d,o){"use strict";function u(j){return j&&j.__esModule?j:{default:j}}function p(j){function W(){Q(),H()}function H(){if(be&&re&&ue){var Ee=be?be.getStreamInfo():null;if(Ee){var Se=ue.getMediaInfoForType(Ee,c.default.IMAGE);if(Se){var V=ue.getDataForMedia(Se);if(V){var de=re.getRepresentationsForAdaptation(V);de&&de.length>0&&de.forEach(function(Ae){Ae.segmentInfoType===v.default.SEGMENT_TEMPLATE&&Ae.segmentDuration>0&&Ae.media&&S(Ae)}),ve.length>0&&(ve.sort(function(Ae,De){return Ae.bitrate-De.bitrate}),fe=ve.length-1)}}}}}function S(Ee){var Se=new A.default;Se.id=Ee.id,Se.bitrate=Ee.bandwidth,Se.width=Ee.width,Se.height=Ee.height,Se.tilesHor=1,Se.tilesVert=1,Se.startNumber=Ee.startNumber,Se.segmentDuration=Ee.segmentDuration,Se.timescale=Ee.timescale,Se.templateUrl=l(Ee),Ee.essentialProperties&&Ee.essentialProperties.forEach(function(V){if(V.schemeIdUri===R&&V.value){var de=V.value.split("x");de.length!==2||isNaN(de[0])||isNaN(de[1])||(Se.tilesHor=parseInt(de[0],10),Se.tilesVert=parseInt(de[1],10))}}),Se.tilesHor>0&&Se.tilesVert>0&&(Se.widthPerTile=Se.width/Se.tilesHor,Se.heightPerTile=Se.height/Se.tilesVert,ve.push(Se))}function l(Ee){var Se=ie.isRelative(Ee.media)?ie.resolve(Ee.media,ee.resolve(Ee.path).url):Ee.media;return Se?(0,P.replaceIDForTemplate)(Se,Ee.id):""}function Y(){return ve}function C(){return fe}function O(){return fe<0?null:ve[fe]}function q(Ee){ve&&ve.length!==0&&(Ee>=ve.length&&(Ee=ve.length-1),fe=Ee)}function Q(){ve=[],fe=-1}var pe=this.context,re=j.dashManifestModel,ue=j.adapter,ee=j.baseURLController,be=j.stream,ie=(0,D.default)(pe).getInstance(),Te=void 0,ve=void 0,fe=void 0;return Te={initialize:W,getTracks:Y,reset:Q,setTrackByIndex:q,getCurrentTrack:O,getCurrentTrackIndex:C},W(),Te}Object.defineProperty(o,"__esModule",{value:!0});var y=t(98),c=u(y),_=t(58),v=u(_),E=t(48),m=u(E),w=t(173),A=u(w),b=t(155),D=u(b),P=t(74),R="http://dashif.org/thumbnail_tile";p.__dashjs_factory_name="ThumbnailTracks",o.default=m.default.getClassFactory(p),d.exports=o.default},{155:155,173:173,48:48,58:58,74:74,98:98}],142:[function(t,d,o){"use strict";function u(S){return S&&S.__esModule?S:{default:S}}function p(){function S(){ee=(0,m.default)(Q).create({updateEventName:v.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:v.default.SERVICE_LOCATION_BLACKLIST_ADD}),be=(0,D.default)(Q).create({blacklistController:ee}),ie=(0,A.default)(Q).create({blacklistController:ee}),Te=be}function l(ve){ve.selector&&(Te=ve.selector),ve.dashManifestModel&&(re=ve.dashManifestModel)}function Y(){if(!re||!re.hasOwnProperty("getIsDVB"))throw new Error("Missing config parameter(s)")}function C(ve){Y(),Te=re.getIsDVB(ve)?ie:be}function O(ve){var fe=ve.baseUrls,Ee=ve.selectedIdx;if(!isNaN(Ee))return fe[Ee];var Se=Te.select(fe);return Se?(ve.selectedIdx=fe.indexOf(Se),Se):void pe.trigger(v.default.URL_RESOLUTION_FAILED,{error:new Error(j,W)})}function q(){ee.reset()}var Q=this.context,pe=(0,c.default)(Q).getInstance(),re=void 0,ue=void 0,ee=void 0,be=void 0,ie=void 0,Te=void 0;return ue={chooseSelectorFromManifest:C,select:O,reset:q,setConfig:l},S(),ue}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(102),m=u(E),w=t(158),A=u(w),b=t(157),D=u(b),P=t(48),R=u(P),j=1,W="Failed to resolve a valid URL";p.__dashjs_factory_name="BaseURLSelector";var H=R.default.getClassFactory(p);H.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=j,H.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=W,R.default.updateClassFactory(p.__dashjs_factory_name,H),o.default=H,d.exports=o.default},{102:102,157:157,158:158,47:47,48:48,51:51}],143:[function(t,d,o){"use strict";function u(w){return w&&w.__esModule?w:{default:w}}function p(){function w(b){if(!b)return null;b.fileStart===void 0&&(b.fileStart=0);var D=m.default.parseBuffer(b),P=(0,c.default)(A).create();return P.setData(D),P}var A=this.context;return{parse:w}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(150),c=u(y),_=t(48),v=u(_),E=t(10),m=u(E);p.__dashjs_factory_name="BoxParser",o.default=v.default.getSingletonFactory(p),d.exports=o.default},{10:10,150:150,48:48}],144:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(){b=!1}function v(){var D="WebKitMediaSource"in window,P="MediaSource"in window;return D||P}function E(){return b}function m(D){b=D}function w(D){return!!("MediaSource"in window&&MediaSource.isTypeSupported(D))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(D))}var A=void 0,b=void 0;return A={supportsMediaSource:v,supportsEncryptedMedia:E,supportsCodec:w,setEncryptedMediaSupported:m},_(),A}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="Capabilities",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],145:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(D,P){var R=0;for(R=0;R<this.customTimeRangeArray.length&&D>this.customTimeRangeArray[R].start;R++);for(this.customTimeRangeArray.splice(R,0,{start:D,end:P}),R=0;R<this.customTimeRangeArray.length-1;R++)this.mergeRanges(R,R+1)&&R--;this.length=this.customTimeRangeArray.length}function v(){this.customTimeRangeArray=[],this.length=0}function E(D,P){for(var R=0;R<this.customTimeRangeArray.length;R++)if(D<=this.customTimeRangeArray[R].start&&P>=this.customTimeRangeArray[R].end)this.customTimeRangeArray.splice(R,1),R--;else{if(D>this.customTimeRangeArray[R].start&&P<this.customTimeRangeArray[R].end){this.customTimeRangeArray.splice(R+1,0,{start:P,end:this.customTimeRangeArray[R].end}),this.customTimeRangeArray[R].end=D;break}D>this.customTimeRangeArray[R].start&&D<this.customTimeRangeArray[R].end?this.customTimeRangeArray[R].end=D:P>this.customTimeRangeArray[R].start&&P<this.customTimeRangeArray[R].end&&(this.customTimeRangeArray[R].start=P)}this.length=this.customTimeRangeArray.length}function m(D,P){var R=this.customTimeRangeArray[D],j=this.customTimeRangeArray[P];return R.start<=j.start&&j.start<=R.end&&R.end<=j.end?(R.end=j.end,this.customTimeRangeArray.splice(P,1),!0):j.start<=R.start&&R.start<=j.end&&j.end<=R.end?(R.start=j.start,this.customTimeRangeArray.splice(P,1),!0):j.start<=R.start&&R.start<=j.end&&R.end<=j.end?(this.customTimeRangeArray.splice(D,1),!0):R.start<=j.start&&j.start<=R.end&&j.end<=R.end&&(this.customTimeRangeArray.splice(P,1),!0)}function w(D){if(D===null||isNaN(D)||D%1!=0)throw new Error("index argument is not an integer")}function A(D){return w(D),D>=this.customTimeRangeArray.length||D<0?NaN:this.customTimeRangeArray[D].start}function b(D){return w(D),D>=this.customTimeRangeArray.length||D<0?NaN:this.customTimeRangeArray[D].end}return{customTimeRangeArray:[],length:0,add:_,clear:v,remove:E,mergeRanges:m,start:A,end:b}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="CustomTimeRanges",o.default=c.default.getClassFactory(p),d.exports=o.default},{48:48}],146:[function(t,d,o){"use strict";function u(j){return j&&j.__esModule?j:{default:j}}function p(j){function W(Te){if(ie!==void 0)return ie;ie=!1;var ve="1",fe="1",Ee=void 0;try{typeof window!="undefined"&&(Ee=window[Te])}catch(Se){return ue("Warning: DOMStorage access denied: "+Se.message),ie}if(!Ee||Te!==A&&Te!==b)return ie;try{Ee.setItem(ve,fe),Ee.removeItem(ve),ie=!0}catch(Se){ue("Warning: DOMStorage is supported, but cannot be used: "+Se.message)}return ie}function H(){W(A)&&E.forEach(function(Te){var ve=localStorage.getItem(Te.oldKey);if(ve){localStorage.removeItem(Te.oldKey);try{localStorage.setItem(Te.newKey,ve)}catch(fe){ue(fe.message)}}})}function S(){H()}function l(){var Te=6e5;return Math.round(new Date().getTime()/Te)*Te}function Y(Te,ve){return W(Te)&&ee["get"+ve+"CachingInfo"]().enabled}function C(){if(!ee||!ee.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error("Missing config parameter(s)")}function O(Te){if(C(),!Y(A,P))return null;var ve=null,fe=w.replace(/\?/,Te);try{var Ee=JSON.parse(localStorage.getItem(fe))||{},Se=new Date().getTime()-parseInt(Ee.timestamp,10)>=ee.getLastMediaSettingsCachingInfo().ttl||!1;ve=Ee.settings,Se&&(localStorage.removeItem(fe),ve=null)}catch{return null}return ve}function q(Te){var ve=NaN;if(C(),Y(A,D)){var fe=m.replace(/\?/,Te);try{var Ee=JSON.parse(localStorage.getItem(fe))||{},Se=new Date().getTime()-parseInt(Ee.timestamp,10)>=ee.getLastMediaSettingsCachingInfo().ttl||!1,V=parseFloat(Ee.bitrate);isNaN(V)||Se?Se&&localStorage.removeItem(fe):(ve=V,ue("Last saved bitrate for "+Te+" was "+V))}catch{return null}}return ve}function Q(Te,ve){if(Y(A,P)){var fe=w.replace(/\?/,Te);try{localStorage.setItem(fe,JSON.stringify({settings:ve,timestamp:l()}))}catch(Ee){ue(Ee.message)}}}function pe(Te,ve){if(Y(A,D)&&ve){var fe=m.replace(/\?/,Te);try{localStorage.setItem(fe,JSON.stringify({bitrate:ve.toFixed(3),timestamp:l()}))}catch(Ee){ue(Ee.message)}}}j=j||{};var re=this.context,ue=(0,v.default)(re).getInstance().log,ee=j.mediaPlayerModel,be=void 0,ie=void 0;return be={getSavedBitrateSettings:q,setSavedBitrateSettings:pe,getSavedMediaSettings:O,setSavedMediaSettings:Q},S(),be}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(46),v=u(_),E=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],m="dashjs_?_bitrate",w="dashjs_?_settings",A="localStorage",b="sessionStorage",D="LastBitrate",P="LastMediaSettings";p.__dashjs_factory_name="DOMStorage";var R=c.default.getSingletonFactory(p);o.default=R,d.exports=o.default},{46:46,48:48}],147:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(_){function v(){return S}function E(l){S=l}function m(l,Y){var C=!0,O=0,q=void 0,Q=void 0;if(Y===void 0&&(Y=!1),l.tag>16777215?(H.getUint32(S)!==l.tag&&(C=!1),O=4):l.tag>65535?(q=H.getUint16(S),Q=H.getUint8(S+2),256*q+Q!==l.tag&&(C=!1),O=3):l.tag>255?(H.getUint16(S)!==l.tag&&(C=!1),O=2):(H.getUint8(S)!==l.tag&&(C=!1),O=1),!C&&l.required&&!Y)throw new Error("required tag not found");return C&&(S+=O),C}function w(l,Y){var C=m(l,Y);return C&&D(),C}function A(l){var Y=void 0;return m(l),Y=D(),W[l.parse](Y)}function b(l,Y){var C=m(l,Y),O=void 0;return C&&(O=D(),S+=O),C}function D(l){var Y=1,C=128,O=8,q=-1,Q=0,pe=H.getUint8(S),re=0;for(re=0;re<O;re+=1){if((pe&C)===C){Q=l===void 0?pe&~C:pe,q=re;break}C>>=1}for(re=0;re<q;re+=1,Y+=1)Q=Q<<8|255&H.getUint8(S+Y);return S+=Y,Q}function P(l){var Y=void 0;switch(l){case 4:Y=H.getFloat32(S),S+=4;break;case 8:Y=H.getFloat64(S),S+=8}return Y}function R(l){for(var Y=0,C=0;C<l;C+=1)Y<<=8,Y|=255&H.getUint8(S+C);return S+=l,Y}function j(){return S<H.byteLength}_=_||{};var W=void 0,H=new DataView(_.data),S=0;return W={getPos:v,setPos:E,consumeTag:m,consumeTagAndSize:w,parseTag:A,skipOverElement:b,getMatroskaCodedNum:D,getMatroskaFloat:P,getMatroskaUint:R,moreData:j}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="EBMLParser",o.default=c.default.getClassFactory(p),d.exports=o.default},{48:48}],148:[function(t,d,o){"use strict";function u(C){return C&&C.__esModule?C:{default:C}}function p(){function C(ie){be.trigger(v.default.ERROR,{error:"capability",event:ie})}function O(ie,Te,ve){be.trigger(v.default.ERROR,{error:"download",event:{id:ie,url:Te,request:ve}})}function q(ie,Te,ve,fe){be.trigger(v.default.ERROR,{error:"manifestError",event:{message:ie,id:Te,manifest:ve,event:fe}})}function Q(ie,Te,ve){be.trigger(v.default.ERROR,{error:"cc",event:{message:ie,id:Te,cc:ve}})}function pe(ie){be.trigger(v.default.ERROR,{error:"mediasource",event:ie})}function re(ie){be.trigger(v.default.ERROR,{error:"key_session",event:ie})}function ue(ie){be.trigger(v.default.ERROR,{error:"key_message",event:ie})}var ee=this.context,be=(0,c.default)(ee).getInstance();return{capabilityError:C,downloadError:O,manifestError:q,timedTextError:Q,mediaSourceError:pe,mediaKeySessionError:re,mediaKeyMessageError:ue}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(47),c=u(y),_=t(51),v=u(_),E=t(48),m=u(E),w="mediasource",A="mediakeys",b="manifest",D="SIDX",P="content",R="initialization",j="xlink",W="codec",H="parse",S="nostreams",l="parse";p.__dashjs_factory_name="ErrorHandler";var Y=m.default.getSingletonFactory(p);Y.CAPABILITY_ERROR_MEDIASOURCE=w,Y.CAPABILITY_ERROR_MEDIAKEYS=A,Y.DOWNLOAD_ERROR_ID_MANIFEST=b,Y.DOWNLOAD_ERROR_ID_SIDX=D,Y.DOWNLOAD_ERROR_ID_CONTENT=P,Y.DOWNLOAD_ERROR_ID_INITIALIZATION=R,Y.DOWNLOAD_ERROR_ID_XLINK=j,Y.MANIFEST_ERROR_ID_CODEC=W,Y.MANIFEST_ERROR_ID_PARSE=H,Y.MANIFEST_ERROR_ID_NOSTREAMS=S,Y.TIMED_TEXT_ERROR_ID_PARSE=l,m.default.updateSingletonFactory(p.__dashjs_factory_name,Y),o.default=Y,d.exports=o.default},{47:47,48:48,51:51}],149:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(w){var A=w.streamId,b=w.representationId;m[A]=m[A]||{},m[A][b]=w}function v(w,A){return m&&m[w]&&m[w][A]?m[w][A]:null}function E(){m={}}var m={};return{save:_,extract:v,reset:E}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="InitCache",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],150:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(){function E(P){return P&&D&&D.boxes&&D.boxes.length!==0&&typeof D.fetch=="function"?b(D.fetch(P)):null}function m(P){var R=[];if(!P||!D||typeof D.fetchAll!="function")return R;for(var j=D.fetchAll(P),W=void 0,H=0,S=j.length;H<S;H++)(W=b(j[H]))&&R.push(W);return R}function w(P){D=P}function A(){if(!D||!D.boxes||!D.boxes.length)return null;var P=D.boxes[D.boxes.length-1].type,R=m(P);return R.length>0?R[R.length-1]:null}function b(P){if(!P)return null;var R=new c.default(P);return P.hasOwnProperty("_incomplete")&&(R.isComplete=!P._incomplete),R}var D=void 0;return{getBox:E,getBoxes:m,setData:w,getLastBox:A}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(164),c=u(y),_=t(48),v=u(_);p.__dashjs_factory_name="IsoFile",o.default=v.default.getClassFactory(p),d.exports=o.default},{164:164,48:48}],151:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(_){function v(){if(!(w&&w.hasOwnProperty("getExpectedLiveEdge")&&A&&A.hasOwnProperty("getCurrentRepresentationInfo")))throw new Error("Missing config parameter(s)")}function E(){v();var b=A.getCurrentRepresentationInfo(),D=b.DVRWindow.end;return b.useCalculatedLiveEdgeTime&&(D=w.getExpectedLiveEdge(),w.setClientTimeOffset(D-b.DVRWindow.end)),D}function m(){w=null,A=null}_=_||{};var w=_.timelineConverter,A=_.streamProcessor;return{getLiveEdge:E,reset:m}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="LiveEdgeFinder",o.default=c.default.getClassFactory(p),d.exports=o.default},{48:48}],152:[function(t,d,o){"use strict";function u(E){return E&&E.__esModule?E:{default:E}}function p(){function E(m,w){return(0,v.default)(m,w)}return{areEqual:E}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(13),v=u(_);p.__dashjs_factory_name="ObjectUtils",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{13:13,48:48}],153:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(E){return E}function v(E){return E}return{modifyRequestURL:_,modifyRequestHeader:v}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="RequestModifier",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],154:[function(t,d,o){"use strict";function u(D){return D&&D.__esModule?D:{default:D}}function p(){function D(){var Y="cue_TTML_"+l;return l++,Y}function P(Y,C,O,q,Q){var pe=void 0,re=void 0,ue="",ee=[],be=void 0,ie=void 0,Te={},ve="",fe="",Ee={onOpenTag:function(Ae,De,ae){if(De==="image"&&Ae==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"){if(!ae[" imagetype"]||ae[" imagetype"].value!=="PNG")return void W("Warning: smpte-tt imagetype != PNG. Discarded");ve=ae["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){ve&&(Te[ve]=fe.trim()),fe="",ve=""},onText:function(Ae){ve&&(fe+=Ae)}};if(!Y)throw ue="no ttml data to parse",new Error(ue);var Se=(0,b.fromXML)(Y,function(Ae){ue=Ae},Ee);H.trigger(A.default.TTML_PARSED,{ttmlString:Y,ttmlDoc:Se});var V=Se.getMediaTimeEvents();for(pe=0;pe<V.length;pe++){var de=(0,b.generateISD)(Se,V[pe],function(Ae){ue=Ae});for(re=0;re<de.contents.length;re++)de.contents[re].contents.length>=1&&(be=V[pe]+C<O?O:V[pe]+C,ie=V[pe+1]+C>q?q:V[pe+1]+C,be<ie&&ee.push({start:be,end:ie,type:"html",cueID:D(),isd:de,images:Q,embeddedImages:Te}))}if(ue!==""&&W(ue),ee.length>0)return ee;throw new Error(ue)}function R(){}var j=this.context,W=(0,v.default)(j).getInstance().log,H=(0,m.default)(j).getInstance(),S=void 0,l=0;return S={parse:P},R(),S}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(46),v=u(_),E=t(47),m=u(E),w=t(51),A=u(w),b=t(18);p.__dashjs_factory_name="TTMLParser",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{18:18,46:46,47:47,48:48,51:51}],155:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(){function _(){try{new window.URL("x","http://y"),j=Y}catch{}finally{j=j||C}}function v(O){var q=O.indexOf("/"),Q=O.lastIndexOf("/");return q!==-1?Q===q+1?O:(O.indexOf("?")!==-1&&(O=O.substring(0,O.indexOf("?"))),O.substring(0,Q+1)):""}function E(O){var q=O.match(l);return q?q[1]:""}function m(O){var q=O.match(W);return q?q[0]:""}function w(O){return!W.test(O)}function A(O){return w(O)&&O.charAt(0)==="/"}function b(O){return O.indexOf("//")===0}function D(O){return H.test(O)}function P(O){return S.test(O)}function R(O,q){return j(O,q)}var j=void 0,W=/^[a-z][a-z0-9+\-.]*:/i,H=/^https?:\/\//i,S=/^https:\/\//i,l=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,Y=function(O,q){try{return new window.URL(O,q).toString()}catch{return O}},C=function(O,q){var Q=v;if(!q||!w(O))return O;A(O)&&(Q=E),b(O)&&(Q=m);var pe=Q(q);return[pe,O].join(pe.charAt(pe.length-1)!=="/"&&O.charAt(0)!=="/"?"/":"")};return _(),{parseBaseUrl:v,parseOrigin:E,parseScheme:m,isRelative:w,isPathAbsolute:A,isSchemeRelative:b,isHTTPURL:D,isHTTPS:P,resolve:R}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="URLUtils",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{48:48}],156:[function(t,d,o){"use strict";function u(m){return m&&m.__esModule?m:{default:m}}function p(){function m(){H=/(?:\r\n|\r|\n)/gm,S=/-->/,l=/(^[\s]+|[\s]+$)/g,Y=/\s\b/g}function w(C){var O=[],q=void 0,Q=void 0;if(!C)return O;C=C.split(H),q=C.length,Q=-1;for(var pe=0;pe<q;pe++){var re=C[pe];if(re.length>0&&re!==E&&re.match(S)){var ue=b(re),ee=ue.cuePoints,be=ue.styles,ie=P(C,pe+1),Te=A(ee[0].replace(l,"")),ve=A(ee[1].replace(l,""));!isNaN(Te)&&!isNaN(ve)&&Te>=Q&&ve>Te?ie!==""?(Q=Te,O.push({start:Te,end:ve,data:ie,styles:be})):j("Skipping cue due to empty/malformed cue text"):j("Skipping cue due to incorrect cue timing")}}return O}function A(C){var O=C.split(":"),q=O.length-1;return C=60*parseInt(O[q-1],10)+parseFloat(O[q]),q===2&&(C+=3600*parseInt(O[0],10)),C}function b(C){var O=C.split(S),q=O[1].split(Y);return q.shift(),O[1]=q[0],q.shift(),{cuePoints:O,styles:D(q)}}function D(C){var O={};return C.forEach(function(q){if(q.split(/:/).length>1){var Q=q.split(/:/)[1];Q&&Q.search(/%/)!=-1&&(Q=parseInt(Q.replace(/%/,""),10)),(q.match(/align/)||q.match(/A/))&&(O.align=Q),(q.match(/line/)||q.match(/L/))&&(O.line=Q),(q.match(/position/)||q.match(/P/))&&(O.position=Q),(q.match(/size/)||q.match(/S/))&&(O.size=Q)}}),O}function P(C,O){for(var q=O,Q="",pe="",re=void 0;C[q]!==""&&q<C.length;)q++;if((re=q-O)>1)for(var ue=0;ue<re;ue++){if(pe=C[O+ue],pe.match(S)){Q="";break}Q+=pe,ue!==re-1&&(Q+=`
`)}else pe=C[O],pe.match(S)||(Q=pe);return Q}var R=this.context,j=(0,v.default)(R).getInstance().log,W=void 0,H=void 0,S=void 0,l=void 0,Y=void 0;return W={parse:w},m(),W}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y),_=t(46),v=u(_),E="WEBVTT";p.__dashjs_factory_name="VTTParser",o.default=c.default.getSingletonFactory(p),d.exports=o.default},{46:46,48:48}],157:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(_){function v(m){var w=0,A=void 0;return m&&m.some(function(b,D){return w=D,!E.contains(b.serviceLocation)})&&(A=m[w]),A}_=_||{};var E=_.blacklistController;return{select:v}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="BasicSelector",o.default=c.default.getClassFactory(p),d.exports=o.default},{48:48}],158:[function(t,d,o){"use strict";function u(_){return _&&_.__esModule?_:{default:_}}function p(_){function v(A){var b=[],D=function(R){return!b.length||!R.dvb_priority||b.indexOf(R.dvb_priority)===-1},P=function(R){return!w.contains(R.serviceLocation)||(R.dvb_priority&&b.push(R.dvb_priority),!1)};return A.filter(P).filter(D)}function E(A){var b=function(S,l){var Y=S.dvb_priority-l.dvb_priority;return isNaN(Y)?0:Y},D=function(S,l,Y){return!l||Y[0].dvb_priority&&S.dvb_priority&&Y[0].dvb_priority===S.dvb_priority},P=0,R=[],j=0,W=void 0,H=void 0;if(H=A.sort(b).filter(D),H.length)return H.length>1&&(H.forEach(function(S){P+=S.dvb_weight,R.push(P)}),W=Math.floor(Math.random()*(P-1)),R.every(function(S,l){return j=l,!(W<S)})),H[j]}function m(A){return A&&E(v(A))}_=_||{};var w=_.blacklistController;return{select:m}}Object.defineProperty(o,"__esModule",{value:!0});var y=t(48),c=u(y);p.__dashjs_factory_name="DVBSelector",o.default=c.default.getClassFactory(p),d.exports=o.default},{48:48}],159:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};o.default=p,d.exports=o.default},{}],160:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(c,_,v){u(this,y),this.code=c||null,this.message=_||null,this.data=v||null};o.default=p,d.exports=o.default},{}],161:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null};o.default=p,d.exports=o.default},{}],162:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.action=y.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};p.ACTION_DOWNLOAD="download",p.ACTION_COMPLETE="complete",o.default=p,d.exports=o.default},{}],163:[function(t,d,o){"use strict";function u(m){return m&&m.__esModule?m:{default:m}}function p(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function y(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(m,w,A){for(var b=!0;b;){var D=m,P=w,R=A;b=!1,D===null&&(D=Function.prototype);var j=Object.getOwnPropertyDescriptor(D,P);if(j!==void 0){if("value"in j)return j.value;var W=j.get;return W===void 0?void 0:W.call(R)}var H=Object.getPrototypeOf(D);if(H===null)return;m=H,w=P,A=R,b=!0,j=H=void 0}},_=t(162),v=u(_),E=function(m){function w(A){p(this,w),c(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),this.url=A||null,this.checkForExistenceOnly=!0}return y(w,m),w}(v.default);o.default=E,d.exports=o.default},{162:162}],164:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function(){function c(_,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,E){return v&&c(_.prototype,v),E&&c(_,E),_}}(),y=function(){function c(_){if(u(this,c),this.offset=_._offset,this.type=_.type,this.size=_.size,this.boxes=[],_.boxes)for(var v=0;v<_.boxes.length;v++)this.boxes.push(new c(_.boxes[v]));switch(this.isComplete=!0,_.type){case"sidx":if(this.timescale=_.timescale,this.earliest_presentation_time=_.earliest_presentation_time,this.first_offset=_.first_offset,this.references=_.references,_.references){this.references=[];for(var v=0;v<_.references.length;v++){var E={reference_type:_.references[v].reference_type,referenced_size:_.references[v].referenced_size,subsegment_duration:_.references[v].subsegment_duration};this.references.push(E)}}break;case"emsg":this.id=_.id,this.value=_.value,this.timescale=_.timescale,this.scheme_id_uri=_.scheme_id_uri,this.presentation_time_delta=_.presentation_time_delta,this.event_duration=_.event_duration,this.message_data=_.message_data;break;case"mdhd":this.timescale=_.timescale;break;case"mfhd":this.sequence_number=_.sequence_number;break;case"subs":this.entry_count=_.entry_count,this.entries=_.entries;break;case"tfhd":this.base_data_offset=_.base_data_offset,this.sample_description_index=_.sample_description_index,this.default_sample_duration=_.default_sample_duration,this.default_sample_size=_.default_sample_size,this.default_sample_flags=_.default_sample_flags,this.flags=_.flags;break;case"tfdt":this.version=_.version,this.baseMediaDecodeTime=_.baseMediaDecodeTime,this.flags=_.flags;break;case"trun":if(this.sample_count=_.sample_count,this.first_sample_flags=_.first_sample_flags,this.data_offset=_.data_offset,this.flags=_.flags,this.samples=_.samples,_.samples){this.samples=[];for(var v=0,m=_.samples.length;v<m;v++){var w={sample_size:_.samples[v].sample_size,sample_duration:_.samples[v].sample_duration,sample_composition_time_offset:_.samples[v].sample_composition_time_offset};this.samples.push(w)}}}}return p(c,[{key:"getChildBox",value:function(_){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===_)return this.boxes[v]}},{key:"getChildBoxes",value:function(_){for(var v=[],E=0;E<this.boxes.length;E++)this.boxes[E].type===_&&v.push(this.boxes[E]);return v}}]),c}();o.default=y,d.exports=o.default},{}],165:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};o.default=p,d.exports=o.default},{}],166:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};o.default=p,d.exports=o.default},{}],167:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};o.default=p,d.exports=o.default},{}],168:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};o.default=p,d.exports=o.default},{}],169:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};o.default=p,d.exports=o.default},{}],170:[function(t,d,o){"use strict";function u(A){return A&&A.__esModule?A:{default:A}}function p(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function y(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}Object.defineProperty(o,"__esModule",{value:!0});var c=function(A,b,D){for(var P=!0;P;){var R=A,j=b,W=D;P=!1,R===null&&(R=Function.prototype);var H=Object.getOwnPropertyDescriptor(R,j);if(H!==void 0){if("value"in H)return H.value;var S=H.get;return S===void 0?void 0:S.call(W)}var l=Object.getPrototypeOf(R);if(l===null)return;A=l,b=j,D=W,P=!0,H=l=void 0}},_=t(98),v=u(_),E=t(162),m=u(E),w=function(A){function b(D,P){p(this,b),c(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.url=D||null,this.type=P||null,this.mediaType=v.default.STREAM,this.responseType=""}return y(b,A),b}(m.default);o.default=w,d.exports=o.default},{162:162,98:98}],171:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};o.default=p,d.exports=o.default},{}],172:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};o.default=p,d.exports=o.default},{}],173:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};o.default=p,d.exports=o.default},{}],174:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};o.default=p,d.exports=o.default},{}],175:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.t=null,this.level=null};o.default=p,d.exports=o.default},{}],176:[function(t,d,o){"use strict";function u(v){return v&&v.__esModule?v:{default:v}}function p(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var y=t(103),c=u(y),_=function v(){p(this,v),this.target=null,this.state=c.default.BUFFER_EMPTY};o.default=_,d.exports=o.default},{103:103}],177:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.time=null,this.range=null,this.manifestInfo=null};o.default=p,d.exports=o.default},{}],178:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.time=null,this.droppedFrames=null};o.default=p,d.exports=o.default},{}],179:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function c(){u(this,c),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},y=function c(){u(this,c),this.s=null,this.d=null,this.b=[]};p.GET="GET",p.HEAD="HEAD",p.MPD_TYPE="MPD",p.XLINK_EXPANSION_TYPE="XLinkExpansion",p.INIT_SEGMENT_TYPE="InitializationSegment",p.INDEX_SEGMENT_TYPE="IndexSegment",p.MEDIA_SEGMENT_TYPE="MediaSegment",p.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",p.OTHER_TYPE="other",o.HTTPRequest=p,o.HTTPRequestTrace=y},{}],180:[function(t,d,o){"use strict";function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function _(){u(this,_),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},y=function _(){u(this,_),this.id=null,this.index=null,this.start=null,this.duration=null},c=function _(){u(this,_),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};o.ManifestUpdate=p,o.ManifestUpdateStreamInfo=y,o.ManifestUpdateRepresentationInfo=c},{}],181:[function(t,d,o){"use strict";function u(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function c(){u(this,c),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};p.INITIAL_PLAYOUT_START_REASON="initial_playout",p.SEEK_START_REASON="seek",p.RESUME_FROM_PAUSE_START_REASON="resume",p.METRICS_COLLECTION_START_REASON="metrics_collection_start";var y=function c(){u(this,c),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};y.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",y.REBUFFERING_REASON="rebuffering",y.USER_REQUEST_STOP_REASON="user_request",y.END_OF_PERIOD_STOP_REASON="end_of_period",y.END_OF_CONTENT_STOP_REASON="end_of_content",y.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",y.FAILURE_STOP_REASON="failure",o.PlayList=p,o.PlayListTrace=y},{}],182:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.t=null,this.mt=null,this.to=null,this.lto=null};o.default=p,d.exports=o.default},{}],183:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.loadingRequests=[],this.executedRequests=[]};o.default=p,d.exports=o.default},{}],184:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};o.default=p,d.exports=o.default},{}],185:[function(t,d,o){"use strict";function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var p=function y(){u(this,y),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};o.default=p,d.exports=o.default},{}]},{},[5]);var Co=function(t,d,o,u){function p(y){return y instanceof o?y:new o(function(c){c(y)})}return new(o||(o=Promise))(function(y,c){function _(m){try{E(u.next(m))}catch(w){c(w)}}function v(m){try{E(u.throw(m))}catch(w){c(w)}}function E(m){m.done?y(m.value):p(m.value).then(_,v)}E((u=u.apply(t,d||[])).next())})},qr=Kn();Zs();Js();var yi=class extends Xn{constructor(d){super(d);this._data=this.data(),this.canvasInstances=[],this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,this._posterImageExpanded=!1,this._init(),this._resize()}_init(){let d=super._init();return this._$element=qr(this.el),d||Ht.error("Component failed to initialise"),d}getCurrentCanvasInstance(){let d=this._data.helper.getRangeById(this._data.range.id);if(!d)return null;let o=Er(d);return o?this._data.helper.getCanvasById(o):null}data(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,autoAdvanceRanges:!0,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute"},enableFastForward:!0,enableFastRewind:!0}}set(d){Ht.groupCollapsed("AVComponent.set()"),Ht.log("Data",d);let o=Object.assign({},this._data);this._data=Object.assign(this._data,d);let u=_r(o,this._data);if(u.includes("helper")&&this._reset(),!this._data.helper){Ht.warn("must pass a helper object");return}if(this.canvasInstances.forEach((p,y)=>{let c={};u.includes("limitToRange")&&this._data.canvasId&&(c.limitToRange=this._data.limitToRange),u.includes("autoAdvanceRanges")&&this._data.canvasId&&(c.autoAdvanceRanges=this._data.autoAdvanceRanges),u.includes("constrainNavigationToRange")&&this._data.canvasId&&(c.constrainNavigationToRange=this._data.constrainNavigationToRange),u.includes("autoSelectRange")&&this._data.canvasId&&(c.autoSelectRange=this._data.autoSelectRange),p.set(c)}),(u.includes("virtualCanvasEnabled")||u.includes("canvasId"))&&this._data.canvasId){let p=this._getCanvasInstanceById(this._data.canvasId);p&&this.canvasInstances.forEach(y=>{y.getCanvasId()!==p.getCanvasId()?y.set({visible:!1}):u.includes("range")?y.set({visible:!0,range:this._data.range?jQuery.extend(!0,{},this._data.range):void 0}):y.set({visible:!0})})}if(u.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach(p=>{p.isVirtual()&&this.set({canvasId:p.getCanvasId(),range:void 0})})),u.includes("range")&&this._data.range){let p=this._data.helper.getRangeById(this._data.range.id);if(!p)Ht.warn("range not found",{id:this._data.range.id});else{let y=Er(p);if(y){let c=this._getCanvasInstanceById(y);if(c){if(c.isVirtual()&&this._data.virtualCanvasEnabled&&c.includesVirtualSubCanvas(y)){y=c.getCanvasId();for(let _=0;_<c.ranges.length;_++){let v=c.ranges[_];if(v.id===p.id){p=v;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?zr.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==y?this.set({canvasId:y,range:jQuery.extend(!0,{},p)}):c.set({range:jQuery.extend(!0,{},p)})}}}}this._render(),this._resize(),Ht.groupEnd()}_render(){}reset(){this._reset()}_reset(){if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach(d=>{d.destroy()}),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){let d=this._data.helper.manifest.getBehavior(),o=this._getCanvases();if(d&&d.toString()==="auto-advance"){let p=new Hn;o.forEach(y=>{p.addCanvas(y)}),this._initCanvas(p)}o.forEach(p=>{this._initCanvas(p)}),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=qr('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=qr('<div class="poster-image"></div>'),this._$posterExpandButton=qr(`
                    <button class="btn" title="${this._data&&this._data.content?this._data.content.expand:""}">
                        <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span class="sr-only">${this._data&&this._data.content?this._data.content.expand:""}</span>
                    </button>
                `),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",p=>{p.preventDefault();let y=this._getPosterImageCss(!this._posterImageExpanded);if(this._$posterImage.animate(y),this._posterImageExpanded=!this._posterImageExpanded,this._data.content)if(this._posterImageExpanded){let c=this._data.content.collapse;this._$posterExpandButton.prop("title",c),this._$posterExpandButton.find("i").switchClass("expand","collapse")}else{let c=this._data.content.expand;this._$posterExpandButton.prop("title",c),this._$posterExpandButton.find("i").switchClass("collapse","expand")}});let u=this._data.helper.getAccompanyingCanvas();if(u||(u=this._data.helper.getPosterCanvas()),u){this._posterCanvasWidth=u.getWidth(),this._posterCanvasHeight=u.getHeight();let p=this._data.helper.getPosterImage();if(p||(p=this._data.helper.getAccompanyingCanvasImage()),p){this._$posterContainer.append(this._$posterImage);let y=this._getPosterImageCss(this._posterImageExpanded);y=Object.assign({},y,{"background-image":"url("+p+")"}),this._$posterImage.css(y)}}}}setCurrentTime(d,o=!1){return Co(this,void 0,void 0,function*(){let u=this._getCurrentCanvas();if(u)return u.setCurrentTime(d,o)})}getCurrentTime(){let d=this._getCurrentCanvas();return d?d.getClockTime():0}isPlaying(){return this.canvasInstances.reduce((d,o)=>d||o.isPlaying(),!1)}_checkAllMediaReady(){this._readyMedia===this.canvasInstances.length&&(clearInterval(this._checkAllMediaReadyInterval),this.fire(Ei.MEDIA_READY),this.resize())}_checkAllWaveformsReady(){this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(clearInterval(this._checkAllWaveformsReadyInterval),this.fire(Ei.WAVEFORMS_READY),this.resize())}_getCanvasInstancesWithWaveforms(){return this.canvasInstances.filter(d=>d.waveforms.length>0)}_getCanvases(){return this._data.helper?this._data.helper.getCanvases():[]}_initCanvas(d){let o=new Es({target:document.createElement("div"),data:Object.assign({},{canvas:d},this._data)});o.logMessage=this._logMessage.bind(this),o.isOnlyCanvasInstance=this._getCanvases().length===1,this._$element.append(o.$playerElement),o.autoAdvanceRanges=this._data.autoAdvanceRanges===!1?this._data.autoAdvanceRanges:!0,o.limitToRange=this._data.limitToRange||!1,o.init(),this.canvasInstances.push(o),o.on("play",()=>{this.fire(Ei.PLAY,o)},!1),o.on("pause",()=>{this.fire(Ei.PAUSE,o)},!1),o.on(Ei.MEDIA_READY,()=>{this._readyMedia++,o.loaded()},!1),o.on(Ei.MEDIA_ERROR,u=>{this.fire(Ei.MEDIA_ERROR,u)},!1),o.on(Ei.WAVEFORM_READY,()=>{this._readyWaveforms++},!1),o.on(Zi.PREVIOUS_RANGE,()=>{this._prevRange(),this.play()},!1),o.on(Zi.NEXT_RANGE,()=>{this._nextRange(),this.play()},!1),o.on(Ei.RANGE_CHANGED,u=>{this.fire(Ei.RANGE_CHANGED,u)},!1),o.on(hn.VOLUME_CHANGED,u=>{this._setCanvasInstanceVolumes(u),this.fire(hn.VOLUME_CHANGED,u)},!1)}getCurrentRange(){let d=this._data.helper.getCurrentRange().id;return this._getCurrentCanvas().ranges.find(o=>o.id===d)||null}_prevRange(){if(!this._data||!this._data.helper)return;let d=this.getCurrentRange();if(d){let u=this.getCurrentTime(),p=d.getDuration().start||0;if(u-p>5){this.setCurrentTime(p);return}}let o=this._data.helper.getPreviousRange();o?this.playRange(o.id):this._rewind()}_nextRange(){if(!this._data||!this._data.helper)return;let d=this._data.helper.getNextRange();d&&this.playRange(d.id)}_setCanvasInstanceVolumes(d){this.canvasInstances.forEach(o=>{o.set({volume:d})})}_getNormaliseCanvasId(d){return d.includes("://")?zr.Utils.normaliseUrl(d):d}_getCanvasInstanceById(d){if(d=this._getNormaliseCanvasId(d),this._data.virtualCanvasEnabled)for(let o=0;o<this.canvasInstances.length;o++){let u=this.canvasInstances[o],p=u.getCanvasId();if(p&&(p=this._getNormaliseCanvasId(p),(u.isVirtual()||this.canvasInstances.length===1)&&p===d||u.includesVirtualSubCanvas(d)))return u}else for(let o=0;o<this.canvasInstances.length;o++){let u=this.canvasInstances[o],p=u.getCanvasId();if(p&&zr.Utils.normaliseUrl(p)===d)return u}}_getCurrentCanvas(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)}_rewind(){if(this._data.limitToRange)return;let d=this._getCurrentCanvas();d&&d.set({range:void 0})}play(){let d=this._getCurrentCanvas();d&&d.play()}viewRange(d){let o=this._getCurrentCanvas();o&&o.viewRange(d)}pause(){let d=this._getCurrentCanvas();d&&d.pause()}playRange(d,o=!1){if(!this._data.helper)return;let u=this._data.helper.getRangeById(d);u&&this.set({range:jQuery.extend(!0,{autoChanged:o},u)})}showCanvas(d){let o=this._getCurrentCanvas();this._data.virtualCanvasEnabled&&o&&o.getCanvasId()===d&&!o.isVisible()?o.set({visible:!0}):this.set({canvasId:d})}_logMessage(d){this.fire(Ei.LOG,d)}_getPosterImageCss(d){let o=this._getCurrentCanvas();if(o){let u=o.$playerElement.find(".options-container"),p=o.$playerElement.parent().width(),y=o.$playerElement.parent().height()-u.height();if(d)return{top:0,left:0,width:p,height:y};{let c,_,v;return this._posterCanvasWidth>this._posterCanvasHeight?(c=this._posterCanvasHeight/this._posterCanvasWidth,_=p*(this._data.posterImageRatio||1),v=_*c):(c=this._posterCanvasWidth/this._posterCanvasHeight,v=y*(this._data.posterImageRatio||1),_=v*c),{top:0,left:p-_,width:_,height:v}}}return null}resize(){this.canvasInstances.forEach(o=>{o.resize()}),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))}};yi.newRanges=!0;var Ao=window.$,ws=class extends Rs{constructor(d){super(d);this._mediaReady=!1;this._isThumbsViewOpen=!1;this._mediaReadyQueue=[];this.attributionPosition=Ds.BOTTOM_RIGHT}create(){this.setConfig("avCenterPanel"),super.create();let d=this;this.extensionHost.subscribe(Ci.OPEN_EXTERNAL_RESOURCE,o=>{d.openMedia(o)}),this.extensionHost.subscribe(Ci.CANVAS_INDEX_CHANGE,o=>{this._lastCanvasIndex!==o&&this._viewCanvas(o)}),this.extensionHost.subscribe(Ci.CURRENT_TIME_CHANGE,o=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.setCurrentTime(o,!0)})}),this.extensionHost.subscribe(Ci.RANGE_CHANGE,o=>{!this._observeRangeChanges()||this._whenMediaReady(()=>{d._viewRange(o),d._setTitle()})}),this.extensionHost.subscribe(Ci.METRIC_CHANGE,()=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({limitToRange:this._limitToRange(),constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges()})})}),this.extensionHost.subscribe(os.CREATED,()=>{this._setTitle()}),this.extensionHost.subscribe(Ci.OPEN_THUMBS_VIEW,()=>{this._isThumbsViewOpen=!0,this._whenMediaReady(()=>{this.avcomponent&&(this.avcomponent.set({virtualCanvasEnabled:!1}),this.extension.helper.getCurrentCanvas()&&this._viewCanvas(this.extension.helper.canvasIndex))})}),this.extensionHost.subscribe(Ci.OPEN_TREE_VIEW,()=>{this._isThumbsViewOpen=!1,this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({virtualCanvasEnabled:!0})})}),this.extensionHost.subscribe(Ci.OPEN_LEFT_PANEL,()=>{this.resize()}),this.extensionHost.subscribe(Ci.OPEN_RIGHT_PANEL,()=>{this.resize()}),this._createAVComponent()}_flushMediaReadyQueue(){for(let d of this._mediaReadyQueue)d();this._mediaReadyQueue=[]}_createAVComponent(){this.$avcomponent=Ao('<div class="iiif-av-component"></div>'),this.$content.prepend(this.$avcomponent),this.avcomponent=new yi({target:this.$avcomponent[0],data:{posterImageExpanded:this.options.posterImageExpanded,enableFastForward:!0,enableFastRewind:!0}}),this.avcomponent.on("mediaerror",d=>{this.config.options.hideMediaError||this.extensionHost.publish(Ci.SHOW_MESSAGE,[d])}),this.avcomponent.on("mediaready",()=>{this._mediaReady=!0,this._flushMediaReadyQueue()},!1),this.avcomponent.on("pause",()=>{this.extensionHost.publish(Ci.PAUSE,this.avcomponent.getCurrentTime())}),this.avcomponent.on("rangechanged",d=>{if(d){let o=this.extension.helper.getRangeById(d);if(o){let u=this.extension.helper.getCurrentRange();o!==u&&this.extensionHost.publish(Ci.RANGE_CHANGE,o)}else this.extensionHost.publish(Ci.RANGE_CHANGE,null)}else this.extensionHost.publish(Ci.RANGE_CHANGE,null);this._setTitle()},!1)}_observeRangeChanges(){return!this._isThumbsViewOpen}_setTitle(){let d="",o,u,p=this.extension.helper.getCurrentRange();p?u=p.getLabel():u=this.extension.helper.getCurrentCanvas().getLabel(),o=wr.LanguageMap.getValue(u),o&&(d=o),Yn.getBool(this.config.options.includeParentInTitleEnabled,!1)&&(p?p.parentRange&&(u=p.parentRange.getLabel(),o=wr.LanguageMap.getValue(u)):o=this.extension.helper.getLabel(),o&&(d+=this.content.delimiter+o)),this.title=d;let y=this.extension.helper.getMetadata({range:p});for(let c=0;c<y.length;c++){let v=y[c].items.find(E=>{if(E.label){let m=wr.LanguageMap.getValue(E.label);if(m&&m.toLowerCase()===this.config.options.subtitleMetadataField)return!0}return!1});if(v){this.subtitle=wr.LanguageMap.getValue(v.value);break}}this.$title.text(xs(this.title)),this.resize(!1)}_isCurrentResourceAccessControlled(){return this.extension.helper.getCurrentCanvas().externalResource.isAccessControlled()}openMedia(d){this.extension.getExternalResources(d).then(()=>{if(this.avcomponent){let o=!1;this.extension.helper.canvasIndex===this._lastCanvasIndex&&(o=!0,this.avcomponent.reset()),this._lastCanvasIndex=this.extension.helper.canvasIndex,this.avcomponent.set({helper:this.extension.helper,adaptiveAuthEnabled:this._isCurrentResourceAccessControlled(),autoPlay:this.config.options.autoPlay,enableFastForward:this.config.options.enableFastForward,enableFastRewind:this.config.options.enableFastRewind,autoSelectRange:!0,constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges(),content:this.content,defaultAspectRatio:.56,doubleClickMS:350,limitToRange:this._limitToRange(),posterImageRatio:this.config.options.posterImageRatio}),o&&this._viewCanvas(this._lastCanvasIndex),this.extensionHost.publish(os.EXTERNAL_RESOURCE_OPENED)}})}_limitToRange(){return Yn.getBool(this.config.options.limitToRange,!1)?!0:!this.extension.isDesktopMetric()}_autoAdvanceRanges(){return Yn.getBool(this.config.options.autoAdvanceRanges,!0)}_whenMediaReady(d){this._mediaReady?d():this._mediaReadyQueue.push(d)}_viewRange(d){this._whenMediaReady(()=>{d&&this.avcomponent&&this.avcomponent.viewRange(d.id),this.resize(!1)})}_viewCanvas(d){this._whenMediaReady(()=>{let o=this.extension.helper.getCanvasByIndex(d);this.avcomponent&&this.avcomponent.showCanvas(o.id)})}resize(d=!0){super.resize(),d&&this.avcomponent&&(this.$avcomponent.height(this.$content.height()),this.avcomponent.resize())}};var Pn=window.$,bs=class extends Ns{constructor(d){super(d)}create(){this.setConfig("downloadDialogue"),super.create(),this.$entireFileAsOriginal=Pn('<li class="option single"><input id="'+Li.ENTIRE_FILE_AS_ORIGINAL+'" type="radio" name="downloadOptions" tabindex="0" /><label id="'+Li.ENTIRE_FILE_AS_ORIGINAL+'label" for="'+Li.ENTIRE_FILE_AS_ORIGINAL+'"></label></li>'),this.$downloadOptions.append(this.$entireFileAsOriginal),this.$entireFileAsOriginal.hide(),this.$downloadButton=Pn('<a class="btn btn-primary" href="#" tabindex="0">'+this.content.download+"</a>"),this.$buttons.prepend(this.$downloadButton),this.$imageOptionsContainer=Pn('<li class="group image"></li>'),this.$imageOptions=Pn("<ul></ul>"),this.$imageOptionsContainer.append(this.$imageOptions),this.$canvasOptionsContainer=Pn('<li class="group canvas"></li>'),this.$canvasOptions=Pn("<ul></ul>"),this.$canvasOptionsContainer.append(this.$canvasOptions),this.$manifestOptionsContainer=Pn('<li class="group manifest"></li>'),this.$manifestOptions=Pn("<ul></ul>"),this.$manifestOptionsContainer.append(this.$manifestOptions);let d=this;this.$downloadButton.on("click",o=>{o.preventDefault();let u=d.getSelectedOption(),p=u.attr("id"),y=u.attr("title"),c=Li.UNKNOWN;if(this.renderingUrls[p])window.open(this.renderingUrls[p]);else{let _=this.getCurrentResourceId();window.open(_)}this.extensionHost.publish(Ci.DOWNLOAD,{type:c,label:y}),this.close()})}_isAdaptive(){let d=this.getCurrentResourceFormat();return d==="mpd"||d==="m3u8"}open(d){super.open(d);let o=this.extension.helper.getCurrentCanvas();if(this.isDownloadOptionAvailable(Li.ENTIRE_FILE_AS_ORIGINAL)&&!this._isAdaptive()){let u=this.$entireFileAsOriginal.find("input"),p=this.$entireFileAsOriginal.find("label"),y=Or.format(this.content.entireFileAsOriginalWithFormat,this.getCurrentResourceFormat());p.text(y),u.prop("title",y),this.$entireFileAsOriginal.show()}if(this.resetDynamicDownloadOptions(),this.isDownloadOptionAvailable(Li.RANGE_RENDERINGS)&&o.ranges&&o.ranges.length){let u=this.extension.helper.getCurrentRange();if(u){this.$downloadOptions.append(this.$canvasOptionsContainer);let p=this.getDownloadOptionsForRenderings(u,this.content.entireFileAsOriginal,Li.CANVAS_RENDERINGS);this.addDownloadOptionsForRenderings(p)}}if(this.isDownloadOptionAvailable(Li.IMAGE_RENDERINGS)){let u=o.getImages();u.length&&this.$downloadOptions.append(this.$imageOptionsContainer);for(let p=0;p<u.length;p++){let y=this.getDownloadOptionsForRenderings(u[p].getResource(),this.content.entireFileAsOriginal,Li.IMAGE_RENDERINGS);this.addDownloadOptionsForRenderings(y)}}if(this.isDownloadOptionAvailable(Li.CANVAS_RENDERINGS)){let u=this.getDownloadOptionsForRenderings(o,this.content.entireFileAsOriginal,Li.CANVAS_RENDERINGS);u.length&&(this.$downloadOptions.append(this.$canvasOptionsContainer),this.addDownloadOptionsForRenderings(u))}if(this.isDownloadOptionAvailable(Li.MANIFEST_RENDERINGS)){let u=this.getDownloadOptionsForRenderings(this.extension.helper.getCurrentSequence(),this.content.entireDocument,Li.MANIFEST_RENDERINGS);!u.length&&this.extension.helper.manifest&&(u=this.getDownloadOptionsForRenderings(this.extension.helper.manifest,this.content.entireDocument,Li.MANIFEST_RENDERINGS)),u.length&&(this.$downloadOptions.append(this.$manifestOptionsContainer),this.addDownloadOptionsForRenderings(u))}this.$downloadOptions.length&&this.$entireFileAsOriginal.hide(),this.$downloadOptions.find("li.option:visible").length?(this.$downloadOptions.find("li.option input:visible:first").prop("checked",!0),this.$noneAvailable.hide(),this.$downloadButton.show()):(this.$noneAvailable.show(),this.$downloadButton.hide()),this.resize()}addDownloadOptionsForRenderings(d){d.forEach(o=>{switch(o.type){case Li.IMAGE_RENDERINGS:this.$imageOptions.append(o.button);break;case Li.CANVAS_RENDERINGS:this.$canvasOptions.append(o.button);break;case Li.MANIFEST_RENDERINGS:this.$manifestOptions.append(o.button);break}})}isDownloadOptionAvailable(d){return this.isMediaDownloadEnabled()}};var Is=class extends Bs{constructor(d){super(d)}create(){this.setConfig("settingsDialogue"),super.create()}};var Cs=class extends Us{constructor(d){super(d)}create(){this.setConfig("shareDialogue"),super.create()}update(){super.update(),this.code=this.extension.getEmbedScript(this.options.embedTemplate,this.currentWidth,this.currentHeight),this.$code.val(this.code)}resize(){super.resize()}};var Ss=Rn(eo());var So={allowStealFocus:!1,authAPIVersion:1,bookmarkThumbHeight:150,bookmarkThumbWidth:90,dropEnabled:!0,footerPanelEnabled:!0,headerPanelEnabled:!0,leftPanelEnabled:!0,limitLocales:!1,metrics:[{type:"sm",minWidth:0},{type:"md",minWidth:768},{type:"lg",minWidth:1024},{type:"xl",minWidth:1280}],multiSelectionMimeType:"application/zip",navigatorEnabled:!0,openTemplate:"http://universalviewer.io?manifest={0}",overrideFullScreen:!1,pagingEnabled:!0,pagingOptionEnabled:!0,pessimisticAccessControl:!1,preserveViewport:!1,rightPanelEnabled:!0,saveUserSettings:!1,clickToZoomEnabled:!0,searchWithinEnabled:!0,termsOfUseEnabled:!1,theme:"uv-en-GB-theme",tokenStorage:"session",useArrowKeysToNavigate:!1,zoomToSearchResultEnabled:!0},xo={contentLeftPanel:{options:{autoExpandTreeEnabled:!0,autoExpandTreeIfFewerThan:20,branchNodesExpandOnClick:!1,branchNodesSelectable:!0,defaultToTreeEnabled:!1,defaultToTreeIfGreaterThan:0,elideCount:40,expandFullEnabled:!0,galleryThumbChunkedResizingThreshold:400,galleryThumbHeight:320,galleryThumbLoadPadding:3,galleryThumbWidth:200,oneColThumbHeight:320,oneColThumbWidth:200,pageModeEnabled:!0,panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!0,tabOrder:"",thumbsEnabled:!0,thumbsExtraHeight:8,thumbsImageFadeInDuration:300,thumbsLoadRange:15,treeEnabled:!0,twoColThumbHeight:150,twoColThumbWidth:90},content:{collapse:"Collapse Contents",collapseFull:"Collapse Gallery",date:"date",expand:"Expand Contents",expandFull:"Expand Gallery",index:"Index",manifestRanges:"Manifest Ranges",searchResult:"{0} search result",searchResults:"{0} search results",sortBy:"Sort By:",thumbnails:"Thumbnails",title:"Contents",volume:"volume"}},dialogue:{topCloseButtonEnabled:!1,content:{close:"Close"}},footerPanel:{options:{bookmarkEnabled:!1,downloadEnabled:!0,embedEnabled:!1,feedbackEnabled:!1,fullscreenEnabled:!0,minimiseButtons:!0,moreInfoEnabled:!0,openEnabled:!1,printEnabled:!1,shareEnabled:!0},content:{bookmark:"Add to bookmarks",download:"Download",embed:"Embed",exitFullScreen:"Exit Full Screen",feedback:"Feedback",fullScreen:"Full Screen",moreInfo:"More Information",open:"Open",share:"Share"}},genericDialogue:{content:{emptyValue:"please enter a value.",invalidNumber:"Please enter a valid number.",noMatches:"No matches were found.",ok:"OK",pageNotFound:"This item does not contain a page with the number you entered. Try switching the numbering mode to 'image'.",refresh:"Refresh"}},headerPanel:{options:{localeToggleEnabled:!1,settingsButtonEnabled:!0},content:{settings:"Settings"}},helpDialogue:{content:{text:"placeholder text",title:"Help"}},moreInfoRightPanel:{options:{canvasDisplayOrder:"",canvasExclude:"",copyToClipboardEnabled:!1,manifestDisplayOrder:"",manifestExclude:"",panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!1,rtlLanguageCodes:"ar, ara, dv, div, he, heb, ur, urd",showAllLanguages:!1,textLimit:4,textLimitType:"lines",limitToRange:!1},content:{attribution:"Attribution",collapse:"Collapse Information",collapseFull:"Collapse Gallery",description:"Description",expand:"Expand Information",expandFull:"Expand Gallery",holdingText:"Your module goes here!",less:"less",license:"License",logo:"Logo",more:"more",noData:"No data to display",page:"Page",title:"More Information",manifestHeader:"About the item",canvasHeader:"About the image",copyToClipboard:"Copy to clipboard",copiedToClipboard:"Copied to clipboard"}},avCenterPanel:{options:{autoPlay:!1,includeParentInTitleEnabled:!1,posterImageRatio:.3,subtitleMetadataField:"contributor",titleEnabled:!0,subtitleEnabled:!0},content:{attribution:"Attribution",currentTime:"Current Time",delimiter:" - ",duration:"Duration",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous"}},settingsDialogue:{content:{locale:"Locale",navigatorEnabled:"Navigator Enabled",clickToZoomEnabled:"Mouse Click To Zoom",pagingEnabled:"Two Page View",reducedMotion:"Reduce motion (disables animations)",preserveViewport:"Preserve Zoom",title:"Settings",website:"<a href='https://github.com/universalviewer/universalviewer#contributors'>more info</a>"}},shareDialogue:{options:{embedTemplate:'<iframe src="{0}" width="{1}" height="{2}" allowfullscreen frameborder="0"></iframe>',instructionsEnabled:!1,shareFrameEnabled:!0},content:{customSize:"custom",embed:"Embed",embedInstructions:"To embed this item in your own website, copy and paste the code below.",height:"Height",iiif:"IIIF Manifest",share:"Share",shareInstructions:"To share this item, copy the URL below.",size:"Size:",width:"Width"}},authDialogue:{content:{cancel:"Cancel",confirm:"Confirm"}},clickThroughDialogue:{content:{viewTerms:"Read Full Terms and Conditions"}},downloadDialogue:{content:{currentViewAsJpg:"Current view {0} x {1}px (jpg)",currentViewAsJpgExplanation:"Opens in a new window",download:"Download",downloadSelection:"Download Selection",downloadSelectionExplanation:"Opens a dialogue to select which pages to download.",editSettings:"Edit Settings",entireDocument:"Entire document ({0})",entireFileAsOriginal:"Entire file",entireFileAsOriginalWithFormat:"Entire file ({0})",noneAvailable:"No download options are available.",pagingNote:"Please turn off Two Page View for additional options.",preview:"Preview",title:"Download",wholeImageHighRes:"Whole image {0} x {1}px ({2})",wholeImageHighResExplanation:"Opens in a new window.",wholeImagesHighRes:"Whole images ({0})",wholeImagesHighResExplanation:"Opens in two new windows.",wholeImageLowResAsJpg:"Whole image {0} x {1}px (jpg)",wholeImageLowResAsJpgExplanation:"Opens in a new window."}},loginDialogue:{content:{login:"Login",logout:"Logout",cancel:"Cancel"}},restrictedDialogue:{content:{cancel:"Cancel"}}},Do={label:"English (GB)",locales:[{name:"cy-GB",label:"Cymraeg"},{name:"en-GB",label:"English (GB)"},{name:"fr-FR",label:"Fran\xE7ais (FR)"},{name:"pl-PL",label:"Polski"},{name:"sv-SE",label:"Svenska"}]},Ro={authCORSError:"Your browser does not support CORS, please upgrade to view this content.",authorisationFailedMessage:"Your log-in attempt did not appear to be successful. Please try again.",canvasIndexOutOfRange:"Canvas index out of range.",fallbackDegradedLabel:"Login",fallbackDegradedMessage:"Please log in to view this content at full resolution.",forbiddenResourceMessage:"Your current access rights are insufficient to view this image",termsOfUse:"Terms of Use",mediaViewer:"Media Viewer",skipToDownload:"Skip to downloads and alternative formats"},As={options:So,modules:xo,localisation:Do,content:Ro};var $s=class extends Ms{constructor(){super(...arguments);this.defaultConfig=As;this.locales={"en-GB":As,"cy-GB":()=>import("./cy-GB-OBPEZVYZ.js"),"fr-FR":()=>import("./fr-FR-EKWXRZJ7.js"),"pl-PL":()=>import("./pl-PL-KQXXMOPU.js"),"sv-SE":()=>import("./sv-SE-UMBWWDO2.js")}}create(){super.create(),this.extensionHost.subscribe(Ci.CANVAS_INDEX_CHANGE,d=>{d!==this.lastAvCanvasIndex&&this.viewCanvas(d),this.lastAvCanvasIndex=d}),this.extensionHost.subscribe(Ci.TREE_NODE_SELECTED,d=>{this.fire(Ci.TREE_NODE_SELECTED,d.data.path),this.treeNodeSelected(d)}),this.extensionHost.subscribe(Ci.THUMB_SELECTED,d=>{this.extensionHost.publish(Ci.CANVAS_INDEX_CHANGE,d.index)})}dependencyLoaded(d,o){d===this.getDependencyIndex("waveform-data")?window.WaveformData=o:d===this.getDependencyIndex("hls")&&(window.Hls=o)}createModules(){super.createModules(),this.isHeaderPanelEnabled()?this.headerPanel=new ks(this.shell.$headerPanel):this.shell.$headerPanel.hide(),this.isLeftPanelEnabled()?this.leftPanel=new Ps(this.shell.$leftPanel):this.shell.$leftPanel.hide(),this.centerPanel=new ws(this.shell.$centerPanel),this.isRightPanelEnabled()?this.rightPanel=new Ls(this.shell.$rightPanel):this.shell.$rightPanel.hide(),this.isFooterPanelEnabled()?(this.footerPanel=new Os(this.shell.$footerPanel),this.mobileFooterPanel=new Fs(this.shell.$mobileFooterPanel)):this.shell.$footerPanel.hide(),this.$shareDialogue=$('<div class="overlay share" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$shareDialogue),this.shareDialogue=new Cs(this.$shareDialogue),this.$downloadDialogue=$('<div class="overlay download" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$downloadDialogue),this.downloadDialogue=new bs(this.$downloadDialogue),this.$settingsDialogue=$('<div class="overlay settings" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$settingsDialogue),this.settingsDialogue=new Is(this.$settingsDialogue),this.isHeaderPanelEnabled()&&this.headerPanel.init(),this.isLeftPanelEnabled()&&this.leftPanel.init(),this.isRightPanelEnabled()&&this.rightPanel.init(),this.isFooterPanelEnabled()&&this.footerPanel.init()}isLeftPanelEnabled(){return Yn.getBool(this.data.config.options.leftPanelEnabled,!0)}render(){super.render()}getEmbedScript(d,o,u){let y=`${this.getAppUri()}#?manifest=${this.helper.manifestUri}&c=${this.helper.collectionIndex}&m=${this.helper.manifestIndex}&cv=${this.helper.canvasIndex}&rid=${this.helper.rangeId}`;return Or.format(d,y,o.toString(),u.toString())}treeNodeSelected(d){let o=d.data;if(!!o.type)switch(o.type){case Ss.IIIFResourceType.MANIFEST:break;case Ss.IIIFResourceType.COLLECTION:break;default:this.viewRange(o.path);break}}viewRange(d){let o=this.helper.getRangeByPath(d);!o||this.extensionHost.publish(Ci.RANGE_CHANGE,o)}};export{$s as default};
/*!
 * jQuery Color Animations v2.2.0
 * https://github.com/jquery/jquery-color
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Sun May 10 09:02:36 2020 +0200
 */
/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */
/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Accordion 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Autocomplete 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Button 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Checkboxradio 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Controlgroup 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Datepicker 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Dialog 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Disable Selection 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Droppable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Blind 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Bounce 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Clip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Drop 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Explode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Fade 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Fold 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Highlight 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Puff 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Pulsate 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Scale 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Shake 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Size 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Slide 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Transfer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Form Reset Mixin 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Labels 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Progressbar 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Resizable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Selectable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Selectmenu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Slider 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Sortable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Spinner 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tabs 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tooltip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/
/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/
/*! codem-isoboxer v0.3.5 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
/*! jQuery UI - v1.13.2 - 2022-07-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
/*! v2.6.7-e2394a6, 2018-03-14T14:47:04Z */
